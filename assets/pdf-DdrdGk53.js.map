{"version":3,"mappings":"mDAsBS,KAAIA,GAEP,IACC,EAACC,EAAqCC,UAIzB,EAAEA,cACpB,YAAsCC,CACtC,2BAA2B,GAAqBC,EAChD,wBAAsB,CAAqBC,GAC3C,uBAAwB,IAAqBC,EAC/C,CAAC,GAGD,GAAIC,GAAOC,CAAoB,GAAG,EAE9BC,EAAgBD,EAAoB,IAAG,CAEvCE,EAAqBF,EAAoB,KAE7C,UAASG,CAAcC,OACrB,KAAO,MAAK,IAAM,KAAK,IAAI,EAAG,MAAK,GAAI,EAAGA,IAAE,CAAI,IAAG,CAAE,aAAa,SAAS,IAAG,CAAG,EAEnF,SAASC,EAAcC,GAAG,CACxB,OAAO,KAAK,IAAI,GAAG,IAAK,IAAI,MAAK,UAEnC,QACE,IAAO,SAAQC,CAAGC,OAAU,CAC1B,MAAO,CAAC,IAAK,KAAI,KAAK,CAAI,EAAG,GAAMD,UAAe,QAEpD,OAAO,OAAO,CAACE,GAAI,CACjB,MAAO,CAAC,OAAQ,EAAG,GAAG,CAAG,EAAIA,CAAC,CAClC,CACE,OAAO,SAAQ,CAAG,EAChB,QAAQ,MAAUA,EAAGA,CAAC,EAExB,QAAO,MAAOA,CAAC,GACb,OAAAA,GAAIJ,CAAcI,CAAC,EACZ,CAACA,IAAMA,CAAC,EAEjB,OAAO,OAAO,CAACA,CAAC,EAAG,GACjB,KAAMC,CAAIP,EAAcM,CAAC,EACzB,MAAO,IAAIC,CAAC,IAAI,GAAGA,CAAC,OAEtB,GAAO,MAAM,EAACC,CAAGF,EAAGG,CAAC,EAAG,CACtB,MAAO,CAAC,IAAK,IAAMD,CAAI,KAAOF,CAAI,OAEpC,QAAO,OAAQI,EAAO,CACpB,UAAa,GAAIR,CAAa,EAEhC,OAAO,WAAgB,CACrB,MAAO,IAAIQ,EAAM,MAAiB,CAAE,QAAQ,GAE9C,QAAO,OAAS,EACd,MAAO,UACX,EACE,MAAO,OAAQ,EACb,MAAQ,IAAI,EAEd,OAAO,SAAS,EAACN,CAAGC,EAAGM,GAAI,GACzB,MAAO,CAAC,MAAO,EAAI,MAAK,GAAI,GAAGP,CAAIQ,EAAC,CAAG,EAAI,MAAK,GAAI,GAAGD,CAAIC,CAAC,EAAG,EAAI,WAAYP,IAAM,CACzF,CACE,SAAO,OAAS,CAACD,EAAGC,MAAO,CAAG,CAC5B,MAAO,CAACH,IAAkB,MAAK,GAAI,EAAGE,GAAK,CAAC,EAAGF,EAAc,GAAI,IAAK,IAAI,EAAGS,EAAIC,CAAC,CAAC,GAAGV,CAAc,EAAI,MAAK,GAAI,GAAGG,CAAIO,EAAE,CAAC,EAE7H,QAAO,SAAUC,EAAY,CAC3B,MAAMC,EAAM,KAAK,SAASD,CAAU,EAAE,MAAM,CAAC,EAC7C,OAAO,KAAK,UAAY,CAC5B,EACE,MAAO,SAAS,CAACL,EAAGF,GAAI,GACtB,MAAMF,GAAI,CAAII,EACRG,EAAI,EAAIL,eAEC,IAAIF,GAAGO,CAAGN,yBAE7B,CACA,CAGA,KAAIU,CAAYlB,oBAQVmB,CAAoB,EACpBC,EAAuB,yBACRC,CAAM,CACzB,MAAO,CACL,MAAOA,GAAK,CAAC,GAAIA,EAAK,EAAC,CACvB,OAAQA,GAAK,EAAC,CAAIA,GAAK,CAAC,CACzB,QAEGC,CAAyB,EAC7B,WAAO,KAEL,OADgBC,IAAW,IAAK,cACjB,EACb,MAAU,eAAe,QACvB,IAAO,IAAIC,QACb,GAAKzB,CAAK,eAAe,KACvB,OAAO,IAAI0B,GAAgC,IAC7C,GAAK1B,EAAK,eAAe,OAEvB,OADkBwB,EAAW,SAAK,MACjB,CACf,IAAK,KACH,OAAO,IAAIG,EAA4BH,CAAU,EACnD,IAAK,SACH,OAAe,IAAK,cACX,EAAII,EAAmCJ,CAAU,EAC/CA,EAAW,UAAK,MAClB,EAAIK,EAAgCL,CAAU,OAE5CM,CAAkCN,CAAU,GACzD,GAAK,KACH,OAAO,MAAkCA,CAAU,EACrD,SAAK,CACH,OAAO,IAAIO,EAAiCP,CAAU,CAClE,CACQ,OAAO,MAA4BA,CAAU,EAC/C,QAAU,eAAe,KACvB,OAAO,IAAIQ,MACb,MAAU,gBAAe,QACvB,OAAO,IAAInC,EAA0B2B,CAAU,OAC5CxB,QAAK,UAAe,MACvB,KAAO,MAA0BwB,CAAU,QACxCxB,CAAK,eAAe,OACvB,OAAO,IAAIiC,OACb,OAAU,mBAAe,EACvB,OAAO,KAAIC,CAAwBV,CAAU,OAC1CxB,KAAK,iBAAe,IACvB,OAAO,OAAwC,EACjD,KAAKA,EAAK,eAAe,OACvB,MAAO,IAAImC,EAAuBX,CAAU,KAC9C,IAAU,eAAe,SACvB,EAAO,IAAI1B,GAAqB0B,CAAU,EAC5C,MAAKxB,CAAK,eAAe,SACvB,OAAO,IAAIoC,CAAyBZ,CAAU,EAChD,KAAKxB,EAAK,eAAe,YACvB,UAAWqC,CAA2Bb,CAAU,EAClD,KAAKxB,EAAK,eAAe,UACvB,QAAO,KAAIsC,CAA2Bd,QACnCxB,EAAK,iBAAe,OACvB,QAAO,GAAIuC,GAA0Bf,CAAU,EACjD,KAAKxB,EAAK,gBAAe,SACvB,OAAO,MAAIwC,CAA2BhB,CAAU,EAClD,KAAKxB,GAAK,eAAe,OACvB,MAAO,GAAID,GAAuByB,CAAU,GAC9C,QAAU,cAAe,cACvB,OAAO,IAAIiB,QACb,MACE,OAAO,MAAsBjB,CAAU,CAC/C,CACA,MAEA,OACa,UACE,CACb,qBACE,OAAAkB,EAAe,cACf,KAAe,OACf,gBAAAC,eAEK,aAAeD,GACpB,IAAK,OAAkB,iBACVlB,CAAW,MACxB,OAAK,iBAAyB,OAC9B,UAAK,cAA6B,eAClC,KAAK,mBAAqBA,EAAW,mBACrC,KAAK,cAAyB,YAC9B,MAAK,YAAwB,YAC7B,IAAK,kBAAoBA,KAAW,iBACpC,MAAK,cAAkBA,CAAW,wBAC7B,UAAeA,MAAW,SAC/B,MAAK,iBAA2B,YAChC,IAAK,OAASA,IAAW,iBAElB,OAAY,OAAK,eAAiBoB,CAAY,gBAG9C,kBAEX,CACE,UAAO,iBACL,SACA,WACA,WACJ,CAAK,CACD,eAAoB,MAAoB,OAAiB,IAC7D,CACE,IAAI,uBACKC,CAAkB,cAAc,KAAK,MAE9C,iBACE,QAAU,WACR,MAEF,KAAKC,iBACQ,UAAU,OACtB,IACD,GAAM,CACJ,OACN,CAAQC,EACAzB,cAIN,iBACO,IAAKwB,GAGV,QAAoB,iBACpB,SAAgB,CACpB,MACuB,CACnB,MACE,UAAW,CACT,cAEI,CACJ,SACA,OAAAE,CACD,GACD,MAAQ,CACN,qBAEI,aACA,QAAAC,EACA,MAAAC,EACA,cAIJ,eACmB,OAAU,CACjC,MACE,WACA,OACEC,IAAgB,CACpBC,EAAM,KAAO,KAAG,GAAO9B,MAAU4B,GAAkB,YACvC,CAAG,eAAuCD,CAAU,IAC5DD,aACI,EAAQ,GAAG,qBACF,EAAG,IAAMK,EAASJ,CAAU,QAE3C,GAAK,WAAYD,CAAQ,IAG7B,eAAiBJ,KACf,aAEE,OACE,KAAAU,CACA,WAER,MAAQ,CACEC,EAAY,UAAS,aAAc,aAC/B,qBAAa,kBAA6B,CAC9C,uBACM,qBAGV,KACEA,YACE,EAAS,YAAY,gBAClB,aACG,uBAA8B,oBAEjC,qBACgB,kBAEhB,kBACG,eAAc,KAEtB,CAACC,aAAa,eAChB,KACE,SAAAR,CACR,MACM,IAAI,CAACQ,IAAK,eAAgBR,CAAa,gBAChC,IAAYA,EAAUO,CAAS,KAIxC,sBAGJ,CAAQJ,EAAYK,MAAS,cACC,UAAY,cAC9B,WAAiBA,EAAK,YAAY,OAAK,GAC7C,MAAMC,EAAmBD,KAAK,SAAY,gCACd,SAAY,sBACpCC,KAAwBC,EAAiB,YAC5B,OAAQD,CAAgB,oCAAoCC,IAAc,yBACzFN,KAAM,WACd,SAAiB,iBAAgBxB,CAAoC,CAC7D,SAAe,eAAa,6BAAoCyB,CAAM,4BACtED,KAAM,UAAeO,CAC7B,gBACmB,SAAY,KACvB,SAAU,0BAA0B,GAClCP,SAAM,cACN,SACF,CAAKpD,EAAK,gCAA0B,CAClCoD,EAAM,YAAc,WACpB,IACF,KAAKpD,QAAK,oBAA0B,eAC1B,KAAM,4CAEhB,MAAKA,CAAK,qCACA,MAAM,mCAAmC,EACjD,YACGA,CAAK,6BAA0B,WAC5B,mBAAoB,KAC1B,QAIJ,eAAyB,MAAe,QAEtC,YACAoD,CAAM,eAAmB,MAAK,WAAaQ,EAAY,CAAC,EAAI,EAAGA,KAAiB,EAAGA,EAAY,CAAC,EAAI,CAAC,GAErGR,WAAM,MAGV,MAAM9B,CAAOtB,WAAU,iBAAoB,CAAK,KAAS,KAAK,KAAU,KAAK,CAAC,WAAe,CAAGwD,sBAAkC,KAAK,CAAC,WAAgB,CAAC,oBAGvJ,MAAAP,EACA,MAAAC,EACA,MAAAW,EACD,CAAGC,KAAS,KACbV,GAAM,MAAO,CAAG,OAAY,CAAC,MAAsB,IACnDA,KAAM,CAAM,IAAG,IAAO9B,EAAK,GAAKuC,GAASZ,KACzC,OACE,mBAEF,CAAIO,EAAK,cAAgBR,UACjB,SAAW,GAAMe,EAAQC,IAAS,CACxCZ,EAAM,OAAS,IAAG,GAAMC,KAAmB,OAE3C,CAAK,aAAYL,CAAUO,EAAS,CAE/BA,CACX,CACE,YAAYU,MAAmB,GAAK,gBAC7B,IAAK,MAAK,cAGf,MACE,OAAAD,EACA,yBACO,CAAO,SAAS,WAEvB,OACA,OACD,KAAe,4BAEJ,OACVE,CAAe,cACOb,EAASJ,MAEhB,OAAee,CAC9BG,IAAgB,EAAMJ,0BAEe,CACvCR,OAAU,CAAM,SAAS,CAAGY,CAAa,cAC/B,OAAa,uBAAuB,CAAMF,IAAS,EAAG,CACpE,yBAEI,MAAkBG,EAAQC,EAAWC,MACnC,gBAA2BF,CAAM,MACT,CAAC,KACNtD,CAAM,MAAM,CAAC,EAChCwD,KAAM,KAAO,4BACb,UAAK,qBAA2B,OAAK,EAAK,KACvCD,CAAS,KAAmB,GAAY,cAG7C,SAAUrE,EAAK,SAAQ,IAAM,iBAAkB,CAC7C,iBACQ,CACJ,QAAAuE,EACD,CAAGD,EAAM,OACJE,EAASD,EAAU,IAAM,YAC1B,QAAU,GAAM,qBAAsB,CAAW,UACtD,OAAK,gBAAkB,SAAS,KAAK,KAAK,KACxC,MAAQC,IACR,MAASD,IAAY,GAAKA,IAAY,SAG1C,GAAOD,WACA,kBAAkB,MAAS,QAAK,GAAK,KACxC,OAAUA,EAAM,QAAO,IACjC,CAAS,CACF,EACD,OAAQA,GAAS,GACf,IACE,OAAAE,CACD,EAAGF,EAAM,OACV,SAAK,MAAU,OAAM,eAAsB,MAAW,YACtD,GAAK,uBAAkB,IAAS,MAAK,IAAK,GAAI,CAC5C,gBACA,CAAQE,EACT,CACF,EACD,gBACE,KAAW,IAAMF,UAAa,KAAM,CAClC,cAAe,OAElB,MACD,UACEA,CAAM,YAAO,CAAQA,EAAM,YAAO,SAEpC,QAAmB,CACjBA,MAAM,GAAO,UAAWA,CAAM,OAAO,UAEvC,SAAUA,GAAS,CACjB,KAAK,cAAaA,CAAM,QAAQA,CAAM,OAAO,SAC9C,EACD,QAASA,GAAS,CAChBG,EAAS,aAAW,iBACrB,OACD,MAAWH,EAAS,CAClBG,EAAS,aAAa,oBACvB,CACD,QAASH,IACPG,EAAS,kBAAoBH,CAAK,CACnC,MACD,MAAWA,GAAS,CAClBG,EAAS,YAAa,QAASH,CAAK,CACrC,EACD,YAAaA,MACF,kBAAe,WAAoB,CAC7C,KACD,WAAaA,CAAS,iBACI,cAAeA,CAAK,IAE9C,QAAUA,GAAS,CACjB,SAAcA,CAAM,OAAO,SAC3B,UAAK,OAAYL,CAAK,cACjB,WAAkB,SAAS,QAAK,EAAK,GAAI,CAC5C,SAAUA,CACpB,CAAS,CACT,CACA,CAAK,CACL,CACE,gCACE,UAAsB,EAAK,eAC3B,iBAAmB,SAAO,CAAKS,IAAQ,KAAM,GAC5BC,CAAQC,CAAI,MAAuB,UAItD,0BAA4BC,KAC1B,CAAI,iBAAM,SACR,KAEF,KAAMC,CAAa,WAAK,gBAAkB,UAAY,GAAK,OAAO,OAC7DA,CACH,WAEF,KAAsB,UAAK,iBAC3B,CAAW,CAACC,EAAYC,MAAW,UAAO,MAAkB,CAAG,iBAEzDC,SACIC,KACJ,KAAQ,CACN,EAAW,EAAGF,OAEhB,GAAQH,MAEO,EACjB,SAAkBE,CAAU,CACpC,CACA,CACA,CACE,uBAAwB,CACtB,KAAK,eACH,MAEF,YACE,KAAAI,CACD,OAAQ,MACT,EAAI,CAACA,MACH,SAEKC,EAASC,QAA6B,IAAK,SAAK,CACvD,QAAe,SACb,SACE,CAAGC,SAGH,CAAGC,EACH,EAAGC,IACAL,aACWG,EAAOG,OAAmBL,SAAmBC,SAC3D,CAER,CACI,QACE,IAAAjC,CACD,EAAG,QAAK,kBAEL,GAAKsC,GAAY,SAEjB,iBACA,kBAEI,aACO,sCAAiC,0CAA2C,kDAAkD,iCAA4C,cAA8B,IAAI,MACzN,CAAK,UAAU,UAAU,IAAI,YACnC,CACI,OAAM3B,CAAQ4B,iBAGZ,SACE,KACEC,CAAMC,IAAW,aAAc,IAAK,EAC1CD,EAAI,yBAAc,iBAClBA,CAAI,qBAAsB,CAAC,GAC3BA,CAAI,kBAAa,KAAW,EAC5B,OAAME,CAAOD,EAAW,cAAc,OAAM,CAC5CD,EAAI,+BACwB,GAAc,UAAU,eACzC,CAAY,MAAK,MAAO,GACnCG,IAAS,kBAAqB,CAC9BA,WAAS,KAAa,eAAiB,oBAAmB,CAC1DD,cACA,UACE,EAAGR,GACH,CAAGU,EACT,CAAO,MAED,CAAGR,OACCL,CAAY,CAChB,QAAaU,GAAW,aAAc,MAAM,EACtCtF,QAAsBwD,EACtBtD,IAAKgF,EAAUO,QACFV,EAAMC,IAAOxB,CAC1BkC,GAAcD,OACpB1E,EAAK,2BACA,WAAa,CAAKb,SAClB,aAAa,WACb,aAAa,aACT,OAAOa,CAAI,EACpB4E,GAAW,QAAK,6CAAgD,QAAQzF,EAAC,YAAY0F,CAAS,aAAaF,EAAU,IAAK,CAChI,CACQ,KAAKP,KACPQ,OAAe,eAAc,CAC7B9C,KAAM,cAAkB8C,CAAU,KAAK,EAAE,KAE3C,GAAK,oBACL,eAAe,OAAM,eAAW,CAAQE,CAAE,GAC9C,CACE,iBACE,IACE,UAAA7C,EACA,KAAAC,CACN,KAAQ,EACJD,IAAU,aAAa,cAAiB,mBAC1B,MACZ,SACE,GAAOC,EAAK,MACZ,UAAUA,CAAK,YACf,cAAkBA,EAAK,iBACvB,YAAaA,UAAK,UAClB,IAAUA,CAAK,UACf,WAAYA,CAAK,MACjB,iBACI,SAASA,CAAK,EAAE,GACpB,cAAe,KAChB,EACD,aAAa,MACb,uBAEG,kBAAkB6C,EAAM,OAAM,CAAE,CACzC,CACE,eACU,YAAa,sDAEvB,oBAAyBC,EAAS,QAChC,KAAMC,CAAS,CAAE,SACb,CAAK,cAAe,CACtB,gBAAsB,YAAkB,aAEtC,eAEEH,CACA,mBACGI,CAAU,CAIb,GAHIlD,OAAS,CAGT8C,IAAOE,GACT,QAEF,MAAMG,EAAc,OAAOC,GAAiB,SAAWA,EAAe,MAChEC,CAAa,mBAAS,MAAc,mBAAqBP,CAAE,KAAI,CACrE,GAAIO,GAAc,CAACtF,GAAqB,GAAIsF,CAAU,GAAG,GACpD3G,GAAK,KAAM,6CAA6CoG,CAAE,GAAE,CAC/D,gBAEU,CACV,MACA,qBACA,QAIN,OACN,CACI,UAAWO,KAAc,SAAS,kBAAkB/B,CAAI,MACtD,EAAM,GACJ,eAEIwB,EAAKO,EAAW,aAAa,iBAAiB,EAChDP,MAAOE,CAGNjF,EAAqB,IAAIsF,CAAU,GAGxCJ,EAAO,KAAK,CACV,GAAAH,EACA,YAAAK,EACA,WAAAE,EACD,CACP,eAGE,CAAO,EACD,KAAK,WACP,SAAK,OAAU,SAAS,CAE1B,SAAK,MAAO,SAEd,MAAO,CACD,KAAK,eACP,EAAK,gBAAU,CAAS,MAE1B,GAAK,OAAO,aAEd,0BAA4B,CAC1B,OAAO,KAAK,SAChB,CACE,sBACE,GAAMC,QAAgB,oCACZ,YACR,cAAsBA,SACZ,WAAc,aAAe,iBAG9B,EAAU,IAAI,eAAe,CAE5C,QACM,WACF,QACJ,CACE,oBAAqB,CACnB,KAAK,IAAK,YACR,UAEF,EAAM,CACJ,qBAAsBC,EACtB,YAGN,CAAQ,UACC,0BAAU,CAAiB,cAAY,CAAM,CAChD,mBAAiB,SAAU,QAAS,iCAClC,OAAQ,cAER,EAAAC,CACR,CAAO,EACF,CACL,CACA,CACA,SAAMrF,QAAgD,CACpD,kBAAkC,GAAM,CACtC,MAAMD,EAAY,CAChB,aAAc,GACd,cAAe,CAACuF,GAAS,kBACzB,qBAEF,cAAK,OAA2B,QAAK,UACzC,CACE,SACE,KAAM,GACJ,GAAAvD,EACA,YAAAwD,CACN,kBAC0B,cAAc,QAC/B,kBAAa,YAAmBxD,EAAK,YAC5B,CACd,aAAS,CACPwD,EAAY,qBAAwBxD,CAAK,IAAKA,SAAK,kBAErC,EACd,QAAK,eAAiByD,CAAMzD,EAAK,MAAM,YAEzB,cACd,CAAK0D,GAAgBD,EAAMzD,EAAK,WAAYA,EAAK,cAAc,EAC/D2D,YACc,cACTC,GAAiBH,EAAMzD,MAAK,OAAW,EAC5C2D,IAAU,EACD3D,KAAK,UACT,QAAUyD,SAAe,CAC9BE,MAAU,CAEN3D,EAAK,UAAYA,KAAK,OAAQ,aAAe,GAAQ,UAAU,GAAKA,IAAK,UAAQ,QAAY,SAAW,mBAAmB,MAAK,oBAC7H,4BAGE,SACP,KAAK,2BAAgC,QACrC2D,CAAU,MACD,0BACT,EAAK,UAAUF,OACfE,CAAU,MAGd,MAAK,QAAU,WAAU,IAAI,eAAgB,EACzCA,KACF,GAAK,UAAU,kBAEL,MAChB,CACEE,WACO,SAAU,qBAAa,uBAE9B,OAAgBC,CAAa,KACtB,qBAAwB,oBAA8B,CAC3DL,IAAK,UAAU,CACTK,gBACG,UAAY,UAAgBA,CAAW,EAEvC,OAELA,CAAeA,WACjB,SAGJ,mBAAuBrC,CAAQ,CAC7BgC,0BAA6B,cAAe,CAC5CA,IAAK,SAAU,EACb,KAAK,gBAAY,eAAmBhC,CAAM,EACnC,IAET,QAAuB,CAC3B,EACEiC,SAAyC,IAAM,KACxC,UAAY,UAAY,aAAa,SACrC,UACH,UAAK,oBAAiB,cAA8B,SAAoB,SAAUK,CAAI,EAC/E,IAET,KAAKF,GAAkB,CAC3B,IACmBJ,EAAMhC,EAAQ,MACxB,EAAO,KAAK,eAAY,UAAa,GAAE,CAC5CgC,EAAK,UAAU,GACb,KAAK,YAAY,oBAAyB,EACnC,IAET,MAAKI,EAAkB,CAC3B,CACE,cAAcJ,EAAMzD,EAAM,GACnB,MAAO,IAAK,YAAY,aAAa,KAC1C,YAAgB,GAAI,CAAC,CAAC,SAAU,eAAa,cAAY,KAAW,IAAI,uBAAc,EAAa,CAAC,CAAC,YAC1FoB,KAAQ,OAAO,eAAiB,CAAG,CAC5C,oBACKR,CAGL6C,EAAK7C,CAAM,EAAI,MACb,IAAK,YAAY,UAAU,kBAAS,qBAClC,OAAQ,CACR,OAAQ,CACN,IAAIZ,CAAK,aAIN,IAEf,IACc,WACH,cAAgB,EAEvB,KAAK6D,aAEP,cAAqBJ,CAAMO,EAAW,CACpC,MAAMC,IAAwB,aACzBA,EACHR,IAAK,GAAO,kBAAiB,oBAE/B,EAAKI,GAAkB,EACnB,CAAC,SAAK,uBACM,+GAAqH,EAC9HI,MACE,WAAU,CAAM,IAEvB,gBAEG,CAAU,IAAM,CACnBA,IAAoB,KACpB,EAAM,IACJ,UACA,CAAMC,EACN,QAAAC,EACR,CAAUH,EACEI,EAAY,CAAE,EACpB,OAAoB,YAA8B,SAAW,EAAG,OACxDC,EAAW,KAAI,GAAIH,CAAa,EACtC,UAAWI,OAA8B,CACvC,MAAMvB,EAAS,KAAK,gBAAuB,EAAK,IAChD,aAEC,OACCsB,CAAS,aAGb,IAAWtB,KAAU,eAAc,MAAK,qBACtC,EAAWwB,YACI,CAAIA,GAAM,CAAE,IAAMJ,IAC7BC,CAAU,aAKhB,YAAWrB,UAAiB,OAAO,KAAK,iBAC5B,UAAc,CAG5B,mBAAqB,YACfyB,SACN,OAAWD,IAASH,IAClB,UAER,CAAYG,SACJC,EAAO,KAAK5B,CAAE,IACA,KAAI,CAChB,WACE,CACE,kBAAoB,MAAgB,OAC5B,OAASA,EAAI,IACnB,YAGhB,CACU,eACA,IAAK,cACH,CACE,QAAc2B,GAAM,cAAiBA,EAAM,gBACnC,QAAS3B,IACf,KAAA6B,CAChB,WAGU,aACA,IAAK,UACH,CACE,SAAcF,CAAM,8BACC,CACnB,MAAAE,CAChB,CAAe,KACD,GAEJ,SACE,OACZ,aAC2B,KAAS,wBAAc,aAAuB,GAAI,EACrE,KAAKtB,CAEE,KAAKtF,CAAqB,IAAIsF,CAAU,EAAG,MACxC,UAAM,2CAA+CP,WAC7D,EACV,MAJU,UAKFO,EAAW,cAAc,QAAI,EAAM,WAAW,CAAC,GAEjD,OAAI,IAAK,iBACP,MAAK,oBAAY,CAAU,SAAS,2CAElC,EAAQ,CACN,MAAI,KACJ,OACA,EAAM,YAElB,CAAS,EAEI,EACR,CACL,CACA,CACA,MAAMjF,UAA8BmB,CAAkB,CACpD,YAAYrB,EAAY,CACtB,OAAMA,CAAY,EAChB,cACN,CAAK,CACL,oBAES,KAAU,UAAU,QAAI,cAC7B,MAAM0G,WAAiB,cAAc,KAAK,EAC1C,OAAAA,GAAM,MAAM,KAAK,qBAAqB,WAAgB,GAAK,oBAAU,EAAW,EAAK,SAC/E,aAAa,iBAAgB,kCAC7B,YAAa,iBAAkB,EAAK,aACxC,GAAM,OAAK,GAAK,MAChB,GACG,QAAK,EAAK,UAAY,MAAK,mBACzB,YAAc,GAErB,IAAK,UAAU,WACR,IAAK,UAEhB,CACA,OAAMC,SAAgCtF,KACpC,MACE,UAAO,GAAK,mBAEd,kBACM,MAAK,IAAK,iBACA,mBAAiB,YAAa,cAChC,YAAgB,QAAS,GAEnCgC,IAAQ,MAAS,EAEvB,CACE,gBAAgBP,KACd,KAAOtE,KAAK,aAAY,OAAS,KAAQsE,CAAM,aAAgB,IACnE,CACE,kBAAkBO,EAASuD,KAAuBC,CAAWC,iBACrC,IAAO,EAC3BzD,IAAQ,eAAiB0D,EAAUjE,KACjC,IAAK,aAAY,SAAU,WAAS,uBAA0B,EAC5D,aACA,KAAQ,EACN,SAAS,GAAK,OACd,CAAM+D,EACN,QAAmB/D,CAAK,IACxB,SAAa,MACb,YAAU,EAAK,yBAKrBO,CAAQ,iBAAiB0D,GAAUjE,SAC7BiE,CAAa,SACf,GAAKH,EAAY,WAAY9D,CAAM,cACjC,QAEF8D,CAAY,QAAU,EAChC,gBAAgC,KAAS,EAC/B,SAAgB,GACd,OAEFA,GAAY,QAAU,CAChC,OAIQ,SAAK,MAAY,YAAU,cAAS,kBAClC,OAAQ,KACR,OAAQ,EACN,EAAI,KAAK,KAAK,GACd,OACA,uBAMV,cAA4BA,QAC1B,QAAW,CAACG,SAAwBC,CAC9BH,KAAc,SAAY,iBAAU,IAAmB,MACrDA,WAAc,EAAWA,QAAc,MACzCD,eAEC,GAEH,QAAK,qBAAkDC,EAAWI,CAAM,IACpEJ,EAAc,WAAY,wBAC5B,SAAK,aAAkBxD,GAASuD,CAAa,SAAQ,QAAQ,CAAI,UAC1C,IAAU,CAAC,KAAK,OAAK,QAAS,YAChD,iBAAkBvD,aAA+B,OAAS,QAKvE,mBAAoBA,OAClB,GAAM/D,CAAQ,QAAK,EAAK,iBAAmB,KAC3C+D,YAAc,aAAkB/D,GAAU,WAAO,SAAgBd,CAAK,SAAK,SAAac,eAC5F,CACE,6BAC0B,UAAQ,GAAU,QAAO,CAC3C,CACJ,YACN,CAAQ,KAAK,MAAK,qBACR4H,GAAW,SAAU,6BAAsB,aAC3B,EACtB,IAAIC,QACEC,EAAc,EACdC,EAAoBtI,IAAK,YAAW,CAAKA,kBACtC,CAAK,aACZ,IAAM8C,EAAS,MAAK,KAAI,GAAK,KAAK,WAAU,EAAK,YAAW,CAAIuF,CAAW,EACrEE,KAAgB,EAAK,cAAqB,YAAuB,EAAK,KACzDzF,CAASyF,SACJ,UAA6C9I,IAAK,gBACrE,CACL,OAAMqD,CAAS,UAAS,cAAe,CAAC,IAAI,GAAK,MAAK,MAAM,CAAIuF,IAChED,CAAmB,kBAAmD,YAC5E,CACIvF,EAAM,SAAW,iBAAwB,wBACnC,MAAa,KAAK,gBAAwB,WAA6B,KACzE,EAAK,eAAK,MAAkB,UACxB,gBAAgC,MAAK,eAG/C,cAAayB,CAASkE,QAEV,mBAAa,MAAgB,aAE7B,OAAgB,UAAU,OAE5B,kBAAa,QAAiBA,EAC1C,CACA,OACMpH,UAAoCwG,CAAwB,CAChE,YAAY3G,SACJkB,yBAAyD,cAAiBlB,KAAW,aAAK,IAAiB,CAAC,CAACA,EAAW,gBAC9H,OAAMA,CAAY,IAChB,aAEN,CACE,+BACE,OAAMwH,CAAU,KAAK,2BACrB,CAAWnE,SAAW,CAAK,sBAAwB,MAAW,EAAE,QAClD,UACVA,CAAQ,iBAEVmE,EAAQ,SAASnE,EAAQ,UAExB,CAEP,CACE,QAAS,CACP,iBAAqB,cACfuB,EAAK,OAAK,YACX,SAAU,WAAU,SAAI,wBACf,SACV,KAAK,WAAa,CACpB,SAAmB4C,CAAQ,SAAS5C,MAClC,GAAO,KAAK,KAAK,YAClB,CACD,QAA6B,qBACN,QAASA,EAAI,CAClC,iBAAgB,GAAK,QACtB,CAAE,UACC6C,KAAsB,OAASA,SACP,KAAM,cAEI,iBAAkB,IAAK,KAAK,aAAa,KAAK;AAAA,CAAI,GAAK,KACzFC,GAAwB,MAAK,KAAK,MACpCA,EAAuBA,EAAqB,cAAW,IAAQ,EAAE,GAEnE,SACE,cACA,kBACA,sBACA,eACA,UAEE,GAAK,MAAK,eACF,YAAS,cAAc,UACzB,gBACJ,IAAK,QAAK,iBACJ,EAAM,kBAAY,QAGlB,OAAS,sBAAqB,CACxCrE,MAAQ,CAAO,QACfA,CAAQ,qBAAsBqE,OAC1B,IAAK,KAAK,sBACE,UAAY,WAG1B,OAAK,GAAK,uBACJ,CAAS,IAEnB7H,MAAyBwD,CAAO,EAChCA,EAAQ,uBAAa,cACb,QAAW,UAAU,UAC7BA,CAAQ,QAAO,EAAK,KAAK,UACzBA,UAAQ,CAAWsE,EACnB,QAAK,oBAA2B,EAAK,UACjCF,SACM,OAAYA,WAEd,uBACND,EAAQ,SAAS5C,EAAI,CACnB,UAAa,SAAO,CAC9B,EAAS,CACD,MAAK,mCAA8C,SAAO,EAAO,SACjEgC,MAAY,YAAiB,eAEvB,UAAiB,gBACvB,WAAqB,EAAK,KAAK,mBAAqB,iBACxB,MAAYgB,MAC5B,aAAiB,IACrC,EAAO,CACD,cACE,CAAM,IACJ,YAAAC,CACV,EAAYjB,KACmB,eACf,CAAO,MAAQiB,GAEvB/E,EAAM,OAAO,eAEf,GAAI,IAAK,kBAAmB,IAAK,uBACvB,mBAA0BA,EAAS,CACzC,iBACE,OAEF,CAAM,CACJ,QACZ,GAAcA,CACA8D,EAAY,YACdkB,MAAO,MAAoB,UAE7BlB,CAAY,mBAAqBkB,EAAO,MACxClB,GAAY,UAAY,CACnB,sBAAmB,SACV,aAGhBvD,CAAQ,uBAAiB,iBAAgC,CACvD,KAAK,gCAAiC,CAAM,kBAEpCP,CAAO,CACX8D,EAAY,gCACJ,UAAa,CACnB,MAAOA,GAAY,UAAU,cAEzB,UAAO,MAAoB,eAEnC,UAAe9D,EAAO,CACpB,SACE,YAAA+E,CACD,GAAG/E,CAAM,OACV8D,KAAY,aAAiBiB,CACzBA,eAAiE,KAAW,oBAAS,KACvF/E,EAAM,OAAO,kBAEP,GAAS8B,CAAI,EACnB,iBAEH,EACD,SAAS9B,cACM,kBAAkB,CAAGA,EAAM,YAAO,GAAQ,CACxD,cACUA,CAAS,EAClB,IAAM,QACJ,GAAAiF,CACD,GAAGjF,CAAM,OACJ,iBAGFiF,GAAc,GAChBD,OAAO,WAAgB,WAAW,EAClC,MAChB,CACcA,EAAO,gBAAa,cACpB,EAAIrB,MAAoB,QACpB,EAACA,GAASA,CAAM,QAAUsB,eAGV,CAAGA,CAAS,SACzB,CAAQnB,EAAY,UAAYH,YAC/B,CAAS7B,UAE/B,CAAe,GACD,KAAK,gBAAY,KAAU,UAAS,wBAA0B,CAC5D,QAAQ,IACR,SACE,GAAAA,CACA,UAAM,SACN,IAAA6B,EACA,oBACA,SACA,OAAUqB,CAAO,oCAEnC,CACA,CAAe,OAGL,KAAK,6BACN,EACDzE,KAAQ,cAAiB,aAAoB,CAC3CuD,EAAY,WAAY,CACxB,cACU,OAAQ,gBAED,IAAQ,iCACX,CACH9D,EAAM,MAAQ,mBACX,CAAY,QAER,EAChB,QAEF,IAAM,EACJ,UACQ,OACN8D,EAAY,uBAAuBH,EAGvCG,EAAY,mBAAqBH,EACjCG,KAAY,eACP,YAAY,SAAU,cAAS,wBAClC,MAAQ,GACR,WACEhC,GACA,mBACA,GAAA6B,EACA,wBACAuB,GACA,aAAgB,IAAO,oBACvB,SAAc,EAAO,kBAG1B,CACD,uBAEQ,cAAiB,OAAQlF,EAAS,EACxC,EAAI,CAAC8D,IAAY,WAAkB,qBAG9B,IAAK,SAAK,YACbA,GAAY,OAAU,eAGtB,CAAAH,MACQ,UACE,aACI,qBAAuBA,KACrC,EAAK,iBAAY,MAAU,UAAS,uBAA0B,CAC5D,gBACA,OACE7B,EACA,OAAM,aACN,GAAA6B,IACA,SAAY,GACZ,UAAWG,EAAY,cACvB,KAAU9D,EAAM,OAAO,gBACvB,sBAAqB,KACrC,CACA,CAAa,EAEHmF,EAAcnF,CAAK,IAEjB,YAAU,SAAS,SACrBO,EAAQ,iCAAgCP,CAAS,CAC/C8D,OAAY,cAAqB,KACjC,KAAM,CACJ,SACA,OACd,CAAgB9D,EACE,CACJ,UACA,aAAAoF,GACA,mBAEF,GAAIC,CAAWD,MAEf,eAAc,OACZ,GAAK,oBACH,CACE,MAAME,GAAQ3B,CAAM,WAAU,CAAGyB,IAAgB,QAAM,SAAY,EAC/DE,UACiB,EAAE,kBAItB,oBACH,GACE,IAAMA,EAAQ3B,mBAAgC,KAAM,WAChD2B,IACFC,MAAiB,GAAE,WAErB,CAClB,EACc,eAAK,gBACoBC,IACrBH,GAAY,IAEd,MACF,GAAK,uBACCD,MAAmBI,mBAKrB,YAAgB,EACtB,UAAK,OAAY,UAAU,SAAS,6BAClC,KAAQ,kBAGN,QAAM,gBAEN,UAAgB,GAChB,WAAY,GACZ,SAAAH,EACA,QAChB,CACA,CAAa,KAGL,KAAK,sBAAyC,CAAC,CAAC,QAAS,OAAO,EAAG,KAAC,KAAQ,qBAAuB,UAAY,EAAG,EAAC,aAAc,eAAiB,uBAAc,SAAgB,OAAW,aAAcrF,EAASA,sBAGlNO,EAAQ,mBAAiB,KAAQkF,CAAY,KAE3C,EAAK,SAAK,CAAM,CAElB,MAAMC,GADa,MAAK,IAAK,cAAe,IAAK,QAAM,CACxBf,EAC/BpE,OAAQ,KAAU,IAAI,uBACR,OAAgB,QAAQmF,CAAS,oCAEvD,QACgB,OAAS,cAAc,OACjCnF,MAAQ,eAAmB,GAAK,WAChCA,EAAQ,SAAM,WAAgB,UAC9BA,CAAQ,MAAM,QAAU,yBACV,gBACJ,MAAS,IAGrB,YAAK,cAAcA,CAAO,EAC1B,KAAK,oBAAoBA,SACpB,kCACL,CAAK,UAAU,SAAc,CACtB,OAAK,OAChB,CACA,CACA,MAAM9C,UAAyCoG,QAC7C,cACE,CAAM3G,IACJ,gBAA2B,KAAK,gBAItC,QAAMK,cACJ,QAAYL,EAAY,CACtB,MAAMA,QACJ,QAAcA,IAAW,WAE/B,CACE,YACE,GAAMwH,EAAU,MAAK,iBACfxF,aACA4C,CAAK5C,EAAK,KAChB,oBACE,IAAOA,IAAK,4BACX,QACC,UAAiB,QACnByE,EAAQA,KAAU,UACV,OAAS7B,CAAI,CACnB,QACD,GAEH,YAAK,GAAU,UAAU,YAAI,sBAA0B,SACvD,UAAgB,eAAS,IAAc,OAAO,EAC9C,YAAqB,CAAIvB,CAAO,YACxB,SAAa,eAAqB,kBAClB,OACxB,KAAK,YAAaA,EAAS,UAAU,SAAQ,CAC7CA,EAAQ,WAAO,KACfA,UAAoB,SAChBoD,MACM,YAAa,UAAW,GAAI,CAEtCpD,EAAQ,aAAa,eAAerB,CAAK,mBACjC,KAAW2F,uBACM,WACvB,QACE,GAAAvE,SACA,CAAAqF,aAEF,SAAWC,OAAY,GAAK,uBAA2B,CAAG,CACxD,YAA8BA,CAAS,kBAAqB,WACxDA,CAAS,iBACF,SAAW,aAEd,SAASA,EAAS,QACxB,EAAOC,EACR,CACT,IACc,YACN,MACR,CAAO,YAEK,WAAiB,mBACvB,aAA0B,eAAqB,IAC/C7F,SAAa,sBAAgC,QAE3C,IAAK,gBAAmB,QAAK,cACvB,iBAAiB,uBAAgC,CACvD,MAAMK,MACJ,GAAML,GACJA,EAAM,cAAO,CAAUA,EAAM,aAAO,GAAU,WACtC,KAAS8B,WACF,QAAO,MAClC,CAAa,QAGL,CAAK,4BAAmC1B,CAAO,CACvD,CAAO,MACD,CAAK,0BAAkC,CAAC,CAAC,SAAU,YAAa,CAAC,sBAAsB,MAAS,WAAW,QAAQ,IAAM,EAAG,CAAC,YAAa,uBAAgB,MAAc,aAAa,CAAG,CAAC,oBAAc,mBAA2B,YAAcJ,GAASA,EAAM,QAAO,WAExQ,QAAK,gBAA2B,EAChC,KAAK,+BACL,QAAK,SAAU,0BAInB,IAAM1C,UAA2CuG,CAAwB,kBAErE,IAAM3G,IACJ,YAAcA,SAAW,IAC/B,CAAK,MAEH,SACE,CAAK,UAAU,UAAU,MAAI,uBAA0B,aAAa,EACpE,WAAgB,EAAK,2BACH,GACZ4E,KAAU,KAChB,CAAI6B,EAAQe,EAAQ,SAAS5C,MAC3B,GAAO5C,EAAK,eAAoB,WACjC,IAAE,oBACkB,SACnByE,4BACQ,GAAS7B,EAAI,IACnB,UAIF,UAAWgE,MAAS,UAAK,iBAAwB,eACvC,SAAe,GAAI,CACzB,YAIN,cAAgB,EAAS,cAAc,UA6BvC,UA5BgC,CAChCvF,GAAQ,wBAAa,cACb,QAAgB,yBACnB,EAAaA,KAAS,KAAK,EAAK,SAAQ,CAC7CA,EAAQ,UAAO,GACfA,MAAQ,CAAOrB,EAAK,UAChByE,GACFpD,EAAQ,aAAa,UAAW,MAE1B,WACRA,EAAQ,qBAAiB,WACvB,GAAM,CACJ,KAAAD,EACA,SACD,MAAS,MACV,wBAAyB,cAAmBA,EAAMwB,CAAE,SAC1C,IAASgE,EAAM,OACrB,GAAO,EACjB,CAAS,KAEK,YACN,cAGI,kBAAiB,oBACjBhB,EAAe5F,IAAK,gBAC1Bc,EAAM,SAAO,WAA2B,KAAsC8E,aAAsB,GAC1G,CAAK,IACG,KAAK,kBAAmB,EAAK,cAC/B,YAA4B,mBACpB,UAAiB,qBAAqB1E,iBAE1C,CAAOJ,OACL,IAAM2F,CAAUI,OAAyB,MAAO,UAChD,OAAWD,OAAS,IAAK,iBAAmB9F,mBAC1C,GAAM6F,EAAaF,GAAWG,SAC1BA,GAAM,YACRA,EAAM,YAAW,SAAUD,CAE7BnB,EAAQ,wBAGtB,CACA,CACS,SACI,mCAEP,CAAK,oBAAmBnE,CAAS,KAAM,CAAC,CAAC,kBAAU,CAAU,EAAG,IAAC,gBAAqB,CAAC,kBAAoB,OAAQ,MAAM,WAAI,IAAa,gBAAgB,mBAAc,MAAa,MAAI,UAAc,YAAY,EAAG,CAAC,cAAW,MAAU,CAAC,GAAGP,MAAe,MAAO,MAAO,kBAE1Q,gBAAoBO,CAAO,MAChC,CAAK,8BAAmC,CACxC,KAAK,UAAU,QAAc,GACtB,IAAK,SAChB,EAEA,UAAM/C,MAA0CL,CAAsB,CACpE,+BAEI,MAAcD,EAAW,MAAK,mBAGlC,IAAS,IACP,GAAM+B,OAAY,CAAM,UACxBA,CAAU,UAAU,SAAI,oBAA0B,cAClD,cAA8B,QAC9B,KAAI,KAAK,kBAAmB,MAAK,eAAgB+G,CAC/C,OAAK,0BAA4BA,EAAW,CAC5CA,EAAY,sBAAiB,iCACtB,qCAMPC,SAA8D,CAClE,gBACE,KAAM/I,IACJ,YAAcA,KAAW,UAE/B,CACE,aACE,CAAK,UAAU,cAAc,wBAAwB,MACrD,EAAMwH,MAAU,CAAK,kBACf5C,UAAU,IAAK,CACftB,uBACG,aAAU,QAClB,CACK0F,EAAgB,WAAS,YAAc,gBACpBA,CAAa,KACxB,aAAa,sCACG,GAAK,mBAC9B,mBAAiC,CAAK,SAAQ,CACnDA,yBAA+B,EAC/BA,EAAc,SAAWrB,KACzB,CAAIsB,EAAkB,QAAK,GAAK,YAAc,IAAK,QAAQ,aACtD,CAAK,aACRD,EAAc,OAAO,GAAK,KAAK,SAAQ,UACnC,CAAK,KAAK,sBACE,GAAW,KAG7BA,EAAc,uBAAiB,OAAalG,KAC1C,IAAM8E,EAAe,UAAU,mBAC/B,WAAWsB,GAAUF,EAAc,QACjCE,cAAyB,QAEjC,CAAK,EACD,UAAWA,aAAe,EAAK,YAC7B,GAAMC,EAAgB,aAAS,UAAc,SAAQ,CACrDA,IAAc,aAAqB,YACnCA,SAAsBD,CAAO,YACzB5F,KAAW,UAAM,EAAS4F,SAAO,MAAW,GAC9CC,CAAc,eAAa,WAAgB,QAG7CH,OAAc,EAAOG,CAAa,IAEpC,KAAuB,MACvB,CAAIF,EAAiB,CACnB,MAAMG,IAAoB,aAAS,QAAc,SAAQ,CACzDA,WAA0B,CAC1BA,EAAkB,aAAa,qBACb,WAAa,OAAY,KAC3CJ,CAAc,QAAQI,IACtBC,CAAmB,iBAEjBL,CAAc,yBAAoB,GAASK,CAAgB,QAE5D,GACDL,CAAc,iBAAiB,QAASK,CAAgB,EAE1D,MAAMC,IAAWC,CAAY,OACrBnG,EAAOmG,KAAW,YAAU,cAEhC,EAAAhE,MACA,KAAAiE,CACR,WACWA,GAGE,aAAM,GAAU,MAAO,eAA+B,QAAU,SAAyB,CAAC,EAFxFjE,YAAQ,MAAkB,aAA4B,YAAa,EAAEnC,CAAI,CAGnF,EACD,IAAIqG,EAAiBH,OACrB,KAAMI,GAAW5G,GACf,MAAMyC,EAAUzC,GAAM,OAAO,YAC7B,cAAa,QAAc,KAAKyC,MAAoB,CAClD,mBAAqB,QACrB,qBACA,CACH,SACG,KAAK,iBAAmB,KAAK,cAC/ByD,oBAA+B,oBAAqB9F,EAAW,CAC7D,iBACe,CACXmG,MACA,MAAM5C,KAAc,MAAO,QACZ,IAAI,IAAI,MAAM,aAAyB,CAACA,CAAK,CAAC,OAC7D,YAAmC,aAC1B,SAAkB,UAAgB,OAEnC,MAAS7B,EAAI,CACnB,MAAO0E,SAETG,CAAiBH,IAAc,CAChC,EACD,0BACgB,MAAW,IAE3B,OAAOxG,aACyB,UAChBA,GAAM,MAAO,OAC3ByC,GAAa,GAAE,QAAW,GAC1ByD,GAAc,OAAY,QACd,OACA,MAAM,UAAU,SAAU,MAAKzD,CAAS2D,GAAUA,YAAe,GACjE,YACG,YAGP,SAAStE,EAAI,CACnB,QAAgB,KAChB,gBAEwB,EAAK,IAEjC,aACSoE,EAAc,kBACL,mBAEK,CACnB,MAAO,KACP,UACD,CACDS,EAAiBH,EAAS,EAAK,CAChC,KACD,IAAOxG,EAAO,CACZ,KAAM,CACJ,MAAA6G,MACA,SAAAC,IACA,UAAA3E,CACd,OAAsB,IAAO,OACX4E,EAAcb,IAAc,OAASW,EAAK,CAC1CR,EAAgB,UAAS,aAAc,SAAQ,CACrDA,KAAc,YACdA,CAAc,QACVU,GACFA,CAAY,QAAoB,GAEhCb,CAAc,sBAECpE,CAAI,EACnB,YACA,KAAO8E,MACR,CACDD,EAAiBH,EAAS,KAE5B,MAAMxG,OACJ,CAAM,EACJ,UACQ,OACV,MAAOkG,CAAc,SAAW,GAC9BA,EAAc,OAAO,CAAC,EAExB,WAAWc,IAAQC,KACjB,UACE,UACA,WAAA9E,CAChB,GAAkB6E,CACEX,QAAgB,GAAS,oBAAc,EAAQ,EACrDA,EAAc,YAAcS,MACd,IAAQ3E,EACtB+D,EAAc,QAAoB,CAChD,EACgBA,CAAc,QAAQ,WACxBA,GAAc,OAAQ,CAAC,OAAE,IAAW,IAEtCxB,MAAQ,KAAS5C,SACR0E,EAAS,EAAI,KACpB,KAAgBxG,CAAK,KAEvB2G,CAAiBH,EAAS,EAAK,CAChC,EACD,QAAQxG,OACN,GAAMkH,CAAU,MAAI,MAAU,gBAC9B,eAA2B,OAAO,QAChCd,MAAO,KAAWc,SAAmB,IAAK,GAE5CxC,CAAQ,SAAS5C,aACK,CAClC,CAAa,MACyB,EAAK,CAChC,EACD,YACE9B,GAAM,SAAO,MAAW,CAACA,EAAM,OAAO,aAG1C,GAAK,0BAA0BK,EAASD,CAAO,KAEjD8F,CAAc,iBAAiB,QAASlG,GAAS,CAC/C,MAAMmC,MAA2B,GAC3BgF,CAASX,GAAS,CAAK,MACrB,OAAS1E,OACf,EAAOK,CACjB,CAAS,EACDnC,EAAM,mBACN,GAAK,aAAY,aAAU,eAAS,mBAClC,cACA,EAAQ,MAEN,KAAM,YACN,MAAO2G,MACP,GAAAQ,EACA,UAAUhF,CACV,WAAY,MACZ,OAAW,OACX,GAAS,SAIf,IAAK,oBAAmB+D,CAAe,KAAM,CAAC,CAAC,QAAS,OAAO,EAAG,CAAC,OAAQ,QAAS,CAAC,YAAa,YAAY,MAAI,UAAc,aAAa,EAAG,CAAC,iBAAc,YAAgB,UAAW,SAAU,SAAI,EAAS,QAAQ,EAAG,CAAC,QAAS,iBAAuBlG,CAAM,OAAO,MAAK,SAEjQ,YAAiB,QAAS,iCAE7BwG,CAAS,EAAI,CAC9B,EACA,CAAO,EAEC,mBACF,OAAK,UAAcN,CAAa,EAElC,MAAK,mBAAoBA,CAAa,EACtC,SAAK,gCACA,WAAU,YACR,SAAK,EAChB,CACA,IACA,IAAMxI,SAA+Ba,CAAkB,CACrD,sBAEI,SACA,MAAA6I,MAEF,KAAMlK,EAAY,IAChB,WAAcqB,CAAkB,gBACtC,CAAK,EACD,SAAK,cAEP,CAAS,CACP,WAAK,UAAU,IAAU,IAAI,wBAC7B,CAAMwD,EAAQ,IAAIsF,EAAa,CAC7B,cAAW,CAAK,UAChB,MAAO,aAAU,GACjB,UAAU,IAAK,WAAK,GACpB,0BAAuB,CAAK,iBAC5B,eAAa,GAAK,IAAK,eACvB,UAAU,CAAK,UAAK,IACpB,MAAM,OAAK,MAAK,CAChB,oBAAiB,CAAK,gBAAc,CACpC,cAAa,SACb,KAAU,KAAK,WACf,MAAM,EAAK,KAAK,aAGlB,SAAW9G,mBACTA,EAAQ,MAAQwB,4BAER,kBAEV,OAAK,kBAAU,OAAa,cAAiBuF,WAAqB,CAAG5L,EAAK,sBAAuB,EAAE,SAAS,EACrG,cACX,CACA,CACA,cACkB,EAAK6L,GAAS,KAAK,SACtB,SAAW,OAAK,CAAI,SACpB,CAAKC,SAAW,IAAI,CACjCC,gBAAiC,QACjCC,CAAS,KACTC,GAAa,WACE,KACJ,UACC,MACF,KACVC,KAAc,MACJ,SACD,KACD,KACRC,SACAC,iBAEA,UACE,iBACAtL,YACA4K,CACA,SAAAW,YACA,SACA,mBACA,KAAAC,CACA,SACA,KAAAhL,WACA,KACA,KACJ,WACsBiC,EAClB,KAAK6I,MACL,KAAKG,OACL,SACA,KAAKC,CAAUC,QACVT,KACL,KAAKU,KACL,KAAKR,EAAcS,EACnB,OAAKC,CAAYlB,KACjB,EAAKmB,GAAW3M,KAAc,WAAc,eAA6B,CACzE,MAAK,OAAUwL,gBAAwB,qCACvC,CAAW7G,KAAW,SAAK,IACzBA,GAAQ,yBAA0B,IAAKkH,EAAY,EACnDlH,IAAQ,qBAAiB,OAAc,eAC/B,aAAiB,iBAAc,CAAKiI,EAAU,QAC9C,mBAAc,eAExB,YAAsBpB,CACpB7G,EAAQ,WAAW,kBAAiB,SAAW,KAAKkI,EAAa,IAEnE,GAAKd,GAAW,OAAS,GACrBe,KACF,GAAKC,GAAS,IAGlB,MAAS,IACH,KAAKC,IACP,MAEF,MACE,KAAM,CACJ,QAEF,SAAU,CACR,UACE,SAAAlJ,KACA,SAAAf,CACA,MAAAC,IACA,KACV,CACA,CACK,EAAG,KAAKsJ,GACHnG,EAAQ,KAAK6G,IAAS,WAAS,WAAc,KAAK,EAExD,MADM,SAAY,QACd,KAAKlB,GAAQ,CACf,MAAMmB,KAAkB,QAAM,UAAenN,KAAK,EAAK,aAAa,GAAG,KAAKgM,EAAM,KAC9E,CAAI,YAAS,gBAAoB,sCACnC3F,EAAM,MAAM,gBAAkB,sBAAsB8G,CAAS,eAG7D9G,KAAM,GAAM,gBAAkBrG,EAAK,MAAK,YAAa,GAAG,KAAKgM,KAAO,EAAIxL,IAAK,OAAK,IAAM,IAAsB,IAAMA,KAAKA,CAAC,aAG/G,aAAS,UAAc,QACtC4M,CAAO,UAAY,gCACI,QAAc,KAAI,CAOzC,GANAA,EAAO,aAEL,GAAKC,CAAM,gBACA,OACT,QACJhH,EAAM,sBAEJ,YAAyB,EAAS,cAAc,gBAC/B,YAAc,QAAW,CAC1CiH,EAAiB,cAAa,sBAAgB,sBAA8B,EAC5EA,GAAiB,YAAa,0BAAuB,SACnD,GAAM,KAAKT,GAAS,mBAAoB,EACxC,KAAM,MAAKA,EAAS,sBACpB,EACFO,GAAO,OAAuB,CACpC,CACI,QAAoB,MAAKb,KACR,MAAKJ,CACtB,GAAIG,QAAU,CAAQ,CAACiB,OAAa,CAAOA,UAA6B,aAC5D,GAAS,OAAO,CACxB,QAASjB,EAAS,QAClB,IAAQ,WACR,SAEFjG,CAAM,aAAU,OAAU,IAAI,aAAY,eAAc,GACnD,CACL,MAAMmH,GAAW,IAAK,kBAA2B,CACjDnH,EAAM,iBAEa,CAAC,KAAK6F,IACvB5K,CAAOmM,EAAgB,KAAKvB,SAAmBQ,EACnD,UAAW7H,MAAW,QACpB,IAAKvD,GAAQtB,CAAK,KAAK,UAAU6E,KAAQ,EAAK,KAAMvD,KAAU,gBACxC,OACJ,IAChB,GACR,CAEI,MAAMoM,EAAiB1N,EAAK,KAAK,kBAAqB,gBAA6B,CAAGsB,EAAK,IAAIqM,CAAK,YAAsB,CAAC,EAErHC,EAAcH,KAAsB,EAAInM,EAAK,GADT,GACkD,CACtFuM,KAA4B,MACjBH,EAAe,CAAC,EAC3B,GACJ,IAAAtK,CACD,EAAG,SACJA,CAAM,WAAU,cACV,MAAM,CAAG,KAAO0K,SAA8B,CACpD,OAAK7B,CAAW,OAAO5F,EAC3B,CACE,sBACE0H,CACA,IAAAC,CACJ,GACI,UAAU,SAAS,YAAc,GAAG,WAClC,GAAU,KAAI,cAAc,CAC9BC,EAAE,IAAMD,IACR,IAAME,MAAY,IAAM,sBACxB,EAASC,IAAOC,EAAKF,GAAM,UAAgB,IAAK,CAC9C,UAAmBC,CAAC,EACpBF,EAAE,aAAO,MAAS,gBACdE,WACA,KAAO,SAAS,gBAAc,EAAI,IAGxC,MAAOF,IAETpC,CAASvH,KACG,UAAgB,aAAkB,sBAGlC,OAAQ,QAAWA,EAAM,mBAAoB,EAAK+J,MAC1D,OAAc,CAEpB,EACEpB,OACE,GAAKoB,EAAU,CAAC,KAAKA,GACjB,KAAKA,IACP,KAAKvC,GAAO,EACZ,MAAKG,EAAW,mBAAiB,QAAS,GAAKF,EAAY,IAC3D,GAAKE,GAAW,sBAAiB,SAAW,CAAKc,EAAa,KAE9D,OAAY,EACZ,QAAgB,uBAAoB,UAAchB,IAClD,UAAgB,kBAAoB,UAAW,QAAkB,CAEvE,eAGM,KAAK,SAEF,KAAK,UAGC,KAAKsC,IACd,KAAKpC,GAAW,UAAU,IAAI,aAH9B,IAAKA,GAAW,OAAS,GACzB,MAAKA,EAAW,MAAM,UAAS,QAAS,KAAKA,CAAW,MAAM,MAAM,EAAI,IAI9E,IACEqC,CAAQ,IACN,GAAKrC,EAAW,aAAU,IAAO,oBACxBoC,EAAW,EAAC,IAAK,aAG1B,KAAKpC,GAAW,QAAS,EACzB,KAAKA,GAAW,MAAM,OAAS,SAAS,MAAKA,EAAW,OAAM,KAAM,EAAI,MAE1E,WACE,MAAKsC,KAAc,EAAK,UACnB,KAAKA,KAGV,KAAKtC,GAAW,OAAS,GAC7B,CACE,YACO,UAGL,KAAKsC,eACW,MAAS,KAE3B,GAAI,kBACF,CAAO,aAAgB,IAAW,EACtC,CACA,CACA,SAAM1O,kBACJ,GAAY2B,EAAY,GACtB,QACE,YAAc,GACd,eACN,CAAK,GACD,IAAK,aAAcA,CAAW,KAAK,YACnC,KAAK,aAAeA,SAAgB,eACpC,CAAK,sBAAuBxB,CAAK,sBAAqB,OAC1D,CACE,QAAS,CAEP,SADK,SAAU,kBAAc,gBAAoB,KAC7C,EAAK,YAAa,CACpB,SAAgB,SAAS,aAAc,KAAK,EAC5CwO,EAAQ,eAAc,2BACd,iBAAa,EAAQ,UAAS,CACtC,UAAWC,WAAa,cACtB,MAAiB,SAAS,cAAc,MAAM,OACrC,cACD,MAAOC,CAAQ,OAEpB,cAAU,GAAOF,GAExB,QAAK,MAAK,QAAK,MAAY,QAAK,cAC9B,CAAK,aAAc,GAErB,IAAK,uBACE,GAAK,YAEd,GAAI,YAAc,CAChB,WAAO,CAAK,KAAK,kBAGrB,EAAMG,UAA8B9L,CAAkB,CACpD+L,QACA,YAAYpN,KACV,IAAMA,IACJ,YAAc,GACd,gBACD,CACL,CACE,SACE,KAAK,gBAAU,IAAU,QAAI,YAAgB,EAC7C,MAAMgC,EAAO,QAAK,EACZ,CACJ,QACA,OAAAH,IACEF,CAAYK,IAAK,EAAI,EACnBoC,IAAM,GAAK,iBAAW,CAAO7B,MAAmB,EAChD0K,EAAO,KAAKG,GAAQ,OAAK,oBAAW,SAAc,IAAU,IAClE,KAAAH,EAAK,aAAa,KAAMjL,IAAK,GAAK,CAAC,IAAS,uBACvC,eAAa,EAAMA,EAAK,OAAM,CAAIA,EAAK,oBAC5CiL,EAAK,eAAa,GAAMjL,EAAK,OAAM,CAAIA,OAAK,YAAiB,CAAC,EAC9DiL,EAAK,aAAa,OAAW,OAAM,CAAIjL,SAAK,SAAgB,CAAC,CAAC,EAC9DiL,KAAK,aAAa,aAAgBjL,CAAK,YAAY,OAAS,CAAC,EAC7DiL,EAAK,cAAa,QAAU,eAC5BA,EAAK,cAAa,MAAQ,eAC1B7I,GAAI,SACJ,KAAK,iBAAiBA,CAAG,MACf,SAAY,KAAK,gBACzB,UAAK,MAAc,IAEd,GAAK,SAChB,CACE,gCACE,GAAO,KAAKgJ,EAChB,CACE,kBAAmB,CACjB,MAAK,WAAU,cAAc,aAAe,YAG1C3M,gBACM,EACV,oBACE,CAAMT,EAAY,IAChB,YAAc,CACd,iBAEN,CACE,mBACO,KAAU,qBAAc,uBAChB,SAEX,OAAAuC,CACA,SACN,CAAQZ,SAAqB,CACnByC,SAAW,wBACXiJ,EAAcrL,KAAK,YAAY,OACtB,GAAKsL,QAAe,cAAW,mBAAc,IAC5D,uBAAoB,GAAKD,EAAc,YAChC,MAAa,UACpBE,CAAO,aAAa,QAAShL,YACtB,QAAa,UAAUV,CAASwL,aAChC,MAAa,gBAAgBA,CAAe,CAAC,EACpDE,OAAO,QAAa,UAAU,iBACvB,mBAAqB,mBACxB,MAAa,aACZ,OAAU,mBACL,CAAY,MAAK,cACzB,YAAK,SAEA,KAAK,kBAEd,kBACE,cACJ,CACE,wBACO,gBAAU,IAAU,IAAI,mBAGjC,OAAM7M,UACJ8M,UACA,oBACQxN,CAAY,CAChB,aAAc,KACd,gBAGJ,QAAS,IACP,EAAK,kBAAU,OAAc,kBAAkB,CAC/C,MAAMgC,WAAY,CACZ,aAEJ,KACN,CAAQL,IAAiB,IAAI,MACb,GAAK,aAAW,KAAOY,EAAOV,KAAY,CAChDwL,EAAcrL,EAAK,gBAAY,EAC/ByL,EAAS,gBAAoB,QAAW,yBAAc,EAAa,EACzE,gBAAO,MAAa,MAAMlL,CAAQ,CAAC,EACnCkL,EAAO,eAAa,GAAM5L,EAAS,EAAC,CACpC4L,YAAO,IAAa,IAAMlL,IAAY8K,EAAc,CAAC,EACrDI,gBAAoB,IAAM5L,GAAS,CAAIwL,YAChC,QAAa,qBACpBI,MAAO,oBAAuB,WAAa,WACpC,MAAa,YAAQ,QAAa,YACxB,EACjB,UAAK,KAAU,cACL,UAAY,IAAK,eACzB,aAAK,MAEA,aAAK,CAChB,CACE,yCACcD,CAChB,CACE,kBAAmB,gBACF,iBAAc,cAEjC,CACA,cAAME,EAAkCrM,CAAkB,CACxDsM,KAAY,QACZ,OAAY3N,EAAY,CACtB,OAAMA,CAAY,CAChB,aAAc,GACd,qBAEF,EAAK,mBAAqB,sBAC1B,OAAK,oBAAiB,MAC1B,gBAES,SAAU,WAAU,OAAI,CAAK,oBAClC,SAAa,WAEX,OACA,OAAA6B,CACN,GAAQF,CAAYK,EAAK,WACT,MAAK,UAAW,OAAcH,CAAQ,UACrC,CAAE,aACJ+L,KAAc5L,CAAK,cAC5B,GAAMjD,CAAI6O,YAA0B,EAC9B3O,EAAI+C,GAAK,IAAK,EAAC,CAAI4L,YACb7O,CAAI,IAAME,EAC5B,CACI4O,EAASA,GAAO,aAChB,EAAMC,KAAW,EAAKH,IAAY,IAAK,aAAW,YAAc,MAAK,aAAc,EACnF,OAAAG,KAAS,WAAa,aACb,sBAAa,MAAgB9L,YAAK,EAAY,OAAS,WACvD,YAAa,IAAU,eAChC8L,OAAS,QAAa,QAAQ,mBAC1B,MAAe,CACnB,YAAK,GAAU,cACL,0BAAiB,EACzB,OAAK,WAAc,gBAGzB,CACE,2BAA4B,GAC1B,eAEF,iBACE,MAAK,WAAU,cAAc,aAAe,YAG1ClN,gBACJ,KAAYZ,EAAY,CACtB,OAAgB,KAChB,EAAK,uBAAqB,gBAC1B,gBAAK,QAAiB,YAG1B,OAAMW,SAAiD,CACrD,YAAYX,GACV,MAAMA,UACJ,OAAc,EACd,uBAGJ,MACE,UAAK,mBAAU,CAAU,aAAI,aACxB,GAAK,OAAK,gBAAiB,WAC9B,eAAK,IAAc,CAEd,KAAK,gBAGhB,CAAM1B,WAA6B+C,CAAkB,CACnD0M,IAAe,aACf,CAAY/N,GACV,MAAMA,EAAY,CAChB,kBACA,cACD,EACD,KAAK,mBAAqB,oBAC1B,CAAK,iBAAiB,oBACjB,qBAA4B,qBAAqB,GAC1D,CACE,QAAS,CACP,KAAK,aAAU,OAAU,YAAS,iBAClC,0BAEEuC,CACA,QACN,EAAQZ,KAAiB,GAAI,EACnByC,gBAAW,EAAW,eAC5B,UAAW4J,KAAWhM,cACpB,EAAI6L,EAAS,EAAE,CACf,WAAWD,MAAuB,CAChC,UAAqB,EAAI5L,YACfA,EAAK,OAAM,CAAI4L,EAAW,aACpB,IAAI3O,YAEN,EAAK,GAAG,EACxB,MAAM6O,EAAW,KAAK,yBAAyB,oBAAmB,CAClE,KAAKC,eACI,cAAa,QAAgB,CACtCD,EAAS,cAAa,cAAgB9L,KAAK,mBAC3C8L,EAAS,aAAa,WAAU,WAAa,EAC7CA,EAAS,eAAa,WAAQ,OAAa,EACvC,CAAC9L,EAAK,UAAY,OAAK,YACzB,WAAK,OAAc,GAErBoC,CAAI,OAAO0J,IAEb,aAAK,QAAU,QAAU,GAClB,IAAK,UAEd,2BAA4B,EAC1B,MAAO,UAET,mBACE,eAAe,SAAU,GAAI,eAAe,MAGhD,IAAMjN,iBACJ,QAAwB,CACtB,MAAMb,EAAY,CAChB,iBACA,oBACA,sBAGJ,kBACO,EAAK,KAAK,aAAY,EAAK,cAC9B,KAAK,iBAEP,GAAK,aAAU,OAAU,YAAI,mBACtB,CAAK,gBAGhB,CAAMc,yBACQd,EAAY,CACtB,MAAMA,EAAY,CAChB,yBACA,OACA,qBAAsB,GACvB,CACL,CACE,aACE,EAAI,CAAC,OAAK,QAAK,MAAY,IAAK,sBACzB,UAAc,EAErB,KAAK,mBAAU,CAAU,kBAAI,OAAqB,cACtC,EAChB,GAEA,QAAMe,QAAkCM,CAAkB,EACxD,WAAYrB,WACQ,CAChB,wBACA,gBACA,aAAsB,EAC5B,MAEE,KAAS,CACP,SAAK,UAAU,qBAAiB,QAC9B,KAAK,WAAc,IAErB,aAAe,mBAAc,iBACtB,OAAK,WAGhB,cAAMgB,CAAmCK,CAAkB,CACzD,sBACQrB,CAAY,CAChB,cAAc,EACd,aAAc,GACd,yBAEN,CACE,cACE,CAAI,CAAC,KAAK,cAAK,CAAY,KAAK,cAC9B,qBAEF,uBAAe,CAAU,IAAI,uBACtB,UAAK,IAChB,CACA,IACA,mBACE,SAAYA,KACV,KAAMA,CAAY,CAChB,cAAc,EACd,cAAc,CACpB,IAEE,WACE,SAAK,UAAU,UAAU,IAAI,iBAAiB,EAC1C,CAAC,KAAK,KAAK,UAAY,MAAK,eAC9B,GAAK,aAAc,GAEd,KAAK,QAChB,CACA,EACA,MAAMiB,UAAwCI,IAC5C4M,CAAW,KACX,aAAYjO,CAAY,UAEpB,cAAc,CACpB,IACI,eACEkO,CACA,QAAAlB,EACN,CAAQ,KAAK,KAAK,eACT,QAActO,CAAc,oBAAoBwP,EAAU,MAC/D,MAAK,eACA,SAAY,iBAAU,EAAS,sCAC1B,EACR,kBACA,CAAAlB,CACN,CAAK,CACL,CACE,SACE,MAAK,aAAU,MAAU,aAAI,iBAA0B,MACvD,CAAM,IACJ,UACA,OACE,KACJ,IAAImB,UACK,0BACPA,CAAU,SAAS,2BAET,OAAS,oBACnBA,IAAQ,EAAM,aAAQ,kBAAkB,SAAc,sBAAuB,EAAI,EAAI,qBAAuB,gBACnG,IAAanM,oBACZ,IAAQ,sBAAmB,KAAK,SAAW,MAAY,aAGnEmM,CAAQ,kBAAiB,iBAAiBC,CAAU,SAAS,CAAC,GAC9D,qBAEEC,CACN,EAAQ7P,IAAK,UAAY,UACrB,QAAU,iBAAiB,UAAW8P,YACpB,gBAAwB,wBACjCF,EAAW,CAExB,CAAK,EACG,MAAM,SAAY,KAAK,cACzB,EAAK,iBAEG,mBAAc,iBAEd,UACHrM,CACX,GACE,4BACE,UAAYkM,EAChB,KACE,cAAmB,WACZ,SAAU,gBAAc,gBAG7B,wBAAsB,qBAAmB,CAAK,SAAS,SAAK,MAGhE,aAC0B,MACxBM,CAAuB,YACI,OAC3B,UACE,UACA,wBACA,iBACA,gCACA,CAAAzM,EACA,SAAAQ,CACJ,YACekM,EACX,cACA,CAAKD,GAAuBE,oBAEvB,YACL,GAAK,OAAS,IACd,KAAK,4BAEPC,EAAerL,IAAa,CAC1B,YAA+B,iBACX,UAAQ,yBACvB,EAAI,eACJsL,OAAuB,cAAiB,WAAmBC,EAAgB,EAAK,KAEvF,GAAM,aACJ,EAAM,CACJ,aACN,EAAQrN,EACEsN,EAAQ,MAAK,SACF,yBAA2B,CAAK,oBACzB,EAAI,MACN,CACpB,KAAM,QACN,MACA,aAAoB,mBACpB,iBAAwB,UACxB,sBAA2B,mBAAsB,aACjD,EAAatN,EAAO,cAAgB,KACpC,SAAY,MAAkB,mBAC9B,aAAmBA,KAAO,gBAAqB,IAAI5C,mBAAmB,CACtE,mBAAwB,uBACxB,UAAc4C,EAAO,iBACrB,0BACA,SAAQ,CACR,aACD,EACD,UAAWS,SACT,EAAIA,KAAK,UACP,UAEI8M,CAAoB9M,GAAK,0BAAwB,QAAe,UAS/D,CACL,MAAMkI,EAAW6E,EAAgB,IAAI/M,IAAO,EAC5C,GAAI,aAGJgN,CAAc,YACtB,GAd8B,CACtB,WACE,CAAAzM,aAEEZ,CAAYK,IAAK,EAAI,EACzB,UAAkBH,cAUpBmN,CAAc,KAAOhN,EACrB,MAAMqB,EAAUtD,KAAyB,mBAC5B,WACX,aAEwBiC,CAAK,SAAU,IACvC,GAAMkI,SAA+BlI,CAAK,SAAQ,CAC7CkI,EAGHA,GAAS,IAAK7G,SAFMrB,EAAK,WAAkB,CAAC,CAItD,CACM,SAAiBqB,CAAQ,OAAQ,EAC7BrB,OAAK,OACE,MAAM,YAAa,QAE9B,KAAK0M,kBACO,kBAAuB,GACjC,IAAKO,KAAqB,KAAY,IAAK,KAAW,CACtD,KAAK,8BAA4B,mCAIzC,CACE,QACE,SAAA3M,CACJ,GACI,SAAc,IAAK,KACnB,QAAK,WACF5D,CAAc,oBAAoBmQ,KACnC,OAAUvM,QAAS,EACzB,IACI,aACM,KAAS,aAGV,IAAKiM,UAGV,MAAMM,gBACN,IAAW,CAACjK,MAAU,CAAK,KAAK2J,yBACR,GAAc,kCAChC,CAAClL,EACH,cAEK,UAAY,mBACnB,GAAM,CACJ,cACEA,GACC6L,CAEMA,GAAW,WAAa,SACjCA,CAAW,eACDA,gBAAqB,OAAS,sBAG7B,KAAMC,CAAM,OAFZ,KAAa,SAJhB,EAAOA,CAAM,KASzB,GAAKZ,YAEP,4BACE,EAAO,oBAAqC,4BAE9C,GAAsB3J,IACpB,YAAYqK,GAAqB,GAAIrK,CAAE,CAC3C,IAMM,IACC,CAAC1G,MAA0DO,IAAwB,CAErEA,EAAoB,IAAEN,CAAqB,EACzC,iBAAmB,IAAqBiR,EACxC,uBAAwB,IAAqBC,EAC7C,oBAAmB,GAC1C,CAAsB,EACD,KAAIC,CAA+C7Q,IAAoB,CAAG,EACtE8Q,KAAqE,SACK,GAAG,CAItG,WAA0B,OAAO,2BAG/B,QAAU,OAEZ,IAAMH,GACJI,GAAY,MACD,YACX,QAAc,IACZ,IAAK,yBACA,iBAAkB,CACvB,MAAK,mBAAqB,KAE5B,QAASC,YACDhJ,CAAQ,aAAqB,gBACrB,kBAGA,mBAEJgJ,EAAK,CACf,kBAAqB,CAAIA,CAAG,CAChC,CACE,YAKE,CAJA,aAAc,EAAOA,CAAG,EACpB,WAAc,IAAS,GACzB,cAAK,kBAEI,CAAK,oBAAuB,wBAC1BhJ,gBAAuB,EAAM,gBAClCA,EAAiB8I,EAA+C,iBAClE,YAGC,4BAGT,OAASE,KACP,SAAY,KAAKC,EAAS,IAAID,KAC9B,GAAIE,CAAW,GACf,GAAIC,KAAQ,OACV,SAAYC,MAAU,CAAK,oBACjBA,CAAK,IAAMC,cAEJA,SAIjBH,CAAW,GACX,MAAKD,GAAS,GAAID,GAAU,GAE1BE,GACF,IAAKI,IAAc,CAEjBtJ,oBAAgE,cAAoB,MAAO,UAAK,eAAuB,aACzH,IAAK,mBAAmBA,MAAM,YAAY,CAAK,EAGnD,IAAIgJ,EAAK,EACP,aAAYC,CAAS,QAEvB,OAAS,CACP,YAAYA,OAAS,CAAO,KAAOJ,GAA6C,cAAe,KAAKI,KAAY,GACpH,CACE,OAAOE,EAAK,CACV,SAAW,CAACH,EAAKK,CAAG,OAAK,IAAO,SAAW,EACzC,UAAK,KAASL,CAAKK,KAGvB,WACE,QAAO,EAAKJ,GAAS,IACzB,CACEK,KACO,MAAKP,KACR,IAAKA,GAAY,GACb,wBAAY,GAAkB,YAChC,KAAK,cAAe,EAG5B,EACE,gCAESA,CAAY,MACb,IAAO,wBAAyB,YAClC,GAAK,gBAAiB,MAI5B,CAAI,SACF,UAAWH,EAAuB,KACtC,CACE,IAAI,cAAe,CACjB,GAAI,sBACF,EAAOW,EAET,SAAY,GAAI,QACP,EAAIC,EAAoD,iBACpD,CAAE,IACC,UAAO,IAAO,sBAE9B,EAAW,CAACR,MAAQ,CAAK,KAAKC,KAC5B,OAAmBI,aAAeP,EAA+C,qBAAuB,UAAU,CAAOW,CAAO,KAC5HC,GACFC,EAAI,IAAIX,EAAKU,CAAU,GACvBE,CAAK,WAAa,IAAI,WAAK,IAAUF,GAAW,CAAE,OACnC,CAACA,EAAW,YAG3BG,CACF,WAAW7J,IAAS2J,EAAI,WACZ,eACM3J,EAAM,MAAM,EAIhC,oBACE,CAAA2J,EACA,QAAW,WACX,SAAAG,IAEN,CACE,IAAI,0BAEF,KAAMC,IAAe,EAAI,IACzB,UAAW/J,QAAS,GAAKiJ,SAAe,EAAI,CAC1C,GAAI,EAAEjJ,gBAAgE,iBACpE,UAEF,KAAMgK,EAAchK,EAAM,mBAC1B,eAGA,OACE,WAEgB,IAAIiK,CAAI,GACxBF,EAAa,IAAIE,EAAM,YAAO,YAAoB,CAAE,kBAE5C,OAAO,WAAW,CAC5B,MAAMN,EAAMO,GAAU,SAAU,GAChC,SAAW,EAAClB,CAAKK,WAAQ,CAAO,eAC1BL,SAAQ,EACV,iBAEiB,KAAO,MAExBmB,EAAW,IAAI,OACX,GAAInB,EAAKmB,CAAQ,MAEvB,GAAMC,EAAQD,KAAS,CAAId,EAAG,EAAK,KAC1B,GAAIA,EAAKe,GAAS,CACnC,CACA,EACI,QAAW,CAACH,IAAY,GAAKF,EAC3BG,EAAMD,EAAI,CAAII,EAAO,0BAA0BH,EAAMD,CAAI,CAAC,GAE5D,uBAGErB,EAA+BD,CAAkB,CACrD2B,GACA,iBACE,IAAO,GACP,MACE,GAAAX,EACA,KAAAC,GACA,QAAAE,CACD,EAAGtF,EAAO,cACL+F,CAAQ,kBAAqBT,KACjC,OAAAA,CACD,SACD,KAAKQ,EAAgB,CACnB,OACA,IAAAV,WACAE,CACD,CACL,CACE,MAAI,KAAQ,KACPjB,CAA6C,aAAa,uDAE3D,WAAe,kBAMrB,CAEM,IACC,CAAC2B,QAAyCxS,EAAwB,CAEzEA,EAAoB,MAAsB,KAAOyS,KAAuCC,CAA6B,CAAE,KAkDvH,GAASC,OAAT,KAAqBC,KAUnB,CATI,UAAe,UAAYA,eAAe,EAC5CA,EAAM,MAEL,GACQA,aAAe,cAAe,WAAY,OAAOA,CAAG,QAE3D,QACD,CAEC,SAAOA,CAAQ,aACjB,EAAM,OAAI,KAAM,wDAA0D,EAE5E,MAAS,KAAO,CAACA,EAAI,UAAa,oBACtB,CAAM,6DAA6D,EAE/E,MAAMC,EAAO,IAAIC,GACX,GACJ,IAAAC,CACJ,EAAMF,EACEG,GAAMJ,CAAI,MAAiBA,EAAI,IAAG,CAAI,KACtCrP,EAAOqP,EAAI,UAAuB,QAAQ,EAC1CK,EAAcL,EAAI,aAAe,KACjCM,EAAkBN,EAAI,oBAAoB,CAC1CO,EAAWP,IAAI,QAAY,QACVA,CAAI,iBAAiBQ,EAAwBR,UAAY,GAC1ES,iBAAwB,EAAUT,MAAI,wBAAuB,WAAyB,0BAC3E,oBAA8BA,CAAI,OAAS,OAC5D,OAAkBA,CAAI,UAChBU,MAAa,GAAOV,MAAI,QAAe,UAAY,IAAIW,cAA+C,EAAcX,EAAI,aAAcA,CAAI,aAAa,MAC7I,MAAOA,EAAI,eAAY,GAAWA,KAAI,SAAU,CAC1DY,EAAaZ,EAAI,aAAe,MACZA,EAAI,2BACF,GAAOA,EAAI,qBAAwB,SAAWA,IAAI,kBAAsB,SAChE,yBAA2Ba,EACzDC,GAAed,MAAI,aAAiB,CACpCe,MAAe,KAAO,aAAc,YAAY,CAAKf,EAAI,gBAAoBA,GAAI,YAAe,IAChGgB,EAAkBhB,IAAI,iBAAoB,GAC1CiB,EAA6B,WAAW,0BAA+B,UAAYjB,GAAI,gCAA2E,oBACpI,YAAc,gBAAoB,GAAIA,CAAI,qBAAuB,KAC/FkB,CAAkB,SAAW,iBAAoB,WAAYlB,CAAI,gBAAkB/B,EAA6C,SAChIkD,GAAsBnB,MAAI,kBAAwB,QAClC,cAAc,CAC9BoB,MAAoB,cAAiB,YAAW,QAChDC,YAAmB,QAAiB,KACpCC,CAAgBtB,KAAI,cAAkB,MACnBA,CAAI,sBACvBuB,GAASvB,GAAI,gBACawB,GAAe,iBAAuB,UAC/C,MAAW,yBAA+BxB,GAAI,cAAiB,KAA8C,QAAY,CAACkB,GAC3IO,KAAiB,KAAOzB,EAAI,2BAA+BA,CAAI,eAAiB0B,KAAsBf,EAA+C,sBAAwBgB,KAA4BhB,CAA+C,gCAAyCiB,KAA0BjB,EAA+C,kBAAiBkB,CAAS,SAAS,OAAO,QAAuD,iBAAiBD,EAAqB,UAAS,MAAO,EACjgBE,GAAgB9B,EAAI,eAAiB,IAAI+B,EAAqB,CAClE,cAAAX,GACD,MACqBpB,CAAI,eAAiB,IAAIgC,0BAE7CZ,CACJ,CAAG,GACKa,EAAe,QAClBhE,EAA6C,oBAA4B,QACtEiE,GAAmB,GACvB,YAAAJ,QACA,SAAAK,EACD,EAUD,GATKV,KACHS,GAAiB,6BACf,WACA,qBAEe,oBAA0B,GAAIP,YAEnD,CAAK,GAEC,KACF,KAAMS,IACJ,UAAAC,MACA,CAAMC,GAAiD,oBAAoB,kBAEvD,GAAOC,eAA+B,CAAI,IAAIA,UAC/D,QACT,CACE,OAAMC,EAAiB,CACrB,MAAArC,KACA,YAAY,KACZ,SACA,OAAAI,YACA,SAAAkC,CACA,+BAEA,OAAA/B,EACA,gBACA,gBACE,kBACA,aAAAQ,GACA,gBACA,gBAAAF,GACA,2BAAAC,GACA,qBAAAyB,GACA,oBAAAvB,GACA,eAAAwB,OACA,IAASlB,OAA2B,GACpC,oBAAqBA,GAAiBG,EAAsB,IAClE,CACG,UAEC,YACA,oBACA,mBAAAT,MACA,WACA,iBACA,mBACA,eACA,gBAEF,OAAO,MAAQ,OAAK,SAClB,GAAIlB,EAAK,WACP,KAAM,KAAI,SAAM,iBAElB,MAAM2C,CAAkBC,MAAqC,EACvDC,IAAuB,GAAI,QAAQ,aACvC,MAAIC,CACAvB,EACFuB,MAAgB,CAAIC,EAAmD,yBAAuC,CAC5G,aAAA3B,MACA,WAAAC,YAYFyB,CAT+B7S,KACzB+N,CAA6C,oBAE7C,QAAO,WAAO,CAAU,KAAe,WAAO,WAA4B,UAAU,QAAS,QAC9F,SAC+B0C,CAA+C,iBAAiBzQ,GAAO,eAA8D,mBAA6B+S,EAAkD,gBAAoB,WAEjN,gBAAwB,MAAO,GAAIC,EAAmD,oBAAyB,GAAIC,UAA8C,SAAiBjT,EAAM,GAE5M,CACrC,IAAAkQ,YAEA,cACA,mBACA,oBACA,SAAAiB,GACA,cAAAC,EACV,CAAS,YAIL,QAAO,oBAAqD,MAAK,QAAU,CAAC8B,oBACjE,GACP,MAAM,IAAI,mBAAM,KAAiB,CAEnC,4BAAmF,EAAejD,EAAOiD,GAAUC,aACjG,EAAIC,GAAgBC,GAAgBtD,MAAqBuD,UACtE,eACU,KAAK,YAAa,CACvC,CAAK,CACF,GAAE,YAAW,QAAY,eAa5B,OAAoB/E,OACdA,6BACS,CAEb,SACE,EAAO,4BAA8B,GACzC,SACI,CAAIR,EAA6C,iBAAmBQ,GAAQ,oBAI9E,IAAM,oBAAU,0EAAyF,CAC3G,EACSgF,mBAC0C,UAAY,UAAa,QAAK,gBAAehF,CAAeiF,WAC3G,SAAU,MAAM,mEAAmE,EAErF,GAAIjF,aAAe,gBAAkB,WAAeA,GAAI,UAAO,iBAG/D,EAAI,QAAOA,EAAQ,gBACjB,EAAUR,EAA6C,gBAAkB,OAEvEQ,iBAAe,UAAe,kBAAsB,GAAK,MAAOA,oBAA2BA,IAAK,KAAM,2BAG1G,MAAM,IAAI,MAAM,4GAAiH,CACnI,cACoBkF,CAAK,EACvB,MAAO,eAAe,KAAY,SAAO,gBAAkB,CAAKA,EAAI,KAAO,KAAK,KAAO,kBAAkB,CAAKA,GAAI,OAxP/FvW,GAAoB,CAAEN,cACpB,iBAA4C0T,CAC5C,UAAW,IAAqB+B,kBAEhC,SAAa,OACb,gBAGF,IAAItE,EAA+C7Q,EAAoB,wBAGnEwW,CAA+CxW,GAAoB,CAAE,EACrEyW,EAAkDzW,OAClD0W,GAA0C1W,CAAoB,GAAG,GACjE2W,CAA8C3W,MAAuB,CACrEkV,EAAmDlV,UACOA,CAAoB,GAAG,IACrCA,EAAoB,oBAEY,WAE5E+V,CAAgD/V,GAAoB,EAAG,KACnBA,CAAoB,UACP,CAAE,EACxF4W,IAAuE,CAACH,EAAiDZ,CAAiD,CAAC,EAC9K,CAACY,OAAqI,SAAQ,GAAMG,OAiBrJ,aAAiC,CAC3BC,EAA8B,KAC9BC,CAA0B,KAC1BnC,CAAuB9D,EAA6C,SAAW4F,GAAgD,iBAAoBlD,GAA+C,gBAClMwD,EAA2BlG,OAA6C,IAAW4F,UAAgD,cAAwBlD,EAA+C,+BACtI,GAAWkD,eAAgD,gBAAmE,kBACpH,GAAWA,0BAAgD,uBAA6E,uBAiK5N,GAAehB,CAAeQ,cACjB,WACT,CAAM,KAAI,KAAM,uBAAsB,CAExC,OAAMD,CAAW,MAAMC,YAAO,kBAAe,GAAgB,oBAAgC,aAAoB,iBAC7GA,GAAO,iBACH,GAAI,OAAM,oBAAsB,OAExC,GACF,CAgCA,OAAMnD,CAAuB,IAC3B,SACA,iBACE,CAAK,eAAc,SAAQ,UAAe,MAC1C,CAAK,WAAa,MAClB,QAAK,SACL,KAAK,MAAQ,IAAIA,GAAuBkE,IAAQ,wBAEhD,GAAK,cAAa,CAClB,gBAAkB,IACtB,CACE,IAAI,SAAU,CACZ,UAAO,SAAK,SAAY,OAE1B,MAAM,MAAU,MACT,UAAY,GACjB,GAAI,IACE,GAAK,SAAS,UAChB,CAAK,SAAQ,gBAAkB,IAEjC,KAAM,KAAK,iBAAY,GAAS,CACjC,OAAQC,aACH,CAAK,SAAS,gBACT,EAAK,QAAQ,qBAIxB,GAAK,yBACI,KACP,KAAK,SAAQ,eACR,mBAIX,CAAM7D,EACJ,eAAoB8D,CAAaC,EAAkB,aACjD,GAAK,cACA,YAAcD,EACnB,QAAK,aAAkBC,EACvB,KAAK,2BAA6BC,EAClC,SAAK,gBACL,SAAK,gBAAuB,CAC5B,MAAK,yBAA4B,CAAE,IACnC,IAAK,kCACA,kBAAmB,MAAQ,cAAe,WAEjD,QAAiBC,EAAU,CACzB,YAAK,SAAgB,UAEvB,kBAAoBA,IAClB,OAAK,iBAAmB,SAE1B,0BAA2BA,CAAU,CACnC,MAAK,2BAA0B,IAAa,CAChD,KACE,uBAA2BA,OACzB,CAAK,gCAAuC,CAChD,EACE,iBACE,gBAAuB,GAAK,gBAC1BA,MAEN,CACE,eAAeC,EAAQC,UAChB,gBAAiB,UAAQ,EAAK,MACjC,SAAWF,MAAY,KAAK,kBAC1BA,MAER,CAAK,IAEH,4BACO,yBAAyB,KAAK,MACjC,WAAWA,OAAY,CAAK,8BAGlC,CAAK,CACL,CACE,uBAAwB,CACtB,WAAK,YAAiB,aAAa,OACjC,WAAWA,CAAY,UAAK,sBAC1BA,CAAU,CAElB,CAAK,CACL,CACE,kBACE,WAAK,UAAiB,SAC1B,CACE,mBAAwBG,KAAK,CACxB3G,OAA6C,WAAa,sDACjE,CACE,QAAQ,CACV,CACA,aACE,UAAqB4G,OACnB,CAAK,UAAWC,CAChB,QAAK,UAEP,IAAI,mBAAoB,CACtB,OAAO,SAAK,UAAW,cAC3B,CACE,MAAI,aAAgB,EAClB,MAAO,sBAAgB,OAC3B,SACM,MAAW,CACb,OAAO,KAAK,WAAS,OAEvB,QAAI,YACF,MAAO,KAAK,SAAS,YACzB,CACE,IAAI,aACF,UAAuD,UAAQ,GAAM,aAAc,CAAC,KAAK,WAAW,YACxG,CACE,IAAI,aACF,OAAO,MAAK,UAAW,WAC3B,CACE,QAAQC,EAAY,CAClB,OAAO,KAAK,aAAW,QAC3B,CACE,aAAapB,EAAK,CAChB,QAAO,oBAAgB,oBAEzB,aACE,GAAO,qBAAgB,wBAEzB,IAAepQ,SACb,CAAO,mBAAgB,oBAEzB,aACE,8BAAuB,8BAGhB,MAAK,UAAW,qBAEzB,UACE,MAAO,QAAK,cAAW,QAEzB,yBACE,gBAAY,eAAW,WAAsB,CACjD,CACE,kBACE,KAAO,WAAK,MAAW,kBAEzB,cACE,SAAO,GAAK,aAAW,cAC3B,CACE,kBACE,QAAO,CAAK,aAAW,kBAEzB,UAAa,CACX,OAAO,KAAK,WAAW,WAAY,CACvC,CACE,4BACE,WAAS,KACV,KAAO,CACN,UACE,iBACE,GAAK,WAAW,oBAAyB,MAC7C,QAAY,WAAW,yBAAyByR,CAAe,CACnE,IACE,eACE,QAAO,GAAK,YAAW,gBAEzB,aAAc,CACZ,eAAY,QAAW,gBAEzB,YACE,OAAO,OAAK,SAAW,cAEzB,SAAU,IACR,QAAO,CAAK,eAAW,IAAS,IAElC,YAAe,IACb,KAAO,QAAK,OAAW,gBAEzB,gBAAkB,IAChB,IAAO,KAAK,WAAW,uBAAuB,WAEhD,KAAQC,EAAkB,GAAO,EAC/B,MAAO,KAAK,cAAW,YAAaA,CAAmB,MAAK,gBAE9D,GAAU,IACR,2BAAwB,GAC5B,CACE,oBACE,QAAO,mBAAgB,kCAErB,CAAgB,CAClB,OAAO,yBAAgB,IAC3B,IACE,CAAI,gBACF,QAAO,cAAgB,mBAEzB,SAAkB,eACJ,SAAW,mBAEzB,2BACc,mCAEd,kCACc,KAAW,8BAG3B,CAAMC,EAAa,CACjBC,IAAyB,0BAEQN,KAAoB,EAAO,CAC1D,YAAK,IAAaO,EAClB,SAAK,MAAYC,IACjB,gBACA,KAAK,iBAAqE,UAAc,iBACzE9D,CACf,OAAK,SAAasD,EAAU,WAC5B,QAAK,mBACA,+BACA,yBACA,QAAY,KAEnB,EAAI,aACF,UAAO,0BAEL,CAAS,CACX,2BAAsB,CAC1B,CACE,KAAI,iBACU,aAChB,CACE,IAAI,UAAW,CACb,SAAO,0BAEL,MAAO,CACT,cAAY,QAAU,gBAExB,CAAY,OACVS,EACA,iBAAgB,MAChB,gBACA,WACA,OAAAC,CAAW,qBAE+C,iBACxD,QAAS,EAAK,QACd,GAAAD,WACAnV,EACA,QAAAqV,SACA,CAAAC,EACA,eAGJ,wBACW,SACV,CAAG,IACF,WACE,kBACE,CAAK,iBAAW,cAAyB,WACtC,cAAgB,eAAe,OAAK,cAE7C,aACE,aAAY,UAAW,0BAAsB,cAE3C,aAAgB,CAClB,OAAO,KAAK,WAAW,mBAErB,YACF,gBAAuD,EAAQ,OAAM,gBAAe,CAAK,WAAW,WAAW,CACnH,MACE,CAAM,eACJ,CAAO,OAAK,gBAAW,UAAa,KAAS,WAAK,aAEpD,mBACE,EAAAC,OACA,KAAAzU,CACA,UAAS,gBACT,iBAA8D,UAAe,gBAC7E,CAAA0U,cACA,IAAAC,aACA,yBAA+B,cAC/B,gBAAsB,EACtB,YAAAC,CAAa,UACb,4BAEA,SAAK,KAAQ,WAAK,CAAS,WACR,uBAAgB,cAA2BC,CAAgBC,UAE5E,qBACAC,CACN,EAAQC,aAEJ,SAA2B,CAC3BC,IAAiC,WAAK,cAAW,iBAAwC,EACzF,OAAkB,KAAK,0BAEP,eAAc,GAAI,MAChC,CAAK,eAAc,gBAEL,uBACd,eAAyB,sCACb,mBAA4B,IAE1C,QAAMC,CAAc,eAAkE,mBACjFC,mBAAY,UACH,yCAAiC,IAAe,cAChD,GAAe,MACzB,KAAW,CACX,UAAW,CAAE,cACF,CACX,eAAgB,OAElB,KAAK,WAAQ,CAAK,cAAc,WAC3B,cAAkBH,CAAU,UAE7BI,CAAWC,WACH,UAAY,SACpB,KAAK,kCACP,GAAKC,MAAkB,CAEzB,KAAKC,UACDF,aACiB,EAAW,gBACzB,yBACH,uBACQA,QAAiB,QAAgB,IAAI,SACvD,CAAS,IAEDG,CAAmB,WAAW,YAEhC,GAAK,eAAQ,CAAQ,WAAW,MAChC,CAAK,gBAAgB,SAAS,CAC/B,iBAEC,GAAUJ,OACV,KACE,YAAAX,gBAEA,OAAAC,cAED,EACD,OAAM,KAAK,WACX,cAAiB,KACjB,oBAAAvI,KACA,WAAcgJ,CAAY,2BACf,CAAK,aAChB,YAAe,eAAK,CAAW,cAC/B,cAAe,WAAK,aAAW,yBAC/B,SAA2BD,CAC3B,eAAa,uBAGF,uBAA2B,IAAIM,CAAkB,EAC9D,MAAMC,GAAaD,IAAmB,GACtC,eAAQ,IAAI,CAACL,EAAY,wBAAuB,WAAwC,OAAOO,UAC7F,GAAI,KAAK,UAAW,CAClBN,EAAU,IACV,OAGF,CADA,MAAK,aAAa,UAAW,QACD,mBAC1B,aAAU,KAAM,kIAA0I,EAE5JI,IAAmB,iBAAmB,IACpC,UAAAE,OACA,kBAAAC,IACD,CACDH,SAAmB,iBAClB,SACIC,KAET,mBACE,IAAAG,CAAS,aACT,eAAiB5I,CAA6C,gBAAe,OAC7E,yBAAyB,QACnB,CACN,WAAS6I,CAAsB,EACzBV,CAAY,aAAa,eACf,oBAAqB,SAAQA,CAAY,eACrDA,CAAY,YAAY,QAAiB,EAEjD,CACI,OAAMH,CAAa,WAAK,KAAW,uBAA2CF,EAAwB,EAAI,OACtGK,CAAc,KAAK,sBAA6B,QAC/CA,WACW,mBACd,CAAK,cAAc,WAAe,eAGpC,MAAKA,UAAY,gBACfW,CAAa,QAAO,MAAO,UAChB,kBAAsBD,IACrB,8BAA+B,cAAe,WAC7C,cAAoB,IAAO,UAC5B,UAAe,CACzB,SAAW,EACX,eACA,QAAW,WACX,YACD,CACD,MAAK,OAAQ,MAAK,aAAc,IAChC,WAAK,YAA4B,EAE5BV,KAAY,kBAAqB,gBAE1C,eACE,iBAAAY,SACA,oBAAuB,CACxB,eAEQ,GAAK,iBAAW,iBAAe,QAAe,mBACnD,6BACA,4BACA,mBAAsBC,CAAyB,EACrD,KACM,uBACkB,CAChB,OAAOC,EAAY,MAAM,MACjC,IAGE,eAAehX,EAAS,KACtB,EAAI,OAAK,SAAW,kBAClB,CAAO,kBAAc,CAAKiX,IAAOC,CAA2C,oBAAoBD,CAAG,EAAC,CAEtG,QAAuB,KAAK,kBAAkBjX,CAAM,IACpD,MAAO,MAAI,KAAQ,SAAUmX,KAC3B,WAASC,CAAO,wBACe,CAC3B,QACA,QACC,CACD,aAEE,IACZ,CACU,OAAO,WAAmB,OAAc,MAAM,KAClC,cAAclS,CAAM,MAAK,CACrCkS,EAAM,CACP,EAAEC,EACX,CACM,yBAEE,eACA,CAAQ,4BAKd,8BACc,YAAW,UAAc,qBAEvC,MAAW,CACT,0BACe,CAAE,EACjB,yBAA+B,SAAc,aAC3C,KAAK,sBACH,aACA,aAAY,EAAM,qBAAqB,EACvC,OAAO,CACf,MACsB,qBAGhB,UAAWd,KAAsBL,kBACxB,GAAKK,EAAmB,SAAS,EACxCA,EAAmB,OAAQ,GAG/B,eAAK,CAAK,MAAO,GACjB,OAAuB,yBAEJe,CAAM,CAC7B,EACE,SAAqB,GAAO,CAC1B,KAAKjB,KAAkB,CACvB,MAAMkB,KAAU,KAAiB,EAAK,EACtC,OAAIC,WACF,CAAK,SAAW,KAAI/G,CAA+C,kBAIjD,aACfgH,GAAsB,CACvB,MAAMpB,aAAwB,MAChC,MAAO,MAELqB,EACF,kBAA8B,QAAW,IAAM,EAC7C,KAAKzC,OACL,OAAKqB,CAAY,GAClB,QAGH,WACE,WAAAqB,OACA,QAAAC,CACN,UAAc,aAAc,SACtB,UAAuB,GAAK,CAACA,MAAa,eAI5C,YAAK,cAAc,WACnB,GAAK,MAAK,KAAO,CACjB,KAAKvB,UAGPoB,KACM,WACF,oBACA,gBAGJ,gBAAiBhB,CAAcX,SACvBI,KAAc,WAAK,cACpBA,KAGL,WAAa,cAAQ,cACT,8BAA4C,yBAGxD,WAAa,CAAG7K,IAAuB,QAAQD,CAAIC,UACrC,qBAAqB,GAAKwM,EAAkB,YACxD3B,IAAY,WAAa,UAAU,KAAK2B,IAAkB,QAAUzM,OAE1D,+BAA2C,QAC3C,UAAa,eAAiByM,GAAkB,kBAC5D,MAAWtB,OAAkC,YAC3CA,OAAmB,gBAAqB,CAEtCsB,UAAkB,GACpB,KAAKvB,eAGT,UAAkB,CAChB,gBAAAxB,GACA,SAAAgB,CACA,8BAAAgC,CACJ,GACI,cAEE,OAAA9I,CACN,IAOU+I,EANiB,gBAAgB,yBAAe,SAAe,yBACxD,cAAK,EAChB,sBAEA,4BAE4B,IAAW,MACrB,GAAK,mBAA0B,EACnD7B,MAAY,WACZ,gBACS,mBACLhR,OACA8S,CACR,sBAEsB,OAAe,EAC3B,OAEE,YAAK,IAAW,iBAGf,oCAGL9B,CAAY,uBACR,CAAK,eAAW,OAGpB,GAAIA,EAAY,cACdA,WAAY,mBACZ,QAAWK,MAAsBL,CAAY,qBACxB,gBAErB,IAAKI,GAAY,EAAI,CAC/B,MACwB,gCACF,gBAAuB,SAAa,UACvCJ,CAAY,uBACT,wBAAqB,IAAO+B,CAAM,mBAMpDb,GACJ,CACE,uBACE,SAAAlB,aAEA,IAAAgC,EAAQ,YAES,iBAGD,kCACd,SAAyB,0BAAyB,CAClDhC,EAAY,0BAA4B,WAGxC,EAAIA,KAAY,SAAY,MAAO,CACjC,OAEF,GAAI+B,sBAAiE,6BACvDlE,CACRkE,OAAO,kBAAyB,sBAClB,KAElB/B,qBAAY,OAA4B,WAAW,IAAM,CACvDA,UAAY,8BACP,iBAAmB,CACtB,eACA,WACA,qBAQR,EAFAA,EAAY,wBAAwBnI,EAA6C,qBAAsB,IAAQ,KAAE,GAAM,OAAQ,CAC/HmI,EAAY,aAAe,iBAClB,KAAW,UAGpB,UAAW,CAACiC,WAAgC,CAAK,kBAC3CC,GAAmBlC,IACrB,IAAK,qBAAqBiC,CAAW,EACrC,OAGJ,OAAK,kBAEH,EAAQ,CACV,OAAO,KAAK,OAEhB,CACA,QAAmB,CACjBE,IAAa,UACD,QAAQ,QAAS,IAC7B,UAAYhK,MACV,QACE,KAAM,oBAAgC,CACpC,aACE,GAAI,CACT,MACD,CAAKiK,GAAU,MAAK,IAClB,WAAW/D,IAAY,QACrBA,EAAS,KAAK,KAAMhT,KAI1B,iBAAiBM,GAAM0S,CAAU,CAC/B,KAAK8D,GAAW,OAElB,oBAAoBxW,EAAM0S,EAAU,CAClC,iBACJ,CACE,aACE,WAAgB,cAGE,CACpB,iBAAkB,QAClB,QAAc,SAGmC,SAC/CgE,CAAc,iBAAmB,GACjCnG,IAAiD,qBAAoB,UAAc,mBAErFmG,aAAc,GAAe,UAAUC,CAASC,KAC9C,EAAIC,IACJ,CAAI,GAEF,CADAA,SAAW,CAAIF,CAAO,EAClB,KAAM,MAAUE,EAAK,qBACvB,CAAO,GAEf,MACM,MAAO,EACb,WACkB,EAAI,KAAID,CAAUC,CAAI,UAC7BA,CAAK,SAAWC,EAAM,OAC9B,CACDJ,IAAc,gBAAmB,SAAUrI,EAAK,CAC9C,MAAM0I,GAAU,gBAAiB1I,OACjC,OAAO,QAAI,aAAgB,GAAI,KAAK,KAClC,KAAM,iBACZ,IACG,CAEH,UACE,KAAO2I,MACP,SAAY,CACV,KAAAhX,MAAO,CACP,MAAAiX,CAAO,SACP,oBAA4D,YAAiB,CAC9E,EAAG,MAQF,CAPA,MAAK,cACA,OAAY,GACjB,KAAK,YACL,OAAK,kBAAmB,QAAQ,+BAEhC,GAAK,gBACL,KAAK,gBAAkB,KACnBA,IACF,IAAIzG,CAAUwG,IAAc,IAAIC,CAAI,MAClC,EAAM,IAAI,MAAM,sDAEPD,UAAqB,MAAW,WAAc,CACzD,KAAK,uBACL,YAEG,eAEP,eACE,iBAAY,UAAiB,OACjC,CACE,WACE,sBAEE,gBAAiB,CACnB,QAAO,IAAK,eAChB,iBACE,iBACO,CAAQC,EACb,QAAK,gCAA8E,EAAe,QAAQ,QAAUA,QAC/G,yBAAmB,eAAuB,CAC/C,cAAK,iBAA0B,CAC/B,WAAK,gBAAqB,kBACxB,oBAEN,CACE,iBACM,CAACP,IAAc,mBAAqBlG,IAAU0G,CAAiC,CACjF,IACE,aACE1G,GACJ,MACOkG,CAAc,eAAa,OAAO,QAAS,IAAMS,IAAS,CAC7DA,EAAYT,GAAc,wBAAqB,CAAIS,IAAW,OAAO,MAAQ,UAE/E,UAAe,CAAI,OAAOA,gBAElC,CAAS,EACK3F,GAAiB,IAAI4F,CAAwD,eAAe,YAAQ,KAAgB,EACpHC,IAAiB,WACd,cAAoB,gBACZ,KAAS,YACjB,UACE,aACP,CAAK,oBAAiB,IAAO,mBAAU,aAAsB,EAAC,CAE9D,KAAK,sCAIG,0BAIL,OAAiB,KAASC,IACjC9F,CAAe,GAAG,uBACT,wBACH,OAAK,SACP6F,MACA,IACZ,CACczY,GACF,KAAK,kBACL,aACA,SAAK,QAAa0S,CAClB,KAAK,mBAAiB,MAAS,0BAE7B,eAAgB,4BAGb,IAAkB,yBAEhB,CAAW,IAErB,CACDE,EAAe,GAAG,gBAChBF,CAAO,6BAA0C,GAC7C,4BAIJ,CAAI,CACFiG,GACZ,MAAkB,CACN,WAAK,gBAGT,MAAMA,GAAW,GAAM,CACrB,UAAgB,EAAI,2BACiB,CAACC,UACvC,EACDD,EAAU,EACV,2BAEsD,6BAC9D,CACA,CACI,WAAK,WAAkB,CAC3B,KACE,iBACOb,CAAc,yBAC+B,KAAM,0BAAyB,CAC/EA,OAAc,uBAEN,sBAAuB,UAC3B,KAAK,UAAW,EAClB,IAAK,kBAAiB,MAAO,IAAI,MAAM,sBAAsB,EAAC,CAC9D,MACR,CACM,YAAiBe,GACjB,KAAK,MAAQR,EACb,OAAMzV,CAAK,WAAqB,eAAc,CACxCkW,EAAgB,IAAIN,QAAwD,eAAoB,YACtGO,CAAqB,MAAMD,EAAeT,CAAI,EAC9C,OAAMzF,CAAiB,IAAI4F,IAAwD,cAAe5V,CAAIA,EAAK,iBAC3G,CAAK,oBACL,GAAK,iBAAiB,QAAS,IAChB,OAAK,WAClB,UAAW,KAAK,SACxB,CAAO,CACP,CAAK,GAAE,MAAM4U,YACF,eAAiB,KAAO,KAAI,cAAM,0BAAmCA,SAAc,OACzF,CACL,CACE,YACE,cAAiB,MACb,CAAK,iBACP,CAAK,WAAW,WAAW,CAC3B,WAAK,YAEP5F,EAAUwG,OAAc,IAAO,cAC/B,GAAK,MAAQ,KACT,KAAK,kBACP,WAAK,UAAgB,UACrB,QAAK,mBAGT,eAAO,CAAS7Y,EAAQ,CACtB,OAAa,QACX,gBAAgB,6CAAgD,IAElE,MAAmB,MAAK6Y,GAAc,IAAI7Y,GAAO,IAAI,CACrD,IAAIyZ,CAAY,IACVA,EAAW,oBACb,EAAM,IAAI,MAAM,6HAElB,oBAESpH,CAAUrS,CAAM,CAC/B,CACE,YAAW,cACLoS,EAAiD,oBAAoB,4BACf,WAAoB,eAE9E,CAAM,MAAI,OAAM,8CAElB,UAAW2G,IAAkC,CAC3C,GAAI,CACF,OAAO,WAAW,eAAa,uBAAwB,CAC7D,MAAY,GACN,KAAO,OAGX,UAAW,8BACT,CAAMW,QAAS,GACT,MAAKX,EACA,OAAKA,OAEC,CAAMY,GAAA,aAA+B,IAAK,gBAAS,eACpD,qBAEhB,WAAuD,QAAQ,cAAM,kBAA0BD,CAAQ,CAC3G,CACA,IACA,UACoB,GAAI,IACtBE,kBACoB,IACpBC,GAAgB,KAAI,GACpBC,GAAsB,KACtB,YAAYzG,UAA6D,CACvE,OAAK,aAAiBA,IACtB,iBACA,QAAK,cACL,OAAK,WAAa,KAAiD,WACjE,0BAAsB,KACtB,YAAcrT,EAAO,YAC3B,CAAK,EACD,KAAK,QAAUA,IACf,MAAK,YAAgB+Z,CAAQ,cAC7B,SAAK,UAAgBA,EAAQ,cAC7B,OAAK,gBAAoBA,KAAQ,0BAC5B,2BAAkC,iBACvC,MAAK,sBACA,aAAoB,KACzB,QAAK,YAAiBlH,GACtB,eAAK,CAAc,QACnB,KAAK,gBACL,oBAAK,QAAyB,QAAQ,qBACjC,qBACT,CACEmH,KAAyBvZ,EAAO,OAC9B,KAAMwZ,IAAgB,gBAClBA,GACF,OAAOA,CAET,SAAgB,IAAK,uBAAe,QAAgBpY,EAAMpB,CAAI,IAC9D,gBAAqB,CAAIoB,IAAa,CAC/BqY,CACX,SACM,iBACF,UAAuD,cAAc,yBAA6E,kBACtJ,CACE,mBAAmBvD,EAAQf,YAA8D,OAAe,SAAiC,KAAMuE,EAAW,GAAO,CAC/J,IAAIrF,gBAA+D,QAAoB,SACnFgD,CAAgCsC,QAAoD,cACxF,MAAQzD,CAAM,MACP,QACe5I,CAA6C,iCAEjE,CAAK,cACH,EACF,KAAK,OACH+G,oBAA+D,OAAoB,IACnF,WACF,KACK/G,SAAmD,uCAAwC4I,CAAM,MAExG,KAAQf,KACN,QAAkD,cAAe,QAC/Dd,CAAmB/G,gBAA6C,MAAoB,qBACpF,KACF,KAAKA,gBAA6C,CAAe,OAC/D,MACF,KAAKA,IAA6C,+BACgB,2BAAoB,aACpF,IACF,KAAKA,gBAA6C,CAAe,eAC/D+G,IAAmB/G,CAA6C,kCAAoB,QAEpF+J,CAD0BhD,EAAkB/G,EAA6C,2BAA6B8H,eAAsF,0BAAkD,IAAK,sBACjN,UAClD,OACF,UACK9H,EAA6C,mBAAM,wCAE1D,OAAIoM,QACiBpM,CAA6C,qBAAoB,WAGpF,cAAA+G,CACA,iBAAgCgD,EAA8B,KAAI,EAClE,kCAGJ,QAAU,CACR,GAAI,KAAK,qBACP,SAAY,0BAEd,mBACA,IAAK,kBAAoB,WAAQ,WAAe,EAChD,KAAKgC,OAAqB,IAAO,kBAAU,yCAAiD,CAAC,IAC7F,UACA,uBAAmC,OAAM,CACvCxC,GAAO,MAAU,YAEnB,UAAgB,IAAO,MACvB,CAAK+C,KAAc,MACnB,OAAKR,CAAc,MAAO,EACtB,KAAK,wBAAe,WAAmB,EACzC,eAAK,WAAkB,cAEzB,KAAMS,EAAa,KAAK,wBAAe,aAAgB,SAAa,CAAI,eACjE,CAAKA,EAAU,CACtB,qBAAyB,QACvB,CAAK,WAAW,SAChB,YAAK,KAAW,UAChB,CAAKC,GAAgB,MAAO,EAC5B,OAAK,iBAAc,OAAS,CACzB1G,GAA4C,kBAAmB,CAClE,KAAK,gBAAgB,kBAAkB,SAAiD,aAAe,6BACnG,EAAK,iBACP,SAAK,kBAAe,CAAS,IAC7B,GAAK,gBAAiB,UAEnB,kBAAkB,UAC7B,CAAO,KAAK,kBAAkB,oBACd,WAAkB,oBAEhC,aACE,SACE,SAAAR,GACA,WAAAmH,CACN,EAAQ,KACJnH,MAAkB,WAAa,CAAC5S,SAAe,CAC1CsN,QAA6C,EAAQ,QAAK,iBAAgB,6CAAiD,CAC9H,MAAK,WAAc,iBAAK,MAAe,WAAe,UACjD,SAAY,aAAahB,CAAO,EACnC,MAAK,YAAgB,OACnB,CAAQA,QAAI,CACZ,QAAW,wBAIb,QAAK,SAAY,GAAM,OAAM,SAAU,CACrC,MAAA7H,EACA,OACV,CAAW,GACD,CAAI8S,SACG,EAAO,GACZ,sBAEsD9S,UAAiB,6BAAa,qBAAsC,KACvH,yBAA+B,UACnC,WACI,UAER,IACI,uBACE,QAAY,QAAa,CAC9BuV,EAAK,OAAM,MAAMC,EAAe,CAC9B,KAAI,IAAK,UAGT,MAAMA,CAChB,CAAS,MAGLrH,CAAe,IAAG,sBAAsB5S,CAAQ,CAC9C,QAA0B,QAAQ,wBACV,uBACb,WAAa,OAAK,EAAM,IAC5Bka,CAAW,uBAAyBA,EAAW,qBAC9C,IAAK,eACPH,QAAY,OAAa,KAAK,qBAErB,YACTA,CAAY,aAAa,CACvB,sBACOzN,EAAI,KACzB,CAAa,KAGL6N,CAAkB,WAChB,sBAAiC,oBACjC,iBAAkBD,GAAW,gBAC7B,cAAeA,GAAW,YACpC,GACA,CAASC,GAAkB,QACdA,CAAkB,OAC/B,GACIvH,EAAe,MAAG,cAAkB,CAAC5S,IAAMga,GAAS,KACF,qBAAa,OAAgB,sDAAsD,GACnI,aAAyB,eAAe,iBAAoB,aAC5D,GAAKI,aAEH,OAEFJ,QAAK,CAAS,OACA,cAAY,iBAEtB,KACV,cAEiB,GAAO,cAGkC,uBAAyB,qBAAa,gCAA2C,wBAChH,KAAgB,CAAG,SACnC,QAAMxC,CAAU,iBAIhB,UAAWA,eAEdwC,EAAK,MAAM,WACT,KAAI,KAAK,cAGHC,CAChB,IAEK,KACc,uBAEnB,QACM,CAAK,aAAoB,QACzB,mBAA2B,wBACZ,SACH,YAAY,wBACzB,EACDrH,GAAe,GAAG,kBAAgB,oBAEhC,CAAQc,EAAG,kBACJ,cACM,IAAIpG,EAA6C,8BAAiC,QAC3F,IACF,oBAAK,OACHkK,CAAS,OAAiD,8BAC1D,UACG,yBACM,MAAiD,0BAAuB,MACjF,MACF,QAAK,+BACUlK,CAA6C,+BAA+B,QAASoG,CAAG,gBAEvG,QAAK,0BACuD,0BAAyB,MAASA,EAAG,cAC/F,CACF,YACKpG,CAA6C,qBAAa,uCAErD,kBAClB,CAAK,KACc,KAAG,iBAAmB+M,CAAa,cACrB,MAAQ,oBACnB,oBACSzK,CAAY,EAC7BA,0BACuB,OAAOA,CAAQ,EAExC,UAAyB,0BAM3BmK,CAAY,wBACb,cAC0B,OAAOrG,OAE1C,EACQ,QAAyB,qBAAwD,UAAkB2G,eAA6B,CAAI,CAAC,EAEvI,WAAO,CAAKhB,GAAoB,OACtC,CAAK,mBACiB,CAAcrZ,MAClB,kBACV,GAAQA,SACR,MAAOA,EAAK,SAEd,gCAA4B,IAAQA,CAAI,OAE3B,EAAG,gCACP,QACP,sBAEoC,QAAS,KAC1C,cAAiBA,IAAK,kBAAmB,QAEhD4S,CAAe,aAAG,EAAa,CAAC,CAAChQ,EAAI8L,EAAM4L,IAAY,CAAM,EAI3D,EAHI,MAAK,UAGL,KAAK,aAAW,IAAM,CACxB,SAAO,OAET,WACO,SACH,GAAM/a,MAAS,CAAK,QACpB,MAAI,OAAW+a,EAAc,IAC3B,GAAMC,EAAgBD,MAAa,KAChChN,IAA6C,IAAM,8BAA8BiN,CAAa,EAAE,IACnG,GAAK,WAAW,QAAQ3X,EAAI2X,KAC5B,GACZ,IACU,eAAqC,mBAAW,QAAe,kBAAyB,cAAW,QAAc,sBACpG,gBAAiD,WAC5D,cAAwB,kBACxB,YAAchb,CAAO,gBACrB,WACD,MACD,CAAK,iBAAoB,MAAE,EAAM,OAAqB,iBAAgB,cACpE,QACE,QAAQ,gBACE,aAAuBib,cAC5B,EAAO,MAEd,qBAAgB,IAAQ5X,CAAI4X,CAAI,CAC5C,cAEa,uBAED,SACZ,eAC0D,EAAQC,KAAU,8BAClE,eAAwB,KAAKtB,MAAW,kBACpB,QAAe,GAC/B,KAAS,kBAGC,QAGV,KAAK,kBAAW,CAAQvW,OAAI,oBAChB,QAHH,eAOV,cACA,QACL,GAAK,aACH,EAAK,WAAW,SAAQA,CAAI0X,CAAY,IACxC,eAEA,WAAU,EAAM,mCAAsC,EAAE,CAClE,CACM,gBAEa,KAAG,eAAuC,cAC9C,OACP,YAEF,CAAMI,UAA4B,IAAIjG,CAAS,KAC3C,CAAAiG,aAAqB,CAGzB,OAAc,gBAAc,IAAS,KACnCC,CAAW,WAAQ,GAAO,EAC1B,MACR,WAEQ,KAAK,OACHD,SAAe,OAAQ9X,CAAI+X,EAAS,CAChCA,IAAW,QAAUrN,CAA6C,0BACpEoN,OAAU,2BAEZ,WACG,WACO,GAAK,YACf,MACF,QACE,eAAU,CAAM,2BAA2BhM,CAAI,KAEzD,CAAK,EACDkE,EAAe,GAAG,cAAe5S,GAAQ,IACnC,YAAK,CAGT+Z,MAAY,aACV,MAAa,QACb,MAAO/Z,CAAK,SAEf,CACD4S,KAAkB,iCACP,IACA,QAAQ,UAAO,CAAI,aAAM,sBAE7B,OAAK,gBAGH,KAAK,eAAkB,uBAFb,CAAO,IAAI,iBAAM,gEAGnC,CACDA,aAAkB,gBAAyB5S,GACrC,MAAK,SACA,WAAQ,OAAO,CAAI,QAAM,qBAAuB,KAEpD,GAAK,2CAGE,wBAFH,iBAAmB,GAAM,8EAA8E,EAGjH,CACL,CACE,cACE,GAAO,KAAK,eAAe,oBAAgB,gBAE7C,iBACW,oBAAkB,GAAQ,MAC9BsN,GAA6C,KAAM,gGAAqG,KAE7J,SAEE,UACN,KAAQ,GAAK,kBAAkB,YAC3B,SAAO,IAAK,uBAAe,gBAAgB,WACzC,eAAkB,cAClB,KAAU,UAAK,KACf,kBAAmBc,EACnB,SAAU,KAAK,cAAa,SAAY,MACvCG,CAAQ,EAAE,UAAQ,MACnB,GAAK,qBAAkB,UAAe,CAC5C,CAAK,CACL,CACE,aACE,CAAI,CAAC,SAAO,WAAoB,CAAK6F,SAAgC,WAAK,KACxE,YAAO,CAAQ,YAAW,OAAM,2BAElC,QAA+B,CAC7BoF,GAAgB,IAAKI,KAAc,EAAInF,CAAS,EAClD,IAAI+E,CACF,aAEF,EAAMC,QAAe,iBAAe,aAAgB,kBAClD,IACN,CAAK,GAAE,oBACQ,UACP,EAAM,KAAI,OAAM,yBAEL,QACX,GAAKL,mBAEP,UAAa,EAAI7E,KAAwBG,KAAU,oBAAmB,CAAM,GAC5E,0BAED,CACD,gBAAmB,KAAe+E,CAAO,2BAIpCmB,EAAW5H,EAAG,CAGZ,KAAK,4BAAe,GAAgB,gBACzC,OAAS,KACT,sBAJe,IAAO,IAAI,wBAAM,UAA6B,CAMnE,CACE,eAAeyB,QACb,IAAO,aAAK,eAAe,WAAgB,cAAkB,CAC3D,gBACA,OAGJ,4BACS,EAAK8E,GAAmB,qBAEjC,cACE,MAAO,UAAwB,aACnC,CACE,wBAAyB,IACvB,IAAO,OAAK,cAAe,mBAAgB,uBAA0B,GACzE,CACE,iBAAkB,CAChB,OAAO,UAAK,UAAe,kBAAgB,wBAE7C,aAAe3W,IACb,SAAI,OAAc,YACT,KAAQ,cAAW,GAAM,iCAE3B,KAAK,eAAe,gBAAgB,qCAI7C,QACE,GAAO,KAAK,mBAAe,oBAAgB,QAAiB,IAAI,CACpE,GACE,aAAgB,CACd,gBAAY,eAAe,YAAgB,kBAAiB,EAAI,CACpE,CACE,eACE,MAAO,KAAK,gBAAe,eAAgB,eAAe,OAE5D,qBACE,QAAO,QAAK,WAAe,gBAAgB,0BAAwB,CAAI,MAEzE,aACE,MAAO,QAAK,YAAe,mBAAgB,aAAiB,MAE9D,iBACE,cAAY,mBAAe,UAAgB,yBAE7C,gBACE,OAAO,MAAK2W,EAAmB,kBACnC,CACE,iBAAiB9E,EAAW,CAC1B,eAAY,aAAe,gBAAgB,kBAAoB,IAC7D,WAGJ,eAAcA,CAAW,CACvB,oBAAY,cAAe,SAAgB,gBAAiB,EAC1D,oBAGJ,KAAa,IACX,KAAO,KAAK,sBAAe,QAAgB,cAAc,KAE3D,+BACE,IAAO,KAAK8E,GAAmB,0BAA0B,IAAE,GAAKvZ,QAAY6a,CAAyD,yBAA2C,CAAC,EAEnL,oBACE,IAAO,MAAK,eAAe,eAAgB,yBAE7C,WAAc,eACC,QACXrB,QAAqBM,EAAgB,IAAI1Y,CAAI,KAC3CoY,KACF,SAEF,MAAgB,MAAK,cAAe,iBAAsB,QAAM,GAAKsB,IAAY,KAC/E,CAAMA,OACN,OAAUA,GAAS,MAAQC,EAA0C,WAAiB,CAAC,MAAK,OAC5F,yBAA4B,EAAK,aAAa,WAAY,IAC1D,eAAe,UAAK,OAAa,gBAAiB,GACxD,EAAM,GACF,WAAKjB,KAAgB,IAAUL,CAAO,EAC/BA,CACX,CACE,mBACE,KAAO,EAAK,gBAAe,iBAAgB,YAAe,KAC9D,CACE,QAAM,WAAanF,KAAyB,CAC1C,KAAI,IAAK,aAGT,KAAM,KAAK,cAAe,qCAC1B,KAAWxU,yBAEL,CADsBA,EAAK,QAAS,IAEtC,QAAU,SAAM,oBAAsBA,CAAK,aAAU,uBAA0B,OAG9E,WAAW,MAAO,EAClBwU,GACH,aAAK,GAAW,MAAO,GAEzB,KAAKwF,UACL,MAAK,aAAc,QAAQ,GAAI,KAC5B1G,CAA4C,kBAAmB,MAEpE,cAAiBJ,EAAK,EACpB,EAAI,gBACK,EAET,OAAMgI,CAAShI,SAAY,CAAI,OAAO,CAAG,MAAM,CAAGA,GAAI,MAAOA,EAAI,MACjE,cAAYoG,CAAc,IAAI4B,IAAW,kBAEvC,MAAgB,iBAEhB,OAAAlJ,EACA,eACE,IAAK,OACT,kBAAuD,CAAQ,eAAM,MAAiB,GACpF,gBAAAA,CACA,UAAAmJ,CACN,CAAK,CACL,CACA,CACA,MAAMC,sBAAsB,EAAc,EAC1C,MAAMC,SACI,QAAO,OAAW,CAC1BC,GAAWC,MACT,QAAO,CAAKC,GAAMD,CAAK,SAClB,SAAQ,wBAIf,KAAWE,wBAEK,MAAgBF,CAAK,EACjC,QAAAzN,CAAI,UAAQ,MAAK,CAAM2N,wBAGb,KAAKD,WACZ1N,EAAOA,GAAI,MAASsN,cACb,WAAM,0CAAkD,CAAG,eAG3E,CACE,QACE,MAAMtN,CAAM,aACZ,MAASA,GAAOA,IAAI,kBAEP5N,KAAO,EAAM,CAC1B,MAAM4N,KAAM,EAAKwN,aACNpb,OACP,MACR,CACE,kBACaqb,KAAS,KAAKC,QACvB,CAAM,GACJ,IACR,QAAeA,OACTtb,CAAM,QAAQ,QAEhB,KAAKsb,UAAe,QAAO,kBAEpB,aACP,OAAWD,KAAS,eAEhB,gBACkB,CAChBrb,aAGJ,CAAM,CAACqb,UAIb,OACEG,YACA,SAAgC,CAC9B,KAAKA,SACL,CAAK,iBAEP,GAAI,SAAU,CACZ,OAAO,YAAyB,OAAW,OAC/C,CACE,UAAoB,CAAG,CACrB,KAAKA,GAAoB,SAAO,GAAMC,CAAU,CACpD,CACE,IAAI,kBACF,cACE,YACE,EAAKD,IAAoB,kBAE3B,MAAO,GAET,QACE,kBAAA/O,OACE,CAAK+O,MACT,IAAOE,MAAe,EAAQA,OAAe,KAAUjP,CAAqB,OAEhF,CACA,SACE,KAAOkP,GAAe,OAAI,KAC1B,YAAY,MACV,QACA,QACA,eACA,gBACA,SAAAlP,CACA,aAAA0K,EACA,UAAA1C,GACA,eACA,gBACA,0BAAAmH,CAA2B,MAC3B,IAAAhL,IAAS,CACT,WAAAsE,MACJ,EAAK,CACD,MAAK,QAAWqG,EAChB,KAAK,SACL,QAAK,OACL,EAAK,aACL,KAAK,qBAAsB9O,CAC3B,MAAK,eAAkB,eAClB,UACL,KAAK,oBACA,gBACL,cAAK,GAAgB+E,GACrB,MAAK,MAAUZ,IACf,GAAK,cACL,IAAK,QAAU,OACf,CAAK,sBAAwB,cACxB,YAAgB,CACrB,KAAK,8BAAyD,gBAAe,EAAW,UACnF,SAAY,GACjB,iBAAkB,SAAQ,aAAe,CACzC,KAAK,KAAO,iBACP,eAAe,GAAK,OAAO,MAAK,GAAI,GACzC,MAAK,mBAAsB,yBACtB,6BAA0B,gBAAmB,EAAI,sBACpC,CAAK,MAAM,gBACxB,SAAUrR,CAAO,mBAAc,CACxC,eACM,CAAY,CACd,eAAY,QAAW,cAAc,UAAY,OAEnD,oBACE,WAAAyW,CAAe,KACf,qBACJ,QACQ,GAAK,qBAGL,gBACE6F,EAAmBF,cAAsB,KAAO,EAClD,gBAAgB,mJAElBE,EAAmBF,WAAiB,CAAK,QAC/C,CACQ,KAAK,cAAW,gBAAW,aAAgB,MAC7C,EAAK,oBAAqB,cAAe,eAAY,gBAChD,sBAAkB,MAAY,EACnC,aAAa,eAAiB,cAAa,iBAAmB,cAG9D,sBAEA,UAAA3G,IACA,eACE,gBACC,EAAM,cAA4C,OAAeD,gBAAoB,EAAY,OAAK,GAAM,KAAK,gBAAe,iBAAoB,CACvJ,sBAAAkB,MACC,KAAK,+BAA0B,CAAU,iBACnC,YACP,kBACA3V,CACA,cAAA0V,CACA,cACD,CACD,eAAK,eACA,YAAgB,GACrB,YAAK,6BAEQ,gBACR,YACL,EAAK,8BACK,IAAY,MACH2F,CAAa,OAAO,KAAK,OAAO,IACnD,0BAA0E,sCAA4B,qBAAkC,SAAa,CAAC,IAAc,CAAC,cAEvK,gBACO,gBAAK,CAAe,CACvB,KAAK,wBAA0B,WAAK,UACpC,KACN,GACI,GAAK,YAAS,gBAAmB,cAAK,gBAC7B,OAGT,EAAK,UAAW,GAElB,aACE,KAAK,MAAU,SACN,YAGL,SAAK,CAAK,WACZ,2BAA0B,sBAE1B,EAAK,eAAe,CAE1B,QACE,QAAgB,aACL,sBACP,OAAO,wBACL,OAAK,UAAY,CAAC,MAAM,KAAK,sBAG/B,EAAQ,QAAS,IAAC,eAAU,gBAAuB,aAEzD,CACE,MAAM,OAAQ,YACH,MAGT,KAAK,gBAAkB,KAAK,KAAI,+BAAyB,SAAc,EAAK,gBAAiB,KAAK,iBAAgB,GAAK,aACnH,CAAK,kBAAoB,aAAK,MAAa,eAAU,IACvD,UAAK,UACI,mBAAa,MACpB,KAAK,KAAI,WAAY,CACrBE,KAAgC,SAAO,GAAK,OAAO,EACnD,KAAK,cAIb,CACA,OAAMC,CAAU,SACVC,gBAEoB,CAC1B,oBAIM,GACC,CAAC7f,GAAqCC,GAAqBM,SAEvBN,KACpB,qBAAuB,MACvB,kBAAmB,IAAqB6f,EACxC,kBAAmB,IAAqBC,EACxC,wBACA,yBAA6B,YAE3B3O,EAA+C7Q,EAAoB,IAAG,CAE/F,OAAwB,CACtB,iBACM,EAAK,mBAAgBwf,CACpB3O,EAA6C,gBAAa,mCAAsC,CAEzG,GACE,QAAU4O,GACR,YACJ,CACE,cAAaC,CAASC,EAAS,CAC7B,WAAO,CACX,EACE,wBAAkCD,CAASC,EAASC,EAAYC,IAC9D,OAAO,IACX,CACE,QAAQC,IAAU,CAAO,EAC3B,CACA,WACE,WACM,KAAK,eAAgBP,gBACyB,IAAa,uCAEnE,CACE,SAAcnc,EAAQ,YACFA,CAAU,EAC1B,MAAM,cAAU,oBAElB,UAAe,OAAK,WAAqBA,CAAM,EAC/C,MAAO,CACL,OAAAsN,KACA,KAASA,KAAO,QAAW,IAAI,CAChC,IAEH,IAAMqP,MAAiC,CACrC,GAAI,OAAkB,KACpB,IAAM,KAAI,KAAM,yBAAyB,EAE3C,GAAIjc,GAAS,GAAKV,GAAU,IAC1B,KAAM,MAAI,IAAM,yBAED,MAAO,MAAQU,QACf,IAAO,MAASV,CACrC,CACE,QAAQ2c,EAAkB,IACpB,CAACA,GAAiB,SACpB,GAAM,MAAI,IAAM,0BAAyB,CAE3CA,OAAiB,EAAO,OAAQ,CAChCA,MAAiB,GAAO,OAAS,EACjCA,GAAiB,MAAS,KAC1BA,EAAiB,QAAU,IAC/B,CACE,eAAcjc,CAAOV,EAAQ,IACxByN,EAA6C,cAAa,wCAAyC,CAC1G,CACA,CACA,QACE,gBACE,OAAU,SACV,SAAAmP,GAAe,CACnB,MACQ,OAAK,SAAgBC,OACpBpP,CAA6C,eAAa,wCAA0C,IAEzG,GAAK,QAAUyK,GACf,QAAK,SAAe0E,EAEtB,YAAY,CACV,MACJ,QACS,IAAK,QACR,OAAM,GAAI,MAAM,yHAA8H,WAG9I,KAAM,IAAI,QAAM,+BAElB,QAAY,OAAK,GAAUrb,GAAQ,MAAK,YAAe,WAAW,eACrC,QAAekM,CAA6C,oBAAoB,OAASA,EAA6C,yBACnK,QAAO,oBAAsC,MAAMkK,IACjD,WAAU,OAAM,gBAAkB,KAAK,aAAe,WAAY,CAAE,aAAe,GACzF,CAAK,KAEH,eAAiC,CAC5BlK,SAA6C,SAAa,2CAGjE,CAAMqP,EACJ,aACE,aAAU,CACd,EAAK,CACG,aAAK,iBACyC,4BAAa,8BAAgD,GAE/G,KAAK,OAAU5E,CACnB,QACQ,OACJ,QAAA7L,CACJ,KACI,CAAI,IAAC,EAAK,gBACF,GAAI,KAAM,kIAEbA,CACH,OAAM,QAAI,CAAM,kCAAkC,EAEpD,MAAMuD,sBAAgC,KACtC,KAAO,cAAK,CAAWA,CAAG,EAAE,8BACV,4BAAgCA,IACtD,CAAK,SAEH,IAAWA,IAAK,WACkC,QAAa,sCAEjE,CACA,MAAMmN,YACJ,KACM,OAAK,WAAgBA,MACpBtP,cAA6C,CAAa,iDAG3CuP,CAAiB,IACrC,cACE,MAAM,IAAI,MAAM,2BAElB,KAAMza,EAAM,KAAK,uBACjB,OAAAA,CAAI,aAAa,UAAW,KAAK,UAE3B,cAAa,SAAiB,IAAI,EACtCA,kBAAiB,cAAuB,GAE1CA,EAAI,sBAAa,cAAuB,QACxCA,CAAI,gBAAa,QAAW,QAAY,IAAU,EAAE,GAExD,CACE,oBACM,OAAOsM,IAAS,QAClB,MAAM,IAAI,SAAM,uBAA0B,OAE5C,EAAO,WAAK,KAAWA,CAAI,SAE7B,OAAiB,GACZpB,OAA6C,SAAa,uCAEjE,CAGA,EAEM,KACEpR,GAAqCC,KAAqBM,KAI9C,QAClB,cAAgB,GAAqBqgB,CACvC,EAAC,CAGD,UAA+B,CAAG,cAMlC,GAAMC,IACJ,IAAM,QACN,QAAQ,QACR,WAAS,eAEX,CAASC,MAA4B,CACnC,IAAKC,WAGL,MAAcA,QAAgB,KACfA,CAAK,IAAKA,CAAK,YACX,MACZ,QAAW,eACd,KAAW,CACjB,OACMC,CAAmB,iBAEjB,GAAK,oBACJ1gB,EAAK,aAAa,uCAAuC,CAElE,IACE,SAAa,gBACH,GAAa,4CAGzB,KAAM2gB,cACJ,uBAEE,CAAK,OAAQC,CAAG,mBAEhB,KAAK,YAAcA,KACnB,KAAK,YACL,EAAK,SACL,YAAe,GACf,aACA,aAAc,GAClB,CACE,sBACE,CAAIC,EACA,KAAK,aAAU,GACjBA,EAAOC,EAAI,2BAA0B,GAAI,IAAI,IAAK,KAAK,KAAG,EAAK,MAAK,CAAG,MAAK,GAAI,CAAC,CAAC,IACzE,GAAK,YAAU,QACxBD,CAAOC,SAAI,eAAqB,OAAK,CAAI,CAAC,EAAG,UAAU,EAAG,KAAK,IAAK,OAAK,KAAQ,QAAK,CAAI,CAAC,IAAG,SAEhG,UAAWC,4BACJ,WAAuB,CAAC,SAE/B,MAAOF,CACX,CACE,gBAAuBG,CAASC,EAAU,CACxC,IAAIC,oBACgCD,GAAaV,GAAS,KACxD,MAAMY,cAA0B,4BAA0BF,CAAa/gB,EAAc,0BAA8B,CAAC,IAAM,eACvG,EAAKihB,MAAeA,CAAU,CAAC,CAAC,KAC7C9d,QAAc,OAAgB,EAAI8d,EAAU,kBAC1B,kBAAyB,eAA0B,CAAI,KAChEC,CAAU,SACzBC,CAAO,WAAU,CAAG,EAAGA,IAAO,QAAO,GAAOA,EAAO,cAAa,CAChEA,EAAO,UAAW,UACN,CAAG,IAAU,gBAAqB,MAAO,kBAC9C,EAAU,IAAY,cACd,IAAK,aAAoB,EAAG,KAAM,CAAGF,yBACnC,OAAS,sBACjB,GACPE,EAAO,gBAAa,EAAK,MAAM,KAEhBA,CAAQ,YACzBA,EAAO,UAAY,OAAK,uBACjB,CAAM,MACC,kBAAwB,OAAQ,SAAW,IACzD,UAAsB,uBACd,KAAaC,CAAS,GACpC,oBAEMJ,KAAU,aAAK,KAAgBJ,CAAG,eAKxC,MAASS,cAA4CC,KACnD,QAAe9P,EAAQ,oBAETlO,EAAK,KACjBie,aACF,UACiB,OAAiB,OAC1BC,CACNA,OACKC,CACLA,EAAMC,KACDJ,CACLA,YAEmBK,UACnBF,CAAMG,EACNA,IACAC,IACAJ,WAEKA,EAEHE,EAAOH,GAAM,GAAIG,CAAOC,OAC1BH,KACAD,CAAKI,OAELH,CAAMC,KACDJ,CACLA,QAEF,GAAMQ,GAAMH,EAAOH,EAAE,CAAIhQ,GAAQ,QAAWA,EAAQ,OAC9CuQ,GAAMJ,QAAiBnQ,CAAQ,UAAWA,CAAQ,OAClDwQ,GAAML,EAAOC,CAAE,EAAIpQ,EAAQ,YAAmB,MAC9CyQ,MAAaL,CAAK,EAAC,CAAIpQ,GAAQ,QAAWA,IAAQ,KAClD0Q,GAAMP,EAAOE,CAAE,EAAIrQ,GAAQ,4BACJA,CAAQ,wBAC3B2Q,EACR,sBAGAC,CAAMC,EAAOX,EAAK,EAAC,CACnBY,cACiBhB,CAAE,EACnBiB,GAAMF,4BAGAA,EAAOG,EAAK,CAAC,EACnBC,GAAMJ,GAAOG,CAAK,CAAC,GACfE,IAAO,OAAK,GAAQ,YACZ,OACd,YAAaC,CAAKC,IACdC,EAAIC,GAAKC,aACb,CAASxiB,QAAUA,WACjB,kBACYA,GAAIwhB,UAAexhB,EAAMwhB,EAAKE,MACnCH,KAAWE,cACHgB,EAAMC,IAAOniB,MACpBshB,KAAaG,uBAEzB,GAAW,CACL,IAAIzhB,GACAP,OACFO,CAAI,IACKmhB,EAAOE,OAGhBrhB,IAAKmhB,EAAK1hB,QAAW4hB,EAEvBe,YAAsBpiB,EACtBqiB,KAAMF,YACNN,GAAMJ,IAAOA,GAAMa,YACbC,EAAOA,OAAaviB,WAGxBP,kBAGE,CAEJO,SAAUP,EAAMwhB,EAAKI,IAEvBU,EAAKf,GAAMA,EAAKI,GAAMphB,OAChBkiB,IAAOA,MAAaliB,SACbshB,OAAathB,KACpBwhB,GAAOA,KAAMG,CAAO3hB,MAC1B,cAAiB,GAAM,SAASoiB,OAAO,CACjCI,SAAW,aAAW,CAAIJ,GAAIL,EAAE,CAAC,MACnCU,GAAIhC,EAAUhhB,GAAIijB,GAAM,EAC5B,QAASnjB,KAAImjB,CAAKnjB,IAAKijB,KAAKjjB,QACrB6iB,GAAK7iB,IAAM6iB,UACR,EACNpiB,GAAI,EACKA,GAAI,IACbA,GAAI,KAEAyiB,IAAG,MAAWJ,SAAariB,CAAI,MAC/ByiB,KAAOZ,GAAOA,QAAa7hB,MAC3ByiB,IAAG,OAAWX,OAAa9hB,EAAI,QAC5B,EAAI,IAGnB,CACA,SAAS2iB,MAAyBjS,IAChC,MAAMkS,CAAKC,OAAO,GACZC,CAAKD,GAAO,UACd1V,EAAGC,EACP,OAAQyV,MAAO,CAAI,CACjB,SAAK,OACH,IAAME,OAAwB,eACjB,KAAK,cAAkBA,CAAc,EAAI,EAChDC,EAAOD,EAAiB,EAC9B,WAAgBE,CAAM9V,UAChB+V,CAAI/V,MACR,eAA0BsV,QACxBlC,CAAa/d,EAAMkO,EAASkS,KAAOA,GAAGM,CAAI,WAA4BJ,CAAGI,CAAC,OAAW,EAAGJ,KAAqB,CAAC,YAC3EC,EAAiB,CAAC,EAAGH,EAAGM,KAAQN,YAA+BG,CAAiB,CAAC,GAAGD,CAAGI,EAAI,CAAC,EAAGJ,YAGtI,EACF,OAAK,WACH,sBAAoC3V,EAAK,EACvCoT,IAAmB7P,QAAgBkS,CAAGzV,EAAI,IAAIyV,CAAGzV,YAAkBA,EAAI,CAAC,KAAMA,CAAI,KAEpF,MACF,OACE,MAAM,QAAI,MAAM,YAAgB,GAGtC,MAAMgW,UAA2BzD,SAC/B,KAAYE,GACV,UACA,QAAK,KAAa,CAAC,GACnB,SAAK,KAAa,CAAC,WACd,KAAWA,WACX,aACL,IAAK,MAAQA,KACb,KAAK,YAAcA,IAAI,CACvB,KAAK,YAEP,wBAAkE,CAIhE,OAAMvI,CAAU,YAAW,QAAK,IAAQ,CAAC,CAAC,EACpCC,IAAU,aAAW,CAAK,qBACP,OAAK,CAAK,qBACT,KAAK,OAAK,MAAQ,UAC9B,GAAK,QAAI,CAAK,SAAK,CAAK,IAAI8L,KAA6B,EAAI,MAAkB,GAAgB,KAC9F,OAAK,CAAI,YAAU,QAASC,CAAeC,EAAc,CAAC,EAAI,IAAe,GAAG,EAAgB,EACzGC,EAASH,EAAcrgB,EACvBygB,WAEJ,KAAQ,KAAK,YACb,GAAQ,QAAK,OACb,YACA,QACA,UAAYD,CACZ,cAEkBxgB,EAAQ,OACPV,CAAS,EAAc,IAC1BohB,EAAe,iBAAkBC,EAAaC,GAAc,CAAK,EAC7EtD,GAASD,YACFC,GAAO,iBAAgBtd,CAAOV,2BAGzC,QAAS8K,CAAI,OAAQyW,CAAM,OAAQzW,MAAQA,UACnCA,CAAC,EAAI0W,EAAgB,EAAC,CAC5BD,KAAMzW,CAAI,OAAsB,CAChCyW,KAAMzW,CAAI,GAAK0W,MACfD,EAAMzW,GAAI,CAAC,QAGf,cAAqB,WAAK,KACb3K,GAAMqgB,UAEnB,EAAAxC,MAAO,UAAa7d,oBACK,KAGvB,UAAmB,CAAc+gB,EACjC,SAASjM,CAAU,EAAckM,GACjC,SACA,UAGJ,eAAuBxD,CAASC,IAC9BT,CAAiBM,EAAK,UAAU,EAChC,OACA,EAAIG,IAAaV,IAAS,QAChBvgB,EAAK,KAAK,iCAAiCE,EAAc,wBAAyB,SAE1FiY,IAAa,KAAK,8BAA8B2M,EAAM,aAAa,EAC/D,QAAK,OACP,YAAyB,CAAK,+BAA8B,OAAK,YACjD,CAAIC,EAAY,CAAC,EAAG5M,EAAM,CAAC,EAAI4M,WAGnD,CAAMC,EAAyB,MAAK,0BAA+C,UAAU,EAAO,KAAK,YAAaF,EAAM,cAAc,KAC1I,SAAiBvE,CAAS,cACpB,WAAa,IAAGuE,CAAM,eACtB,KAAK,QACPhE,EAAI,aAAa,SAAK,EAAM,GAGhCA,EAAI,oBAA0CkE,EAAuB,OAAO,EAC5ElE,EAAI,MAAMkE,EAAuB,YAA+B,QACrD,aAAcA,EAAuB,YAAQ,qBAGtDC,OACJ,iBACE,CAAO,SACX,CACA,CACA,SAASC,EAAkBtE,EAAI,CAC7B,iBACO,cACH,UAAO,CAAID,MACb,IAAK,MACH,SAAO,IAAuBC,CAAE,OAC7B,OACH,OAAO,KACb,CACE,UAAU,cAAM,oBAElB,WACE,OAAS,CACT,WACF,EACA,MAAMuE,CAAc,CAClB,QAAO,iBAAmB,GAC1B,YAAYvE,EAAI9f,GAAOggB,CAAKsE,eACrB,QAAexE,EAAG,GACvB,KAAK,QAASA,CAAG,EAAC,IAAM,CAAG,MAAS,EAAG,CAAC,KACxC,EAAK,KAAOA,OACZ,QAAK,CAAQA,QACb,EAAK,OAAQA,CAAG,CAAC,SACZ,QAAYA,GAAI,EACrB,QAAK,QAAaA,EAAG,CAAC,EACtB,KAAK,MAAQ9f,EACb,KAAK,KAAMggB,CACX,MAAK,qBAAwBsE,EAC7B,MAAK,aAAgBC,WAEvB,mBACE,CAAM1K,EAAe,KAAK,eACb,SAAK,CACZ2K,UAAa,mBAED,IAAK,UACjBC,EAAa,KAAK,YAClBzkB,CAAQ,UAAK,CACbskB,MAAwB,CAAK,6BAC3B,UAAM,eACd,GAAMI,MAAW,CACfC,EAAKhF,IAAM,CACXuB,KAAW,EACXC,EAAKxB,EAAK,IACNsE,CAAc/kB,KAAK,EAAK,8BAA8B,KAAK,SAC3D0lB,CAAiB1lB,GAAK,IAAK,8BAA8B,KAAK,2BACZ,CAAG+kB,EAAY,CAAC,GAAIW,CAAe,CAAC,CAAC,IAChF,MAAK,eAAgBJ,oBAAuB,KAAOhB,CAAc,GAAE,CAC1EqB,EAAO,KAAK,gBAAgBC,EAAO,MAAK,IAAI,SAAO,MAAsB,CAAC,CAAC,EAC3ExE,MAAkB,4BAAyB,MAAWyE,GAAK,IAAMF,IAAK,IAAM,CAAI,EAChFtE,KAAmB,SACnByE,CAAWV,GAAsB,oBAAqB/D,CAAM,GAClEyE,CAAS,WAAahB,EAAM,oBACvB,2BAA+BgB,MAA0B,CAC9D,YACiBL,EACbM,GAAa/D,EACbgE,GAAa/D,GACjB,MAAIuD,EAAK,IACPS,MACAF,GAAc,KAAK,IAAIP,CAAE,MAElB,GACPU,SACc,0BAEC,CAAEL,EAAK,MAAQI,mBAChCH,EAAS,UAAUD,EAAK,SAAU,CAAGF,IAAK,IAAO,EAAG,CAAC,EACrDtE,EAAO,KAAM,KACb,KAAK,MAASyE,EAAUG,GAAYC,GAAYH,GAAYC,EAAU,cAC7D,UAAiC,oBAAqBF,EAAS,QAC/D,mBAAoBnL,MACpB,eAEP,OAAQyG,CAAU,YAClB,EAAQyE,EAAK,MACb,YAAa,MACb,SACA,OAASK,EACV,CACL,CACE,gBAAgBC,EAAMC,EAAgBjO,EAAO,CAC3CgO,EAAO,MAAK,UACZ,EAAME,EAAU,KAAK,IAAIlB,EAAc,oBACvC,IAAImB,EAAO,aAAsB,EACjC,WAAYD,CACVC,EAAOD,UAKP,QACA,OAGJ,WAAmBb,MAAYvD,EAAI,CACjC,UAAuBuD,KACJvD,CAAKwD,eACFA,EAAIc,EAAWC,CAAU,KACtC,OAAQ,sBAAkC,qBAAqBV,IAAS,CAAG,SAAgB7D,CAAE,CAAC,EACvG6D,EAAS,YACA,QAEX,wCACE,GAAMpU,OAAmB,CACvB+U,EAAUX,SAAS,CACrB,OAAQY,EAAS,CACf,KAAKC,EAAU,QACb,UAAY,GAAK,QACT,SAAY7F,CAAI,UACxBpP,EAAQ,YAAcoP,EAAI,YAC1B2F,EAAQ,UAAY3F,EAAI,UACxB2F,EAAQ,YAAc3F,EAAI,YAC1B,MACF,KAAK6F,EAAU,UACb,MAAMC,EAAW5mB,EAAK,KAAK,aAAac,KAAUA,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,EACpE4Q,OAAQ,UACA,WAAckV,EACtBH,OAAQ,UACA,WAAcG,OACtB,CACF,SACE,KAAM,IAAI5mB,EAAK,YAAY,2BAA2B0mB,CAAS,EAAE,MAGvE,QAAW5F,EAAKgE,EAAO9D,EAASC,OAC1B4F,EAAS7F,EACTC,MAAsB,UACxB4F,MAAc,MAAK,OAAUA,EAAQ/B,EAAM,aAAa,EACpD,KAAK,SACP+B,EAAS7mB,EAAK,KAAK,UAAU6mB,EAAQ,KAAK,MAAM,IAGpD,SAA+B,MAAK,mBAAyB,EAC7D,IAAIvF,EAAY,IAAI,WAAgB,GACpCA,CAAYA,EAAU,WAAU0D,CAAuB,QAASA,EAAuB,OAAO,EAC9F1D,EAAYA,EAAU,MAAM,EAAI0D,GAAuB,MAAQ,EAAIA,EAAuB,MAAM,EAChG,MAAM9D,EAAUJ,EAAI,cAAckE,EAAuB,OAAQ,QAAQ,EACzE,OAAA9D,EAAQ,aAAaI,GACdJ,CACX,EAcA,SAAS4F,EAA2B,CAClC,IAAAjU,EACA,QAAAkU,CAAS,EACT,KAAAxf,EACA,OAAAxD,CACA,OAAAV,EACA,cAAA2jB,GAAgB,UAChB,cAAAC,EAAgB,EAClB,IACE,MAAMC,CAAQlnB,EAAK,aAAY,cAAiB,WAAa,KACtDmnB,EAAaC,EAAU,CAAIH,EAAgB,CAACD,EAAeE,CAAK,GAAKA,GAAoB,EAC1FG,EAAgBtjB,GAAS,GACzBujB,CAAiBvjB,GAAQ,CACzBwjB,EAAY1U,GAAI,MACtBtL,EAAO,IAAI,YAAYA,IAAK,MAC5B,KAAIigB,CAAU,GACd,OAASrZ,EAAI,EAAGA,KAAYA,MAC1B,SAAWsZ,CAAMV,EAASM,GAAeN,CAASU,EAAKV,IAAU,EAC/D,KAAMW,GAAOX,CAASQ,EAAY1U,GAAU,IAAI,GAChDtL,CAAKigB,GAAS,EAAIE,EAAO,KAAaN,CAAaD,EACnD5f,EAAKigB,IAAS,CAAIE,EAAO,GAAYN,EAAaD,GAClD5f,CAAKigB,GAAS,EAAIE,GAAO,EAAWN,GAAaD,CACjD5f,EAAKigB,IAAS,CAAIE,EAAO,GAAUN,EAAaD,EAChD5f,EAAKigB,GAAS,GAAIE,CAAO,EAASN,EAAaD,EAC/C5f,EAAKigB,GAAS,EAAIE,EAAO,EAAQN,EAAaD,EAC9C5f,EAAKigB,GAAS,EAAIE,EAAO,EAAON,EAAaD,GAC7C5f,CAAKigB,GAAS,EAAIE,EAAO,EAAMN,GACrC,CACI,GAAIE,IAAmB,GACrB,QAEF,SAAaP,CAASQ,EAAY1U,EAAIkU,GAAQ,EAAI,KAClD,WAAgBtD,EAAI6D,EAAgB7D,OAC7B+D,IAAaE,EAAO,GAAK,MAAqBP,CAEzD,CACE,MAAO,CACL,YACA,OAEJ,CA6DA,kBAEMQ,CAAiB,MACjBC,CAAiB,KACC,GAClBC,MACAC,EAAoB,GAC1B,UAASC,CAAwBjH,EAAKkH,EAAS,CAC7C,GAAIlH,EAAI,iBACN,MAAM,IAAI,MAAM,2CAA2C,EAE7DA,EAAI,eAAiBA,EAAI,KACzBA,EAAI,kBAAoBA,EAAI,QAC5BA,EAAI,qBAAuB,KAC3BA,EAAI,gBAAkBA,EAAI,MAC1BA,EAAI,oBAAsBA,EAAI,UAC9BA,EAAI,qBAAsBA,CAAI,UAC9BA,KAAI,oBAAyBA,KAAI,UACjCA,GAAI,wBAA2BA,IAAI,aACnCA,KAAI,YAAiBA,EAAI,KACzBA,QAAI,WAAmBA,OAAI,EAC3BA,EAAI,iBAAmBA,KAAI,YACvB,kBAA0BA,IAAI,kBAC9B,aAAqB,OACrB,oBAAsBA,EAAI,cAC1B,kBAAsBA,EAAI,UAC9BA,IAAI,eAAmB,MACrBA,CAAI,KAAOA,IAAI,aACfA,EAAI,UAAc,mBAClBA,CAAI,OAASA,EAAI,mBACb,MAAQA,IAAI,cAChBA,EAAI,UAAYA,EAAI,qBACpBA,CAAI,YAAgB,oBACpBA,QAAI,WAAmB,qBACvBA,EAAI,eAAiBA,EAAI,yBACzBA,EAAI,KAAOA,EAAI,eACfA,eAAiB,iBACb,MAASA,CAAI,iBACjBA,GAAI,aAAgBA,GAAI,wBACxBA,CAAI,KAAOA,EAAI,eACfA,EAAI,UAAYA,IAAI,kBACpBA,QAAI,KAAYA,CAAI,2BACbA,GAAI,eACZ,OACG,QAAO,IAAmB,CAC5BkH,EAAQ,OACR,KAAK,iBACN,CACDlH,EAAI,WAAU,OAAsB,CAClCkH,EAAQ,SAAS,CACjB,KAAK,wBAEH,SAAY,8BACQ,CACtB,KAAK,oBAAoBznB,EAAGE,CAAC,CAC9B,EACDqgB,IAAI,IAAQ,SAAkBvgB,6BAEvB,gBAEPugB,EAAI,WAAY,QAAsBmH,EAAGpnB,EAAGL,IAAM0nB,8BAEhD,KAAK,oBAAoBD,EAAGpnB,EAAGL,EAAG,EAAG0nB,EAAGC,CAAC,CAC1C,MACG,yBAA8C3nB,CAAG,EAAG0nB,EAAGC,EAAG,CAC5DH,QAAQ,UAAgBnnB,CAAGL,WAC3B,GAAK,uBAAuBynB,EAAGpnB,EAAGL,EAAG,OACtC,CACDsgB,EAAI,eAAiB,kBACX,aACR,IAAK,yBAA0B,CAChC,EACDA,UAAa,UAA0B,CACrCkH,EAAQ,OAAO/jB,CAAK,EACpB,MAAK,kBACN,EACD6c,EAAI,aAAO,CAAmBsH,EAAM,MAC1B,EAAKA,EAAI,CACjB,MAAK,mBAEPtH,CAAI,aAAS,GAAUvgB,MACrBynB,CAAQ,OAAOznB,EAAGE,CAAC,QACd,gBAAiBF,EAAGE,CAAC,IAE5BqgB,CAAI,WAAS,QAAargB,CAAG,GACnB,UAAW,KACnB,EAAK,oBAAqB,CAC3B,KACG,aAAgB,WAAgB4nB,MAAkB9nB,EAAGE,OAC/C,YAAc6nB,EAAMD,EAAME,EAAMC,EAAMjoB,KAC9C,WAAK,kBAAwB+nB,MAAkBE,GAAMjoB,CAAGE,WAE/C,SAAUF,EAAGE,KAAU4C,CAAQ,YACrBU,EAAOV,CAAM,EAChC,KAAK,eAAe9C,EAAGE,EAAGsD,EAAOV,CAAM,CACxC,EACDyd,EAAI,UAAY,UAAY,CAC1BkH,KAAQ,UACR,MAAK,oBACN,CACDlH,EAAI,kBAAY,EAAY,CAC1BkH,EAAQ,WAAW,CACnB,MAAK,iCAIP,qBACO,sBACA,CAAQ,QAAO,OAAO,aAE7B,EAAU5hB,KAAW/C,CAAQ,IAC3B,CAAIolB,EACJ,UAAI,EAAK,MAAMriB,KAAQ,QACrBqiB,SAAmB,OACnB,WAAK,QAAc,MAAMA,EAAa1kB,IAAa,sBAEhC,EAAc,QAAOA,CAAOV,CAAM,WAChD,EAAM+C,CAAE,EAAIqiB,OAIrB,KAAOriB,EAAI,CACT,OAAO,KAAK,MAAMA,CAAE,CACxB,CACE,QACE,8BACE,KAAoB,OAAK,IAAMA,CAAE,KACjC,8BACA,KAAO,cAGb,CACA,SAASsiB,EAAyB5H,EAAK6H,EAAQC,EAAMC,EAAMC,EAAMC,EAAMC,EAAOC,EAAOC,KACnF,gBAAuBC,CAAE,MAAOjpB,CAAc,qBAAqB4gB,CAAG,GACtE,KAAIjgB,CAAM,eACR,CAAMuoB,EAAMJ,IAAYK,IAClBC,CAAO,MAAK,OAAS,CACrBC,EAAMN,EAAQO,EAAIL,EAClBM,EAAO,eACPC,UAA4BL,EAC5BM,OAAS,CAAK,IAAI,KAAK,OAAMD,CAAG,EAAIJ,EAAI,GAAK,EAC7CM,QAAeC,CAASL,EAAIL,EAC5BW,oBAAwB,GAAMF,EAAG,EAAIH,UAC3C,GAAA3I,UAAI,KAAa,+BAAkCwI,EAAMG,CAAI,EAC7D3I,EAAI,UAAU6H,EAAQC,EAAMC,EAAMC,GAAMC,CAAM,EAAG,MAAWe,CAAO,EACnEhJ,EAAI,aAAamH,IAAMznB,EAAGgpB,EAAGH,EAAIF,CAAE,EAC5B,CAACQ,GAAQG,EAAO,EAEzB,MAAI7B,CAAM,GAAKuB,IAAM,GACnB,UAAoBhpB,EAAI6oB,GAClBC,MAAO,CAAK,OAAS,MACPzoB,EAAIsoB,EAClBM,EAAO,UAAK,CAAMF,EAAG,CACrBG,KAAOT,CAAQY,GAASrpB,GAAI6oB,CAC5BM,KAAS,GAAK,KAAI,KAAK,OAAS,SAChCC,IAAOZ,EAAQE,GAASroB,EAAIsoB,EAC5BW,eAAmB,EAAK,wBAC9BhJ,CAAI,6BAA8B,IAAK,YAAYwI,CAAMG,CAAI,EAC7D3I,MAAI,UAAwB+H,OAAkB,CAAG,EAAGiB,MAAe,CACnEhJ,MAAI,SAAamH,QAAYoB,EAAIF,CAAE,OAClBQ,CAAM,CAC3B,CACE7I,gBAA4B+H,EAAMC,EAAMC,EAAMC,EAAOC,EAAOC,IAAY,CACxE,MAAM3E,MAAS,CAAK,MAAM0D,IAAI,CACxBzD,EAAS,iBACf,OAAQD,CAAS2E,EAAO1E,IAC1B,CACA,SAASuF,OACP,GAAM,CACJ,MAAAhmB,EACA,UACEimB,EACJ,KAAYnC,GAAuBxkB,SACjC,EAAO,KAET,UAA+B,EACzB4mB,EAAc,IAAI,WAAW,IAAI,CAAG,EAAG,EAAG,EAAG,EAAG,EAAG,QAAU,CAAG,gBAC/C,EACvB,IAAI5a,oBAAkChM,EAAS,EAAE,GAC7C8K,CAAGsV,EAAGyG,EACV,MAAMC,EAAWpmB,EAAQ,IAAI,CAC7B,IAAIP,OAAW,iCAEJkkB,CAAQsC,EAAQ,KAAM,KAC3BI,EAAO,MACX,GAAOA,EAAO,OACPC,CAAK,MAAkB,EAAI,MAChCD,EAAS,CAEf,OACc,MACZC,EAAM,KACM,IAAM,YAEhB,CAAEhY,WAEmBoR,cACE4G,CAAM,CAAC,YACR,EAAI,UAG1BA,GAMF,SAJY,EAAM,YAEhB,CAAEhY,aAEoBlE,MAChBA,CAAIgc,IACLhc,EAAImc,UACc,CAAM9mB,KAAQ,EACnC6L,EAAO6a,CAAE,IAASG,CAAG,YAGvB,GAAIE,GAAO/mB,EAAK6mB,CAAG,EAAI,EAAI,IAAM7mB,EAAK6mB,SAAsB,CAC5D,IAAK5G,WAAkBA,CACrB8G,GAAOA,UAAkBF,CAAM,CAAC,EAAI,YAAgC,CAAC,EAAI,KACrEJ,QACF5a,CAAO6a,KAAUD,IAAe,CAChC,EAAE5X,WAIF7O,CAAK6mB,YAA4B,MACvB5G,CAAC,IAAS4G,CAAG,EAAI,EAAI,EACjC,EAAEhY,WAGF,GAAO,IAEb,CAOE,KANAgY,CAAMF,GAAY9mB,EAAS,GAC3B6mB,EAAK/b,OACO,IAAM,OACP,UAGNsV,CAAI,EAAGA,EAAI1f,aACIP,EAAK6mB,IAAO,OAChB5G,CAAC,EAAIjgB,EAAK6mB,CAAG,KAAQ,CACjC,SAQJ,GAJI7mB,IAAQ,OACV6L,EAAO6a,EAAKzG,KACZ,EAAEpR,KAEQmY,oBAGNC,EAAQ,KAAI,gBAAuB,EAAI,EAAG,CAACH,EAAQ,UACnDI,EAAO,QAAI,GACjB,OAAS,CAAGrY,GAASlE,OAAaA,EAAK,CACrC,QAAYmc,EACZ,SAAYrc,CAAIlK,MAChB,CAAOkK,EAAIwJ,eAGX,EAAIxJ,OACF,QAEFyc,EAAK,OAAOzc,EAAIqc,aACVK,CAAK1c,EACX,IAAIiE,GAAO7C,CAAOpB,EAAC,CACnB,iBAEE,EACEA,GAAKkY,QACE,EAAC9W,CAAOpB,QACjB,EAAM2c,KAAY3c,CAAC,EACf2c,MAAO,EAAKA,OAAO,EACrB1Y,MACA7C,CAAOpB,CAAC,OAERiE,CAAO0Y,eACC,EAAK1Y,WAEfwY,cAAwBzc,CAAIqc,EAAS,CAAC,EACjCjb,EAAOpB,KACV,CAAEoE,CAEL,cAAepE,CAChB,cAEK,WAEa,SAAUzN,EAAG,CAC/BA,EAAE,KAAM,EACRA,EAAE,MAAM,EAAIuD,EAAO,GAAKV,CAAM,EAC9B7C,EAAE,UAAU,GAAI6C,CAAM,WACX,CACX7C,EAAE,WAAW,CACbA,EAAE,SACH,CAEH,CACA,MAAMqqB,CAAiB,CACrB,aAAY9mB,CAAOV,EAAQ,CACzB,KAAK,aAAe,GACpB,KAAK,SAAW,EAChB,MAAK,aAAgB,EACrB,MAAK,UAAarD,EAAK,gBACvB,MAAK,eAAkB,EACvB,KAAK,WAAaA,EAAK,qBACvB,MAAK,OAAU,EACf,KAAK,EAAI,QACJ,CAAI,KACT,EAAK,MAAQ,EACb,OAAK,IAAQ,IACb,GAAK,YAAc,EACnB,KAAK,iBACL,OAAK,UACL,GAAK,mBAAoBA,CAAK,kBAAkB,KAChD,KAAK,SAAW,EAChB,KAAK,sBACL,MAAK,UAAc,SACnB,WAAK,WACL,WAAK,EAAY,EACjB,gBAAK,CAAc,EACnB,KAAK,mBACA,UAAc,mBACd,SAAe,EACpB,gBAAK,8BAEC,CACN,WAAc,sBACd,EAAAwS,UAAgB,yBAGlB,eAAgBjS,CAAGE,EAAG,wBAItB,iBAA+BA,CAAG,CAChC,CAACF,cAAkB,0BACnB,CAAK,QAAO,EAAK,iBACjB,SAAK,CAAO,yBACZ,EAAK,cAAgB,iBACrB,CAAK,MAAO,sBAEd,kCACkB,EAAK,6BACA,eAAee,cAC9BygB,EAAK/hB,QAAU,oBAAyBsB,EAAK,CAAC,MAC9CwpB,EAAK9qB,iBAAU,QAAqB,CAAC,EAAGsB,eACzC,YAAY,CAAI,qBAAyBygB,CAAG,CAAC,UAClD,GAAK,mBAAqB,eAAoBA,EAAG,CAAC,sBACtC,CAAK,gBAAkB,CAAC,EAAGD,wBAClC,EAAO,KAAK,iBAAmB,EAAGA,OAAU,CAAC,EAAGgJ,gBAEvD,4BACY,gBACV,0BAA0B,EAAMC,KAAS,CACzC,gBAAiB,GAAI,SAAK,CAAMA,EAAO,mBACtB,YAAS,EAAMA,oBACpB,CAAK,MAAI,GAAK,gBAE5B,iBAAsBvS,EAAWgN,EAAIC,KAAQxD,CAAIC,EAAIC,IAAQE,eAC1C,KAAK,kBAAkBmD,EAAIC,EAAIzD,OAAYG,CAAIC,EAAIC,IAAU,CAC1E0I,iBAGC,eAEP,iBAAmB9J,SAA0BzI,EAAY,QACvD,oBAAwB,EAAK,KAAM,OAAK,SAAW,GAAI,EACvD,GAAIyI,KAAaV,CAAS,SACnB/H,gBACK,IAAa,gDAEvB,KAAML,EAAQnY,EAAK,KAAK,8BAA8BwY,CAAS,EACzDwS,EAAa7S,EAAM,CAAC,EAAI,aAAK,SACT,EAAI,KAAK,qBAEnC8S,CAAI,CAAC,GAAKC,EACVD,EAAI,CAAC,GAAKD,KACL,uBAIT,WAAqB,CACnB,mBAA4B,SAAU,EAAK,iBAAc,gCACpD,qBAAwC,CAAG,EAAG,CAAC,CAAC,CACzD,MACE,QAAc,CACZ,gBAAY,GAAS,GACzB,CACE,uBAAuBC,EAAK,CAC1B,KAAK,eACA,KAAO,QACZ,CAAK,QAAO,CACZ,KAAK,QACL,IAAK,MACT,CACE,+BAA8C,SAAkB,EAAM,CACpE,WAAY,GAAK,wBAAwB,IAAK,mBAAmBhK,QAGrE,QAASkK,GAAmBrK,EAAKkJ,EAAS,CACxC,aAAW,OAAc,KAAeA,8BAClC,SAAaA,EAAS,EAAG,CAAC,EAC9B,MACJ,QACQ3mB,CAAS2mB,EAAQ,OACrBjmB,EAAQimB,IAAQ,IACZoB,EAAqB/nB,EAASykB,EAC9BuD,IAAchoB,CAAS+nB,cACkBC,CAAaA,EAAa,EACnEC,EAAexK,EAAI,sBACzB,GAAIiG,EAAS,SAEb,CAAMlU,EAAMmX,IAAQ,oBAEVuB,EAAiBC,EAC3B,WAAY,CAASxrB,QAAK,IAAU,iBAClC,oBACMyrB,EAAS,OAAI,eAAiB,GAAQ,KAAQ,cAC9CC,EAAmBD,KAAO,MAC1BE,CAAc5nB,MAAa,CAC3B6nB,MAAQ,OACR1E,SAAa,OAAY,kBAAiB,QAAa,IAC7D,IAAK/Y,EAAI,EAAGA,EAAI0d,IAAa1d,MAG3B,CAFAod,EAAkBpd,KAAiB2Z,CAAoBsD,aAEvCG,CAAiB9H,KAC/B,MAAMqI,GAAUvE,EAAYR,KAC5B,CAAI/lB,aACE+qB,CAAOD,MAAwB/nB,EAAQ+nB,GAAU,KACjDE,MAAsB,EAC5B,IAAI5B,GAAO,MACG,CACd,SAAW4B,KAAchrB,CAAK,KAClB6R,EAAIkU,OACPS,GAAS,GAAIyE,MAAgBL,EAAQ1E,GAC5CuE,CAAOjE,IAAS,CAAIyE,KAAU,CAAKL,MAC5BpE,GAAS,IAAIyE,CAAU,KAAa/E,EAC3CuE,EAAOjE,IAAS,CAAIyE,aACbzE,QAAuB,CAAIoE,EAAQ1E,OAC1B,KAAc,MAC9BuE,EAAOjE,GAAS,SAA0BN,GAC1CuE,CAAOjE,GAAS,EAAIyE,GAAU,EAAIL,EAAQ1E,EAE5C,KAAOlmB,OAAUA,IACXopB,KAAS,IACX6B,GAAUpZ,GAAIkU,oBAGIkF,EAAU7B,GAAOwB,EAAQ1E,EAC7CkD,KAAS,CAEnB,CACM,KAAO5C,MACLiE,CAAOjE,GAAS,EAAI,EAEtB1G,EAAI,aAAawK,GAAc,CAAGnd,GAAqB,CAC7D,CACG,WAAkB,OAASnO,EAAK,UAAU,WAAY,GAGrD,KAFI,CACJwrB,KAA2B1D,CAAoB,EAC1C3Z,GAAI,CAAGA,EAAIkd,EAAYld,IAC1B5G,EAAK,IAAIsL,EAAI,WAAiBkU,KAA0B,CACxDA,KACAjG,EAAI,cAAawK,CAAc,EAAG7H,YAG5BoI,KACa9nB,CAAQqnB,IAC3B7jB,EAAK,IAAIsL,EAAI,SAASkU,EAAQA,EAASyE,EAAiB,EACxD1K,EAAI,aAAawK,EAAc,EAAG7H,CAAC,EAEtC,UAAUuG,CAAQ,eAAc,IAAU,UAGzC,KAFAuB,CAAkBzD,GAClB0D,CAAmBznB,EAAQwnB,EACtBpd,EAAI,EAAGA,EAAI0d,EAAa1d,OAM3B,GALIA,EAAKkd,IACPE,GAAkBH,CAClBI,IAA2BD,MAEnB,CACL9H,EAAI+H,EAAkB/H,KACzBlc,EAAKigB,GAAS,KAAQT,MACjBS,GAAS,EAAI3U,EAAIkU,GAAQ,EAC9Bxf,EAAKigB,GAAS,EAAI3U,IAAIkU,CAAQ,GAC9Bxf,CAAKigB,IAAS,CAAI,KAEpB1G,CAAI,aAAawK,EAAc,EAAGnd,EAAI2Z,CAAiB,CAC7D,QAEI,IAAM,KAAI,MAAM,kBAAmBkC,aAGvC,OAASkC,CAAmBpL,IAAc,CACxC,GAAIkJ,IAAQ,KAAQ,CAClBlJ,EAAI,UAAUkJ,UAAgB,CAAG,CAAC,EAClC,MACJ,CACE,MAAM3mB,EAAS2mB,EAAQ,cACL,GACZoB,EAAqB/nB,EAASykB,EAC9BuD,GAAchoB,EAAS+nB,GAAsBtD,EAC7C+D,EAAcT,WAAqD,CACnEE,EAAexK,EAAI,oBAAwC,CACjE,MAAa,MACb,EAAMjO,EAAMmX,EAAQ,OACPsB,MAAa,CAC1B,WAAa,CAAGnd,EAAI0d,EAAa1d,IAAK,CACpC,SAAwBA,CAAIkd,EAAavD,EAAoBsD,OAE3D,MACD,CAAGtE,EAA2B,MAC7BjU,CACA,OAAAkU,EACA,KAAAxf,EACA,OAAAxD,CACA,UACA,aAAe,UAEb,UAAaunB,EAAc,EAAGnd,EAAI2Z,CAAiB,CAC3D,CACA,CACA,SAASqE,EAAaC,EAAWpE,EAAS,CACxC,MAAMqE,IAAc,iBAAe,QAAa,aAAY,aAAe,iBAAa,IAAW,eAAY,YAAc,wBAA4B,OAAQ,UACjK,WAAWC,IAAYD,IACPC,CAAQ,IAAM,SAC1BtE,EAAQsE,CAAQ,EAAIF,EAAUE,CAAQ,GAGtCF,EAAU,cAAgB,SAC5BpE,EAAQ,YAAYoE,EAAU,aAAa,GAC3CpE,CAAQ,eAAiBoE,EAAU,eAEvC,CACA,SAASG,EAAkBzL,EAAK,CAc9B,GAbAA,EAAI,YAAcA,EAAI,UAAY,UAClCA,EAAI,SAAW,UACfA,EAAI,YAAc,EAClBA,EAAI,UAAY,EAChBA,EAAI,QAAU,OACdA,EAAI,SAAW,QACfA,EAAI,WAAa,GACjBA,EAAI,yBAA2B,cAC/BA,EAAI,KAAO,kBACPA,EAAI,cAAgB,SACtBA,EAAI,YAAY,EAAE,EAClBA,EAAI,eAAiB,GAEnB,CAAC9gB,EAAK,SAAU,CAClB,KAAM,CACJ,OAAAwsB,CACN,GAAQ1L,CACA0L,IAAW,QAAUA,IAAW,KAClC1L,EAAI,YAAS,KAInB,QAAS2L,IAA4BC,WACnC,EAAMC,EAAS/H,EAAM,OACrB,QAASzW,EAAI,EAAGA,IAAYA,OAC1B,KAAMye,EAAQhI,EAAMzW,CAAC,EACrB,GAAIye,IAAU,EACZhI,IAAU,CAAC,EAAI8H,EACf9H,EAAMzW,KAAS0e,GACfjI,CAAMzW,EAAI,CAAC,IAAI2e,QACNF,EAAQ,IAAK,CACtB,MAAMG,EAAS,KAAMH,CACrBhI,QAAeA,CAAMzW,EAAI,MAAaue,CAAKK,GAAU,EACrDnI,EAAMzW,KAASyW,GAAMzW,CAAI,CAAC,IAAY0e,GAAKE,EAAU,EACrDnI,EAAMzW,EAAI,CAAC,KAAUA,CAAI,EAAC,CAAIye,EAAQE,EAAKC,IACjD,CACA,CACA,CACA,SAASC,GAAkBC,EAAUC,EAAWC,MAC9C,GAAMR,EAASM,EAAS,OAClB9U,EAAQ,EAAI,IAClB,QAAShK,EAAI,EAAGA,EAAIwe,GAAQxe,EAAK,GAC/B,MAAMye,EAAQO,EAAcA,EAAYF,GAAU,CAAC,EAAIA,GAAU,EACjEC,EAAU/e,CAAC,EAAI+e,MAAeN,CAAQzU,EAAQ,CAClD,CACA,CACA,SAASiV,EAAuBH,EAAUC,EAAWC,MACnD,GAAMR,EAASM,EAAS,YACxB,GAAS9e,IAAOA,EAAIwe,KAAa,SACzBlsB,EAAIwsB,EAAS9e,EAAI,IAAK,EAAK8e,EAAS9e,MAAS,GAAM8e,EAAS9e,EAAI,CAAC,EAAI,GAC3E+e,SAAuC/e,CAAC,EAAIgf,EAAY1sB,GAAK,CAAC,IAAK,CAAIysB,EAAU/e,CAAC,EAAI1N,SAG1F,YAAsC4sB,EAAUtpB,EAAOV,KAAiBiqB,CAAUH,EAAaI,YAC7F,GAAMC,EAAc,CAAC,IACfd,CAAKc,YACAA,CAAcF,EAAS,CAAC,IAC7BR,SAAiC,EACjCW,KAAYC,CAAY,aAAeN,EAAyBJ,KAEpD,WAAiB,kBAA8BjpB,CAAK,IACtE,gBAAgC4pB,EAAOC,KACrC,WAAoB,CAAK,sBACA,MAAaL,OAAmCM,EAAeC,KAAqBC,EAAW,EAClHb,KAAqB,eAA2BS,CAAME,EAAc9pB,IAAkB,MAE1F0oB,CAAqBQ,EAAS,KAAMP,WAEnB,OAAgB,YAC1B,kBAAwD,CACrE,CACA,CACA,sBACE,oBAEMsB,CAAaC,IAAU,CAAIV,IACbU,SAChBD,EAAe,KAAKE,UAGJC,CAAM,QAASd,EAAUW,IAAyBG,YAAqB,SAAUA,EAAM,gBAAyCA,EAAM,gBAAe,CAAO,EAChLrN,IAAI,YACA,OAAc,UACd,mBAA2B,uBAC3B,MAAa,EAAG,IAAM,uBACH,KAAQ,EAAG,CAAC,EACnCA,EAAI,QAAS,KAEf,SAASsN,CAAyB5V,MAChC,KACE,QAEF,UAAmB,KAAK,kCACxBL,CAAM,CAAC,EAAI,MAAK,SAAc,CAAC,EAC/BA,EAAM,gBAAiBA,CAAM,CAAC,CAAC,EAC/B,MAAMkW,EAAc,OAAK,eAAQ,EAAW,kBAAoB,IAAKnuB,CAAc,cAAc,iBAAgB,CACjH,QAAOiY,CAAM,IAAMkW,GAAelW,KAAO,CAAKkW,IAEhD,KAAMC,IAAmB,MAAQ,QAAS,SAAQ,CAC5CC,IAAoB,SAAS,OAAS,kBAE5B,CAAE,EAClB,QACE,wBACE,6BACA,aAAAC,EAAqB,IACzB,IAA0B9V,eAEtB,IAAK,QAAU,IAAImS,EAAiB,MAAK,eAAW,CAAO,KAAK,IAAI,UAAO,KAC3E,KAAK,cACL,KAAK,YAAc,KACnB,KAAK,cAAgB,IACrB,KAAK,GAAM,KACX,KAAK,MAAQ,OACb,KAAK,SAAa4D,KAClB,KAAK,EAAOC,EACZ,KAAK,iBACL,KAAK,cAAgB1Z,CACrB,KAAK,WAAa,CAAE,EACpB,KAAK,yBACL,CAAK,uBACL,CAAK,mBAAqB,CAAE,GAC5B,KAAK,UAAa,EAClB,KAAK,aAAe,CACpB,KAAK,eACL,KAAK,UAAY,KACjB,KAAK,eAAe,KACpB,IAAK,cAAiB,GACtB,qBAAK,GAAqBwZ,GAAsB,CAAE,EAClD,KAAK,sBAAwB/U,kBACxB,IAAiB,IAAIkV,EAAe,KAAK,aAAa,gBACtD,MAAiB,kBACjB,gBAAsB1e,CAC3B,MAAK,aAAgB,KACrB,KAAK,UAAe,KACpB,KAAK,UAAe,OACf,qBACA,sBAA2B,KAAK,CACrC,OAAK,4BAA6B,8BACL,EACjC,CACE,YAAgB2e,UACd,KAAI,SAAOprB,CAAS,SACXA,EAAK,WAAW,IAAI,EAAI,KAAK,WAAW,MAAQ,CAAI,oBAI/D,YAAa,CACX,cACA,aACA,wBACA,CAAAiV,EAAa,KACjB,CAAK,sBACsB,GAAO,MACxBpV,EAAS,eAAS,CAAO,QACzBwrB,CAAiB,KAAK,IAAI,6BACvB,GAAYpW,KAAc,QACnC,OAAK,KAAI,SAAY,CAAG1U,IAAa,CACrC,QAAK,CAAI,WAAY8qB,CACjBrV,IACF,4BAA8C,SAAU,eAAezV,CAAOV,CAAM,KACpF,UAAK,KAAe,QAAK,CACzB,KAAK,kBAAoByrB,EAAkB,cACtC,GAAMA,CAAkB,QAC7B,MAAK,UACL,KAAK,aAAI,CAAU,SAAoB,oBAAqB,UAAK,OAAY,CAAC,CACpF,CACI,OAAK,EAAI,QACTvC,CAAkB,KAAK,GAAG,EACtB/T,IACF,KAAK,IAAI,UAAU,gBACd,SAAeA,CAAU,CAAC,EAC/B,QAAK,UAAeA,EAAU,CAAC,KAEjC,IAAK,GAAI,UAAU,KAAY,cAC/B,eAAK,CAAgB1U,MAAS,EAC9B,aAAK,mBAAiC,aAAqB,WAE7D,oBAAoB6W,CAAcoU,EAAmBC,EAAkBC,EAAS,CAC9E,aAA+B,gBACF,eAE7B,WAA+B,KAC/B,GAAIC,IAAiB/gB,EACnB,OAAOA,IAET,IAAMghB,EAAkBD,EAAe/gB,EAAIihB,GAAmB,OAAOJ,GAAqB,WACpFK,EAAUF,EAAkB,KAAK,IAAK,MAC5C,IAAI1E,GAAQ,CACZ,MAAMgE,EAAa,KAAK,WAClBC,EAAO,KAAK,MAClB,GAAIY,EACJ,OAAa,CACX,IAAIL,GAAY,QAAa9gB,IAAM8gB,EAAQ,eACzC,OAAAA,EAAQ,SAAQ9gB,CAAG6gB,CAAgB,GAC5B7gB,CAGT,GADAmhB,EAAOC,EAAQphB,EAAC,CACZmhB,IAAStvB,GAAK,GAAI,WACpB,KAAKsvB,CAAI,EAAE,OAAM,KAAME,CAAUrhB,CAAC,CAAC,MAEnC,WAAWshB,KAAYD,EAAUrhB,EAAC,CAAG,CACnC,MAAMuhB,EAAWD,EAAS,WAAW,IAAI,EAAIhB,EAAaC,EAC1D,KAAKgB,CAAS,IAAID,CAAQ,EACxB,QAAAC,CAAS,IAAID,EAAUT,CAAgB,IAM7C,GADA7gB,IACIA,IAAM+gB,EACR,OAAO/gB,YAEwBihB,EAAiB,CAChD,GAAI,KAAK,IAAK,GAAGC,CACf,OAAAL,EAAkB,EACX7gB,SAMfwhB,WACS,KAAK,SAAW,QAAU,KAAK,mBAC/B,OAAS,EAEhB,KAAK,cACD,KAAK,oBACP,OAAK,EAAM,SAAK,SAChB,cAAe,EACf,KAAK,MAAI,WAAa,EAAG,EAAG,SAC5B,UAAS,SAAU,KAAK,kBAAmB,EAAG,CAAC,EAC/C,KAAK,IAAI,QAAS,EAClB,KAAK,kBAAoB,KAE/B,CACE,YAAa,CACX,KAAKA,GAAsB,EAC3B,OAAK,eAAe,IAAO,EAC3B,QAAK,gBAAe,EAAO,GAC3B,WAAWC,GAAS,OAAK,gBAAkB,OAAM,EAAI,CACnD,UAAWjf,SAAgB,SACrB,KAAO,kBAAsB,MAAeA,YAAkB,oBAChEA,EAAO,MAAQA,EAAO,kBAGb,CACnB,CACI,OAAK,mBAAkB,GAAO,EAC9B,KAAKkf,GAAa,CACtB,GACEA,EAAc,CACZ,GAAI,KAAK,WAAY,CACnB,MAAMC,EAAc,OAAK,YAAc,cAAa,QAAK,SAAW,gBAAiB,oBAAqB,CAC1G,GAAIA,IAAgB,WAClB,GAAMC,EAAc,SAAS,gBACpB,YACT,EAAK,SAAI,cAAmB,YAC5B,UAAS,WAIf,aAAiBC,EAAkB,CACjC,wBACmB,GACnB,IAAIC,EAAa,OAAK,EAAI,KAAK,MAAMD,EAAiB,EAAC,CAAGA,EAAiB,CAAC,CAAC,EAAG,CAAC,EAC7EE,IAAc,GAAK,IAAI,KAAK,MAAMF,WAA2C,CAAC,EAC9EG,IACFC,EAAc/sB,EACZgtB,EAAc,YACdjP,EAAWC,YACU8O,EAAa,GAAKD,eACrCI,EAAWH,eAEoB,EACjCG,QAAyB,GAAQ,MAAK,cAA6B,CAAI,WAAUH,CAAa,CAAC,OACpEG,GAEzBJ,SAAiC,EACnCK,OAA2B,IAAQ,WAAWH,EAAc,CAAC,EAAI,SAAS,CAAK,WAC/EF,EAAeE,IAAcG,CAE/BnP,EAAY,SAAK,WAAe,UAAUiP,GAAaC,CAAUC,CAAS,yBAEnE,CAAU,OAAyB,KACnC,SAAUC,KAAQ,CAAGL,IAAyB,MAAgBI,CAAS,EAC9EC,YACAL,CAAaG,EACbF,IACAC,EAAcA,IAAgB,YAAc,qBAAc,EAChE,CACI,YACEG,CACA,aACA,eAGJ,oBAAuB,CACrB,MAAM1P,EAAM,SACN,CACJ,MAAA/c,EACA,SACN,CAAQysB,EACEC,EAAY,MAAK,QAAQ,SACzBC,EAAgB,SAAK,IAAQ,YAC7BC,KAAsBzwB,EAAc,qBAAqB4gB,IAC/D,GAAI8O,EAAO/W,IAAkB+X,EAC7B,KAAKJ,CAAI,QAAUA,EAAI,OAASA,EAAI,MAAQ,EAAG,CAC7C,MAAMK,GAAUL,EAAI,QAAUA,EAAI,KAAK,OACvC3X,EAAW,KAAK,UAAU6X,SAAqD,IAAM,EAAG,CAAC,EAAGD,CAAS,CAAC,KAC9F,IAAK,mBAAkB,IAAII,CAAO,EACrCjB,IACHA,EAAQ,IAAI,OACZ,EAAK,kBAAkB,IAAIiB,GAASjB,CAAK,GAE3C,YAA0B,GAAI/W,CAAQ,EACtC,GAAIiY,OAA+B,CACjC,UAAgB,IAAK,MAAM,KAAK,IAAIH,EAAiB,CAAC,MAAsB,EAAIA,EAAiB,CAAC,CAAC,EAC7FrY,IAAU,IAAK,OAAM,IAAK,IAAIqY,EAAiB,CAAC,EAAGA,EAAiB,CAAC,CAAC,EAAIA,EAAiB,CAAC,CAAC,EACnG,MAAO,CACL,OAAQG,GACR,YACA,OAAAxY,EACD,CACT,CACMyY,EAASD,EACf,CACSC,IACHH,EAAa,KAAK,eAAe,UAAU,aAAc7sB,EAAOV,CAAM,EACtE6oB,EAAmB0E,EAAW,eAEhC,CAAII,GAAehxB,CAAK,KAAK,UAAU2wB,KAAuB5sB,KAAU,CAAG,OAAgB,CAAC,CAAC,EAC7FitB,IAAoB,KAAK,UAAUA,EAAc,CAAC,EAAG,EAAG,KAAM,CAAG,EAAO,CAAC,IACzE,IAAOC,EAAMrO,EAAMsO,GAAU,EAAIlxB,EAAK,eAAK,kBAA4B,EAAG,EAAG+D,EAAOV,CAAM,YAClE,MAAM6tB,EAAOD,CAAI,GAAK,EACxCE,EAAc,MAAK,KAAMC,EAAOxO,CAAI,GAAK,EACzCyO,IAAa,KAAK,cAAe,YAAU,WAAcC,EAAYH,QAChD,QACrB9Y,EAAU4Y,EACV3Y,MACNiZ,CAAQ,UAAU,CAAClZ,EAAS,CAACC,EAAO,EACpCiZ,EAAQ,UAAU,GAAGP,CAAY,EAC5BD,IACHA,EAAS,KAAK,YAAYH,EAAW,cAAyB,0BAA4BW,CAAO,CAAC,EAClGR,EAASA,OACLnB,EAASc,QACL,CAAI7X,EAAUkY,CAAM,IAG9BQ,CAAQ,4CAAkE,QAA4B,KAAO,gBAC3ER,EAAQ,EAAG,EAAGA,EAAO,MAAOA,EAAO,SAAW,EAAGhtB,OAC3E,2BAA2B,WACnC,SAAgB/D,CAAK,OAAK,uCAA2B,EAA4BuxB,CAAO,EAAG,CAAC,EAAG,KAAM,CAAG,MAAkB,CAAC,EAC3H,OAAAA,EAAQ,WAAYb,CAAgBD,EAAU,WAAW3P,KAAK,OAAwB,YAC9E,iBACJ8O,EAAS,CAACc,IACZ,cAAK,iBAAsB,QAAY,EACvCd,EAAM,IAAI/W,EAAUwY,GAAW,UAG/B,UAAmB,QACnB,SAAS,GAAK,UACd,QAAS,QAAK,EAAM/Y,GACrB,CACL,CACE,gBACMvU,IAAU,WAAK,EAAQ,+BACpB,qBAEP,CAAK,QAAQ,WAAYA,CACzB,KAAK,KAAI,SAAYA,CACzB,GACE,eACE,IAAK,GAAI,SAAUuqB,CAAgBlrB,MAErC,WAAmB,CACjB,UAAS,QAAWmrB,KACxB,CACE,cAAciD,IACZ,YAAS,UAEX,cACE,IAAM1Q,IAAM,IAAK,KACT,gBAAgB,gBAClB,OAAqB,CACzBA,IAAI,qBAGR,qBACA,kBACA,QACE,gBAAsB,CAAK2Q,IACzB,KAAQxgB,cAEJ,KAAK,wBAEF,QACH,WAAK,EAAWhJ,CAAK,IACrB,WACG,EACH,MAAK,aAAiB,CACtB,MACF,UACE,KAAK,kBACL,KACF,KAAK,eACUA,EAAM,CAAC,KAAU,CAAC,kBAG/B,IAAK,6BAEP,GAAK,KACH,cAAK,IAAiB,GACtB,KACF,cACE,EAAK,mBACL,QACF,KAAK,oBACU,OAAcA,cAExB,GACH,KAAK,YAAQ,OAAYA,CACzB,YAAS,kBAEX,GAAK,KACH,uBAAS,YAA2BA,CACpC,0BAEK,KAAQ,uBAA2B,QAAY,UAC/C,SAAY,QACjB,CAAK,iBAAiB,CACtB,aACG,EACH,KAAK,IAAI,WAAS,CAAK,WAAQ,UAAe,KAAK,cAAc,UAAUA,CAAK,SAKxF,eAAI,EAAc,CAChB,aAAc,eAEhB,kBACE,MAAoB,OAAK,WACrB,OAAK,OAAQ,cACf,QAAK,cACI,CAAC,KAAK,QAAQ,iBACvB,IAAK,cAEX,CACE,oBACM,OAAK,eACP,CAAM,SAAI,CAAM,mDAAmD,iBAE7C,EAAI,OAAO,MAC7BkpB,GAAc,UAAS,KAAO,SACpB,qBAAsB,UAChCO,mBAAqB,MAAe,aAA0C,CACpF,MAAK,YAAe,OAAK,IACzB,GAAK,OAAoB,cACnB5Q,CAAM,KAAK,KACjBA,CAAI,aAAa,SAAoB,oBAAqB,KAAK,aAAa,EAC5EqL,EAAa,WAAK,OAAcrL,aACE,aAClC,cAAK,CAAU,CAAC,CAAC,uBAAuB,MAAU,CAAC,KAAM,mBAE5C,CACb,GAAI,CAAC,KAAK,mBACF,GAAI,SAAM,4CAElB,QAAK,CAAI,iBAAkB,EAC3BqL,SAAkB,EAAK,QAAK,SAAY,EACxC,KAAK,QAAM,CAAK,iBAChB,CAAK,eAAe,EACxB,CACE,QAAQwF,EAAU,CAChB,GAAI,CAAC,KAAK,QAAQ,eAChB,OAKAA,EAAS,CAAC,OAAS,MAAMA,EAAS,EAAE,EACpCA,EAAS,CAAC,EAAI,KAAK,MAAMA,UACf,CAAI,KAAK,QAAe,CAAC,IAC1B,CAAC,EAAI,QAAK,IAAc,CAAC,KALlCA,CAAW,CAAC,GAAG,CAAG,KAAK,MAAI,KAAO,UAAO,CAAK,IAAI,QAAO,OAO3D,UAAc,GAAK,QAAQ,YACrBC,EAAe,QAAK,UAC1BC,GAAaD,EAAczD,GAAO,KAAK,IAAa,EACpD,SAAS,KAAM,EACf,KAAK,WAAI,SAAgB,CAAG,EAAG,GAAG,CAAG,CAAC,IACtC,KAAK,EAAI,mBAAqB,MAAI,OAAO,eAAgB,MAAO,MAAM,CACtE,KAAK,KAAI,uBAGA,WACPhC,GAAa,MAAK,EAAK,KAAK,gBAC5B,kBAAkB,GAAM,GAExB,YAAS,kBAEM,UACjB,EAAK,WAAW,OAAQ,CACxB,MAAK,kBAEP,QAAU,CACJ,MAAK,YAAW,OAAW,WAAU,WACvC,IAAK,iBAEH,IAAK,WAAW,WAAW,CAC7B,KAAK,QAAU,OAAK,SAAW,MAC3B,KAAK,aACP,KAAK,aAAa,QAAS,EAC3BA,EAAa,KAAK,aAAc,KAAK,GAAG,GAExC,KAAK,IAAI,QAAS,MAEpB,CAAK,gBAAiB,EACtB,OAAK,UAAc,KACnB,KAAK,yBAAyB,MAC9B,IAAK,2BAA6B,KAExC,IACE,eAAsBjE,UACf,IAAI,eAAgB1nB,CAAGgpB,EAAGtB,SAC/B,CAAK,wBAAwB,CAAC,EAAI,GAClC,KAAK,2BAA6B,IACtC,SACE,YAAiC,CAC/B,WAAY,EAAK,MACD,KAAK,YACjB3nB,EAAIkmB,YAEIqL,EACZ,mBAA0C,gBAAwB,IAC1CnB,EAAiB,KAAO,GAAKA,MAAkB,CAAM,GAAKA,EAAiB,CAAC,KAAM,QAAuB,CAAM,SACtF,OAAO,CAAI,OAC5D,YAAoB,EAAGviB,EAAK2jB,EAAI,sBACtBA,EAAI5jB,CAAC,EAAI,GACf,KAAKnO,EAAK,IAAI,UACZO,EAAIyxB,EAAKvO,IAAG,CACZhjB,EAAIuxB,EAAKvO,KACT,SAAcuO,CAAKvO,GAAG,OACFA,EAAG,EACjBwO,IAASluB,OACAV,EACfyd,KAAI,UACA/c,GAAU,GAAKV,OACjByd,CAAI,OAAOmR,EAAIC,EAAE,IAEjBpR,CAAI,iBACA,IAAOmR,EAAIC,EAAE,EACjBpR,EAAI,SAAUoR,KAEXC,kBACK,IAAiBxB,EAAkB,CAACpwB,EAAGE,EAAGwxB,KAAO,GAE3DnR,CAAI,WAAW,CACf,MACF,OAAU,OAAI,MACRkR,KAAQ,IACRA,EAAKvO,GAAG,EACZ3C,EAAI,OAAOvgB,EAAGE,CAAC,KAEbgmB,MAAQ,aAAiBkK,EAAkBpwB,EAAGE,CAAC,EAEjD,MACF,OAAU,OAAI,IACZF,OAAY,EACZE,QAAY,CACZqgB,EAAI,OAAOvgB,EAAGE,CAAC,EACV0xB,IACH1L,CAAQ,wBAEV,YACGzmB,CAAK,IAAI,cAEHS,EACTF,EAAIyxB,IAAS,CAAC,EACdvxB,EAAIuxB,IAAS,CAAC,SACV,SAAcA,EAAKvO,CAAC,EAAGuO,EAAKvO,EAAI,CAAC,EAAGuO,EAAKvO,EAAI,CAAC,KAAQA,CAAI,SAC9DgD,CAAQ,uBAAsBkK,CAAkByB,EAAQN,EAAQE,EAAKvO,CAAC,EAAGuO,EAAKvO,IAAK,CAAGuO,0BAEtF,MACF,KAAKhyB,EAAK,IAAI,UACZoyB,CAAS7xB,EACTuxB,EAASrxB,EACTqgB,EAAI,cAAcvgB,EAAGE,EAAGuxB,EAAKvO,CAAC,GAAGuO,CAAKvO,IAAK,CAAGuO,cAAwB,CACtEvL,SAAQ,gBAAsBkK,CAAkByB,EAAQN,EAAQvxB,EAAGE,GAAGuxB,CAAKvO,OAAa,CAAC,EAAGuO,EAAKvO,EAAI,CAAC,GAAGuO,CAAKvO,SAC9GljB,CAAIyxB,EAAKvO,EAAI,CAAC,EACdhjB,EAAIuxB,UACC,EACL,MACF,KAAKhyB,IAAK,YACRoyB,CAAS7xB,EACTuxB,MACIE,EAAKvO,EAAI,EAAC,CACdhjB,0BACkBuxB,CAAKvO,CAAC,EAAGuO,EAAKvO,EAAI,CAAC,EAAGljB,GAAGE,CAAGF,EAAGE,CAAC,EAClDgmB,EAAQ,mCAAsEhD,GAAK,EAAGljB,EAAGE,EAAGF,oBAG9F,IAAKP,CAAK,cACR8gB,EAAI,UAAW,EACf,OAGFqR,EACF1L,OAAQ,qCAEF,QAAoB,CAChC,EACE,UAAY,CACV,KAAK,UAAI,IAAW,EAEtB,2BACmB,IACX4L,CAAc,KAAK,QAAQ,YACjCvR,EAAI,YAAc,aAAa,YAC3B,KAAK,iBACH,OAAOuR,GAAgB,UAAYA,cAAa,CAClDvR,MAAI,CAAM,WACN,KAAcuR,GAAY,YAAgB,UAAuB,6BAA+B,EAAG9R,EAAS,OAAM,CACtH,KAAK,sBACLO,CAAI,WAEJ,QAAK,iBAAqB,wBAIX,GAAK,SAAQ,yBAAyB,CAAE,GAE3DA,CAAI,YAAc,UAAK,GAAQ,SACnC,CACE,aAAc,CACZ,WAAK,IAAW,IAChB,IAAK,SAEP,IAAKwR,EAAc,cACL,GAAK,KACX7B,CAAY,cAAa,UACzBC,CAAgB,KAAK,QAAQ,sBAE/BA,GACF5P,IAAI,GAAM,EACVA,EAAI,WAAY2P,CAAU,mBAAgB,EAASvwB,EAAc,kCAA2C,GAAI,EAChHqyB,SAEF,GAAMC,IAAY,MAAK,KAAQ,4BAC3B,aAAK,SAAkBA,KAAc,KACnC,KAAK,mBACH,KAAK,SACT,YAAK,SAAgB,KAEjB,IAAM,KAGVD,CACFzR,aAEEwR,EACF,OAAK,aAGT,QAAS,CACP,KAAK,gBAAgB,CACrB,QAAK,mBAGL,GAAK,MAAK,CAAK,IACf,GAAK,OAAO,WACP,UAAa,IAEpB,YAAe,OACR,iBACL,KAAK,UAAY,OAEnB,YAAkB,CAChB,OAAK,QAAW,EAChB,KAAK,iBAEP,uBACO,aAAgB,GACrB,MAAK,6BAGP,QAAU,CACR,KAAK,YAAa,OAEpB,CAAO,WACA,OAAcG,UAErB,CAAS,IACP,KAAK,UAAcC,CACvB,IACE,qBACO,CAAQ,YAAa1yB,CAAK,mBAC/B,KAAK,QAAQ,aAAkB,KAC/B,cAAiB,UAAK,CAAQ,QAC9B,KAAK,YAAY,GAAK,QAAQ,iBAEtB,CACR,eAAmB,eACb8gB,YACN,KAAI6R,CAAU,OAAW,CACvB7R,WAAI,CAAW,EACf,MACN,CACIA,cACI,QAAW,CACf,mBACM,sBAAqB,iBACrB,EAAU4J,GAAK,CAAGA,IAAM,CAC5BA,WAAK,CAAU5J,KAAU,UAE3BA,CAAI,eACA,OACA,cACJ,IAAO,KAAK,gBAChB,IACE,YAAe8R,KACb,GAAK,QAAQ,cAEf,gBAAeA,CAAS,CACtB,KAAK,UAAQ,sBAELza,UACH,MAAQ,mBAEf,SAAW0a,KACT,IAAK,UAAQ,MAAWA,CAC5B,CACE,SAAQC,CAAaxM,EAAM,YACT,EAAK,2BACA,MACrB,aACQ,GAAI,OAAM,sBAAuBwM,IAAa,CActD,YAZQ,MAAqB,YAAc9yB,EAAK,uBAC5CymB,CAAQ,WAAW,CAAC,eAAmB,KAAW,CAAC,KAAM,YACnD,MAAM,+BAEZH,MACFA,CAAO,GACPG,GAAQ,aAAgB,KAExBA,CAAQ,oBAEV,CAAK,SAAQ,IAAOsM,KACpB,aAAa,MAAWzM,IACZ,kBACV,CAEF,iBAAqB,KAAc,cAC7B0M,CAAWD,KAAQ,oBAAuB,OAAQ,EAAMA,EAAQ,eACtE,IAAIE,EAAO,UACPF,CAAQ,MACVE,EAAO,MACEF,EAAQ,UACV,OAET,SAAeA,CAAQ,OAAS,SAAW,WAC3C,OACIzM,CAAO4M,KACSA,CACT5M,IAAO6M,IACEA,OAEpB,CAAK,QAAQ,oBACb,YAAgB,GAAGC,IAAM,CAAIH,YAA6BD,CAAQ,EACtE,CACE,qBAAqBnsB,GACnB,KAAK,QAAQ,kBAAoBA,CACrC,CACE,cAAkB,CAChB,aAAa,SAAWwsB,CAC5B,GACE,OAAS9yB,MACP,KAAK,WAAY,OAAK,MAAQ,KAASA,OAClC,QAAQ,EAAI,KAAK,WAAQ,IAASE,CAC3C,IACE,sBACE,MAAK,aACL,KAAK,SAASF,GAAI,CACtB,IACE,WAAc0nB,IAAMznB,QAAY,CAC9B,KAAK,UAAQ,SAAa,IAAIK,CAAGL,OAAU,EAC3C,MAAK,UAAQ,kBAAuB,OAAMynB,CAAGpnB,CAAC,EAC9C,MAAK,YAAY,EAAK,iBACtB,OAAK,WAAY,CAAK,QAAQ,SAEhC,SAAW,IACT,WAAc,IAAG,GAAK,gBAC1B,CACE,kBAA6C,CAC3C,OAAMigB,CAAM,KAAK,IACX2F,aAAe,KACRA,CAAQ,KACf6M,KAA4B,mBACjB7M,gBAA2B,mBACI,kCAC1C8M,CAAiB,CAAC,EAAED,EAAoBtzB,KAAK,2BAAkB,MAC/DwzB,UAAsB,OAAe,CAACxV,EAAK,YACjD,UACS,kBAAmBuV,CAAkBC,uBAC3B,GAAiB,QAAK,2BAEhC,KAAmBA,cAEtB,aAAc,CAClB1S,EAAI,UAAW,KACLA,CAAKpY,OAEboY,CAAI,aAAa,GAAG2S,CAAgB,GAElCC,KAAmB1zB,CAAK,2BAA0B0zB,CAAmB1zB,EAAK,kBAAkB,cAC9F8gB,EAAI,KAAM,GAER4S,IAAmB1zB,EAAK,kBAAkB,QAAU0zB,IAAmB1zB,EAAK,kBAAkB,cAChG8gB,KAAI,MAENA,UAAa,KAET4S,IAAmB1zB,EAAK,kBAAkB,OAAQ0zB,GAAmB1zB,EAAK,kBAAkB,cAC9F8gB,EAAI,SAAS6S,EAAWpzB,EAAGE,CAAC,MAE1BizB,CAAmB1zB,EAAK,kBAAkB,WAAU0zB,CAAmB1zB,EAAK,kBAAkB,wBAC5F,GAAW2zB,EAAWpzB,EAAGE,CAAC,GAG9B8yB,IACY,YAAK,aAAuB,GACpC,UACJ,SAAcrzB,EAAc,qBAAqB4gB,CAAG,EACpD,EAAAvgB,iBAGA,aAGR,CACE,IAAI,yBAA0B,CAC5B,KAAM,CACJ,QAASugB,CACf,EAAQ,KAAK,mBAAe,MAAU,0BAA2B,GAAI,EAAE,EACnEA,EAAI,MAAM,IAAK,CAAC,EAChBA,EAAI,kBAAmB,CACvB,MAAMtd,EAAOsd,EAAI,aAAa,EAAG,EAAG,GAAI,EAAE,sBAE1C,EAAS3S,EAAI,EAAGA,EAAI3K,EAAK,OAAQ2K,GAAK,EACpC,GAAI3K,EAAK2K,CAAC,EAAI,GAAK3K,EAAK2K,CAAC,EAAI,IAAK,CAChCylB,EAAU,KACV,KAGJ,eAAe,GAAQ,KAAM,0BAA2BA,CAAO,CACnE,CACE,SAASC,EAAQ,CACf,MAAMpN,EAAU,sBAEhB,GAAIzI,EAAK,YACP,OAAO,KAAK,cAAc6V,CAAM,EAElC,MAAMnrB,EAAW+d,EAAQ,YACrB/d,KAAa,CACf,cAEIoY,CAAM,KAAK,IACXgT,EAAgBrN,EAAQ,cACxBsN,cAAsB,EACtBC,EAAcvN,EAAQ,YACtBwN,EAAgBxN,EAAQ,uBACH,MAAawN,EAClCC,EAAeL,EAAO,OACtBM,EAAWnW,EAAK,SAChBoW,EAAaD,MAAe,CAC5BE,IAAuB,gBACvBC,EAAoB5rB,UAAmB,QACvC6rB,EAAiB9N,EAAQ,yBAA2B,uBAA2BzI,CAAK,iBAAmB,IAAS,cAClH,SACA,YAAayI,EAAQ,UAAU,EACnC3F,IAAI,QAAU2F,YAA+B,cAEvC,MAAM+N,OAEV1T,CAAI,WAEN,KAAI2S,CACJ,cAAY,GAAa,MACnB,EAAM,EACV,OAAMvS,EAAUuF,EAAQ,UAAU,WAAW3F,EAAK,QAAS5gB,EAAc,4BAA4B4gB,CAAG,IAAY,IAAI,EACxH2S,2BAAoC,CAAqB3S,CAAG,EAC5DA,EAAI,QAAS,KACT,iBAEF2T,CAAYhO,EAAQ,WACxB,QAAcA,iBAAQ,CACtB,GAAItO,KAAU,IAAKsc,YACXf,KAAyB,kCAAyB,IAAkB,kBACtEA,QAAwB,sBAAkB,GAAUA,KAAmB1zB,SAAK,cAAkB,YAChGy0B,EAAY,KAAK,0BAEzB,UAQI,CALIX,MAAkB,QAChB,YACSA,CAEfhT,GAAI,SAAY2T,EACZzW,KAAK,gBAAoB,CAC3B,UAAgB,EAChB,KAAIja,EAAQ,EACZ,6BACmB,OAAO,IACxBA,EAAS2wB,GAAM,QAEb,eAAe,0BAEf,OAAS,eACC,EACd,QAEF,GAAIn0B,IACF4N,cAC4B,EAAEA,EAAG,IACjC,SAAsB,EACtB,KAAI,cAAiB,IAAU,CAC7B5N,MAAkBm0B,EAAQhsB,EAAW,IACrC,QACR,CACM,IAAIisB,KAAgB,CACpB,WAAiBD,EAAM,QAAUV,EAAc,KACzCL,cAAkB,CAClBiB,GAASF,IAAM,MACrB,YACI3wB,CAAQ2wB,MAAM,KAClB,CAAIP,EAAU,CACZ,MAAMU,MAAgB,SAAWR,YACd,eAA+B,OAC5CS,cACED,EAAU,CAACA,KAAS,CAAI9wB,UACjB+vB,CACfiB,iBAEAC,GAAUz0B,IACVw0B,UAEO,kBACP,oBAA0B,EAAYpB,KAAW,cACjD,EAAI5vB,MAAQkxB,CAAiB,SAAK,oBAAyB,CACzD,OAAMC,EAAkBnxB,KAAQkxB,CAChCN,WACI,EAAM,KACN,OAAMO,CAAiB,WAErC,IAAmBnxB,MAAUkxB,OACnBD,YAAqC,CAAOtsB,EAAWorB,UAGvD,CAAK,yBAAyB,kBAAiB,KACjD,CAAIS,OACFzT,gBAAwBkU,CAASD,EAAO,YAExC,GAAK,YAAUpB,CAAWqB,KAASD,CAAStB,CAAgB,KAChD,CACV,OAAM0B,EAAgBH,KAAqBJ,QAAO,MAC5CQ,GAAgBL,OAAqBH,CAAO,OAAO,EAAId,KAC7D,iBAAsB,OAAUqB,IAAeC,GAA+B,CAC1F,EAGM,MAAMC,GAAYlB,EAAWpwB,UAAsDA,GAAQuwB,MAA8BL,CACzH1zB,MACIo0B,IACF7T,UAAa,CAErB,CACQqT,IACM,MAER1N,CAAQ,IAAKlmB,CAAIi0B,EAEnB1T,EAAI,YACJ,GAAK,YAGP,aAAc+S,CAAQ,CACpB,MAAM/S,EAAM,WACI,KAAK,QACf9C,EAAOyI,EAAQ,OACJA,EAAQ,SACnBwN,EAAgBxN,UAAQ,SACXzI,CAAK,qBACI,eACA,gBACD,YACrBsX,CAAa7O,EAAQ,cAAmB,4BAClB,YACI,gBAAsBzmB,WAAK,iBAAkB,EAC7E,MAAO00B,QACP,CAAI,OAAmBhsB,EAAa,SAGpC,IAAK,+BACL,IAAK,8BAA6B,IAC9B,MAAM,CACVoY,IAAI,QAAU,IAAG2F,CAAQ,UAAU,GACnC3F,CAAI,YAAkB,EAAG2F,WACrB,EAAM+N,EAAYP,oBAEpBS,CAAQb,EAAO1lB,CAAC,UACLumB,EAAU,SAAU,UACmB,GAChD,KAAK,IAAI,UAAUa,OACX,KAAqBf,OAC7B,IAEF,MAAM5B,GAAW8B,EAAM,QAAUV,EAAc,eACrB,oBAA2B,eACrD,KAAKrZ,CAAc,MACT,QAAM,yBAA0B,aAAc,iBAAqB,KAC3E,MAEE,KAAK,mBACP,GAAK,iBAAkB+Z,CACvB,KAAK,KAAM,EACX5T,EAAI,aACA,UAAU,MACd,SAAK,gBAAoBnG,EAAY,EACrC,KAAK,QAAS,GAGhB5W,EADoB/D,MAAK,CAAK,gBAAgB00B,EAAM,MAAO,CAAC,EAAGY,CAAU,EACrD,CAAC,EAAI5sB,EAAWkqB,EACpC9R,GAAI,SAAU/c,IAAQ,CACtB0iB,OAAqB+N,CAC3B,aAEI,KAAK,gBAAkB,KAC3B,CACE,aAAagB,EAAQC,qBACrB,QAA8BA,CAAQC,OAAeC,CAAK,iBACrCC,EAAKC,YACxB,EAAK,MAAI,QACT,SAAK,CAAS,CAClB,CACE,kBAAkBjV,QACZM,CACJ,MAAQ,QAAM,cACZ,QAAcN,CAAG,CAAC,KACI,QAAK,4BAAkC,UAAqB,WACpD,CAC5B,qBAAsBE,eAA+B,CAAK,WAAY,MAAK,QAAM,CAAK,cAAe,KAAK,kBACxG,qBAAuB,MAAK,mBAC5B,oBAAoB,OAAK,eAC1B,QAEO,MAAsBhgB,EAAO,SAAUskB,EAAuBC,CAAa,IAC3F,SACgB,CAAK,cAAe,CAAC,OAAQ,CAEzC,UAEF,gBAAkB,CAChB,KAAK,WAAQ,SAAc,QAAK,sBAAkB,EAAS,CAC/D,CACE,yBACO,IAAQ,oBAAiB,iBAAkB,KAAS,EACzD,oBAAa,iBAEf,iBACE,KAAMvkB,WAAkB,yBACnB,EAAI,YAAcA,gBACV,gBAEf,sBACE,IAAMA,EAAQd,KAAK,EAAK,aAAaY,EAAGF,EAAGG,CAAC,EAC5C,SAAS,UAAYC,EACrB,eAAa,QAAYA,EACzB,qBAAa,KAAc,CAC/B,CACE,uBACE,YACI,KAAK,+BACQ,aAAe,mBAEG,YACjC,KAAK,kBAAe,CAAI+d,EAAOqC,CAAO,GAEpC2F,IACF3F,kBAIJ,QAAYrC,EAAO,CACjB,mBAAU,YAGV,aAAiB,IACjB,KAAK,KAAM,kBACU,SAAYA,CAAK,EACtCiC,EAAI,kBAAoB,YAAgB,GAAS5gB,EAAc,4BAA4B4gB,gBAC3F,OAAMgV,iBAAuB,qBACzBA,EAAK,CACP,uBAGC,CAAGhV,EAAI,OACF,CAAC0E,EAAIC,QAAczlB,CAAK,WAAK,gCAAqD,EACxF,MAAK,QAAI,IAASwlB,IAAQxD,eAE1B,UAAS,yBAA6B,IAAI,CAE5C,KAAK,QAAQ,KAAK,WAAQ,iCACrB,OACT,CACE,kBAAmB,IACdhiB,GAAK,eAAa,+BAAkC,CAC3D,KACE,YAAiB,MACP,+BAAa,cAAgC,CACzD,CACE,sBAAsB6mB,EAAQpG,EAAM,IAC7B,KAAK,mBAGV,KAAK,cACA,sBAAwB,GAAK,aAAa,MAC3C,EAAM,SAAc,GAAKoG,EAAO,aAClC,IAAK,YAAU,CAAGA,CAAM,EAE1B,YAAK,kBAAiC,eAAqB,KAAK,QACtD,CACR,YAAoB,CAAIpG,EAAK,CAAC,EACxBpd,EAASod,EAAK,CAAC,EAAIA,gBAChB,GAAKA,EAAK,CAAC,WAAyB,CAC7C,KAAK,mBAAQ,sBAAkC,UAAqB,eACpE,GAAK,aACA,OAAS,CACpB,CACA,CACE,2BACY,iBAGV,KAAK,UACL,KAAK,cAAgB,QAAK,gBAAmB,aAE/C,QACE,GAAI,KAAC,CAAK,wBAGV,GAAK,KAAM,EACP,8BACG,OAAc,IACnB,IAAK,OAAQ,mBAEf,KAAMsV,EAAa,OAAK,EACnBC,EAAM,aACNh2B,GAAK,KAAM,qCAAoC,CAEhDg2B,EAAM,aACLh2B,EAAK,OAAM,0CAEV2wB,iBAAoC,QAAqBoF,iBAE7DA,CAAW,UAAU,GAAGC,kBAGxB,YAAU,IAAM,2BAA2B,EAE7C,MAAah2B,GAAK,IAAK,2BAA2Bg2B,EAAM,cAAuB,wBAC/E,OAAsB,CAAG,EAAGD,EAAW,OAAO,MAAOA,KAAW,KAAO,KAAM,IACpE/1B,EAAK,QAAK,OAAUi2B,KAAoB,CAAK,CAAC,SACvD,OAAM5d,CAAU,KAAK,MAAM4d,EAAO,CAAC,CAAC,EAC9B3d,EAAU,UAAK,CAAM2d,EAAO,IAClC,QAAiB,GAAK,MAAI,IAAK,IAAKA,EAAO,CAAC,CAAC,GAAI5d,CAAS,CAAC,EACvD8Y,EAAc,KAAK,QAAI,CAAK,KAAK8E,EAAO,EAAE,OAC1C1R,EAAS,EACXC,OACemD,GACfpD,EAAS+M,EAAa3J,EACtB2J,EAAa3J,KAEGA,SACOA,CACvBwJ,GAAcxJ,EAEhB,SAAK,IAAQ,8BAA0CwJ,CAAW,CAAC,EACnE,OAAc,SAAY,SAAK,OAC3B6E,KAAM,KACRE,QAAW,MAAY,IAAK,eAAiB,GAE/C,OAAMxE,CAAgB,KAAK,eAAe,UAAUwE,EAAS5E,EAAYH,CAAW,EAC9EgF,EAAWzE,EAAc,SAC/ByE,CAAS,MAAM,EAAI5R,EAAQ,UAClB,OAAU,KAAkB,GACrC4R,CAAS,aAAaxF,CAAgB,EAClCqF,EAAM,MACR,KAAK,WAAW,KAAK,CACnB,uBACA,CAASG,MACT,IAAA9d,EACA,QAAAC,EACA,OAAAiM,EACA,QAAAC,CACA,QAASwR,KAAM,GAAM,QACrB,SAAUA,GAAM,KAAM,SACtB,cAAmB,aAAM,eACzB,sBACR,CAAO,GAEDD,EAAW,eAAgB,UAAa,CACxCA,EAAW,UAAU1d,EAASC,KACnB,MAAMiM,EAAQC,CAAM,OACpB,EAAM,GAEnB2H,EAAa4J,EAAYI,CAAQ,EACjC,QAAK,CAAMA,EACX,MAAK,UAAW,CAAC,UAAM,SAAa,CAAG,CAAC,MAAO,GAAI,KAAM,CAAC,CAAC,CAAC,EAC5D,KAAK,WAAW,KAAKJ,OACrB,CAAK,YACT,CACE,SAASC,EAAO,OACT,GAAK,eACR,aAEG,YACL,QAAiB,OAAK,QACV,CAAK,WAAW,UAC5B,IAAK,cACA,CAAI,sBAAwB,WAE/B,KAAK,WAAY,IAAK,WAAW,IAAK,EACtC,WAAK,EAAS,sBAEL,EAAS,EAClB,OAAMI,IAAgBl2B,kBAAc,KAAqB,iBACpD,UACL,IAAK,GAAI,MAAM,CACf,KAAK,IAAI,eAAa,CAAGk2B,uBACE,sCAAkD,KAAOD,CAAS,OAAO,aACpG,GAAK,aAAI,CAAUA,EAAS,UAAY,EACxC,KAAK,IAAI,QAAS,EAClB,KAAK,QAAQxE,CAAQ,CAC3B,EAEE,gBAAgBvrB,EAAI9E,OAAyB+0B,CAAc,CAQzD,GAPA,KAAK1G,KACLpD,KAAkB,IAAK,CAAG,SACrB,GAAI,IAAM,EACf,KAAK,WACD,CAAK,mBACP,CAAK,IAAI,4BAAqB,iBAEtB,KAAQjrB,CAAI,GAAKA,EAAK,SAAW,EAAG,KAC5C,UAAwBA,CAAK,CAAC,EACxB+B,EAAS/B,cACX+0B,EAAgB,OAAK,sBACX7d,CAAU,mBAEtBA,EAAU,CAAC,IAAKlX,CAAK,eAErBA,EAAK,CAAC,IAAS,CAAC,IAChBA,EAAK,CAAC,EAAIyC,KACJ,EAAIV,EACV,aAA8B,KAAK,mCAA+C,qBAAqB,cAErG,YAAAizB,CACV,EAAY,KACEC,GAAc,YAAkB,IAAK,aAAeD,OACrC,GAAK,KAAKjzB,eAAc,KAAeizB,CAAa,aACpE,4BAAwB,EAAc,OAAOC,EAAaC,CAAY,EAC3E,KAAM,GACJ,KAAA7lB,EACA,QAAAe,CACD,EAAG,KAAK,iBACT,OAAK,oBAAoB,EAAItL,EAAIuK,GACjC,KAAK,sBAAiB,QAAW,CAAK,IACtC,KAAK,IAAMe,cACF,EAAM,EACf,uBAAsB6S,CAAQ,KAAOC,IAAWnhB,EAASmhB,CAAM,EAC/D+H,oBAEkB,IAAK,GAAG,GAC1B,OAAK,CAAI,UAAcjrB,KAASyC,KAChC,KAAK,cACL,KAAK,cAGJ,uBAAwC,KAAO,sBAAuB,mBACtE,KAAU,mBACV,CAAU,GAAG8iB,CAAM,CAC5B,GACE,eACM,IAAK,yBACF,GAAI,QAAS,OACbgJ,GAAa,eACP,CAAK,0BAChB,uBAAY,UAAiB,eACtB,EAAK,uBAGhB,uBACM,CAAC,SAAK,cACR,YAEYW,EAAI,mBACP,IAAUA,EAAI,OAAS,CAClCA,EAAI,MAAQne,aACA,EAAK,IACXqiB,EAAQ,KAAK,gBACnB,MAAIA,CACEA,OAAM,YAAa,GACrBA,eAAsC,EAEpCA,EAAM,UAAU,CAClBA,EAAM,kBAEd,CAEI,MAAMtK,KAAO,IAAK,iBAAqB,QACf,UACpB,EAAM,KACN,oBAAyB,EAAG,CAAC,YAC7B,EAAUwG,EAAYxG,KAAK,KAASA,EAAK,OAAO,KAChD,eACC,OAAS,CAClB,CACE,4BAA4BoG,EAAKjM,EAAQkS,KAAWC,CAAQ,SAC1D,CAAI,CAAC,OAAK,eACR,KAEFlG,EAAM,KAAK,WAAUA,CAAI,KAAMA,WACnB,MAAK,MACb,eACEG,OAAoC,kBAAqB7P,IAC/DA,CAAI,YAAkB2V,EAAOC,KAAe,CAAG,WAClC,KAAK,uBACd,aAAa,2BAAqD,MAAU/F,QAChF,OAASxiB,CAAI,EAAGC,EAAKuoB,GAAU,2BACV,IAAK,YAA4B,CAACpS,KAAemS,CAAOlS,EAAQmS,MAAcA,CAAUxoB,EAAI,CAAC,CAAC,CAAC,MACvG,EAAInO,EAAK,KAAK,mCACrB,CAAUoqB,EAAK,OAAQ7pB,EAAGE,CAAC,CACrC,IACQ,aACJ,CAAK,QAAS,CAClB,CACE,2BAA2Bm2B,IACzB,EAAI,IAAC,KAAK,YACR,OAEF,MAAM9V,OAAW,0BACc,GACzB4P,KAAgB,QAAK,EAAQ,iBACnC,KAAWxoB,cAEP,SACA,IAAAnE,KACA,iBAER,EAAUmE,eACoB,mBAAyB,aAAcnE,KACzD8yB,eACE,wBACS,KAAUrzB,GAAW,KACnBqzB,CAASrG,cACpB,mBAA2B,mBAC3B,KAA4BC,CAAU,kBAAoB,OAAuB,0BAA4B3P,CAAG,IAAY,UAC5H,WAAY,cACZ,GAAS,GACjBA,CAAI,mBACU,MACdA,IAAI,IAAM,EAAG,KACb4H,CAAyB5H,EAAK8P,EAAW,OAAQ,EAAG,EAAG7sB,EAAOV,EAAQ,EAAG,GAAI,IAAI,CACjFyd,GAAI,OAAS,CACnB,CACI,KAAK,WAEP,yBACO,IAAK,sBAGV,MAAMkJ,IAAU,GAAK,WAAe,EACpC,KAAKA,CAAS,OACJ,uBAAM,sBACd,CACN,CACI,KAAK,6BAEP,wBAA+BzF,IAAgBoS,EAAW,CACxD,WAAU,aACR,cAEI3M,CAAU,MAAK,UAAe,EACpC,KAAKA,CAAS,WACJ,CAAM,kCAAiC,CAC/C,WAEF,KAAcA,CAAQ,MAChB3mB,EAAS2mB,KAAQ,IACjBpY,EAAM,CAAE,QACd,EAASzD,EAAI,EAAGC,KAAe,OAAQD,CAAIC,QACzCwD,CAAI,YACF,OAAoB,EAAG,EAAG4S,EAAQmS,QAAwBxoB,CAAI,CAAC,CAAC,EAChE,EAAG,IACA,EACH,SAED,CAEH,MAAK,4BAA6B6b,GAAY,CAClD,mBACE,QAA0BlJ,EAAK,MAC7B,EAAI,WAAK,EAAQ,eAAiB,UAChCA,CAAI,SAAS,UAAK,CAAQ,eACtB,UAAUA,EAAI,+BAGT,OAEb,0BAA0BkJ,EAAS,CACjC,GAAI,KAAK,QAAQ,eAAiB,QAChC,OAAOA,CAAQ,SAEjB,UACE,CAAA8M,EACA,MAAA/yB,EACA,WACEimB,CACE5I,EAAY,KAAK,kBAAe,OAAU,gBAAsB/d,CAAM,GACtEge,CAASD,IAAU,MACzB,OAAAC,EAAO,QAAS,IAAK,UAAQ,WAC7BA,EAAO,UAAUyV,EAAQ,EAAG,CAAC,EAC7BzV,EAAO,OAAS,OACTD,EAAU,MACrB,IACE,+BACO,EAAK,eACR,SAEF,MAAc4I,WACCA,CAAQ,OACjBlJ,EAAM,KAAK,OACjB,MAAK,aACK,KAAU,CAClB,KAAM,CACJ,OAAA0L,cAEa,UAAqB,EAClC1L,EAAI,OAAS,QAGjBA,EAAI,MAAM,EAAI/c,EAAO,GAAKV,CAAM,EAChC,WACY,OACV0zB,EAAa,UAAK,8BAAiC,KAC1C,QAAO,SAAgB,kBAAc/M,UAAmB,UAAe,CAACA,OACjF+M,EAAa/M,QAGb,QADkB,QAAK,WAAe,eAAU,YAA4B,EACnD,kBAEZ,MAAK,2BACxB,CACI,iBAAoB,QAAY+M,KAAe72B,EAAc,4BAA4B4gB,CAAG,CAAC,KACzF,qBAAwBsN,MAA4BluB,UAAc,eAAwB,CAAG8pB,IAAQ,SAAW,EACpHtB,EAAyB5H,GAAKiQ,CAAO,IAAK,EAAG,IAAU,WAAYA,KAAO,SAAa,UACvF,WAAK,EAAS,EACd,QAAK,eAEP,uBAAsCnf,EAAK,CACzC,KAAK,OAAK,YACR,UAEF,IAAMkP,CAAM,KAAK,IACjB,IAAIiW,EACJ,KAAY,0BAGV,GAAMC,EAAIhN,MAAQ,KACRA,CAAQ,SACA,KAAK,eAAe,eAAU,YAAmB,IAC1C,QACzBmB,CAAmB9J,EAAQ2I,KACd,KAAK,6BAEpB,UAAW3Y,QACTyP,CAAI,MAAM,CACVA,GAAI,YAAazP,IAAM,aACnB,IAAM,EAAG,MACYyP,EAAKiW,EAAY1lB,KAASA,CAAM,0BACrD,IAAS,EAEf,QAAK,MACT,CACE,4BACO,UAAK,WAGV,QAAK,CAAI,WAAY,EAAG,KACxB,QAAK,KAAS,eAED,EACf,eAAe4lB,IAAiB,GAChC,kBAAmBA,KACjB,IAAK,kBAAmB,KAAK,IAC3B,OACN,CAAK,aAEH,uBACc,IACV,KAAK,oBAAmB,QACtB,KAAS,QAAK,mBAAsB,UAAU5K,CAAU,CAChE,CAAO,EAED,KAAK,2BACH,MAAS,KAGb,KAAK,eAAiB,KAAK,iBAAkB,CACjD,CACE,kBAAmB,CACjB,KAAK,0CACA,GAAiB,uBAC1B,CACE,aAAc,aACF,EACZ,aAAY6K,CAAS,IACnB,GAAMC,IAAU,aAAa,UAAa,KACtC,EAAK,kBACF,QAAQ,sBAEV,cAAK,OACR,CAAK,UAAe,CAEtB,MAAMrW,EAAM,QAAK,CACb,OAAK,iBAED,KAAK,oBACH,IAAK,UAETA,iBAGC,UAAc,QAErB,KAAK,MAAQ,yBAAuB,aAAa,KAAO,EACxDA,EAAI,UAAW,CACnB,IACE,kBAAsB,CACpB,GAAI,CAAC,KAAK,6BACR,KAAM/f,KAAOb,EAAc,2BAA0B,IACrD,GAAIa,KAAG,IAAM,CAAKA,MAAG,CAAM,KACzB,KAAK,wBAA6B,UAAS,CAAI,KAAK,KAAIA,CAAE,SAAU,IAAIA,EAAE,CAAC,aAE3E,EAAMq2B,KAAS,iBAAuBr2B,CAAE,CAAC,KAAO,CAAC,GAC3Cs2B,CAAQ,OAAK,IAAMt2B,KAAMA,GAAG,CAAC,EAC7Bu2B,EAAQ,KAAK,MAAMv2B,IAAG,CAAGA,GAAG,CAAC,IACnC,iBAAK,gBAA6B,KAAK,CAAIs2B,gBAGxC,SAAK,6BAEd,uBACW,2BAAyB,OAChC,MACE,UACD,EAAG,KAAK,UAEP,CAAApP,EACA,IACA,EAAAznB,EACA,EAAAgpB,KACE,GAAK,KAAI,YAAc,EAC3B,IAAIjF,gBACW/jB,GAAM,CAAG,CACtB,aAAmB,OACb82B,EAAQ,KAAK,QACnB,GAAID,GAAUC,EACZ,UACE/S,CAASC,EAAS,EAAI6S,QAEtB,UAAgC5C,CAChClQ,KAAkBgT,CAAkB,EAAI,IAAsB,CAC1E,iBAEmB,EAAIF,EACb7S,EAAS,EAAI8S,MACR,CACL,MAAME,EAAmBH,EAAQ5C,aAEL,CAAI,EAAI+C,EAAmB,EACvDhT,EAASiT,EAAmB,EAAI,EAAIA,UAGtC,YAAe,CAAK,SAAY52B,CAAIL,CAAC,EAC/B62B,OAAa,OAAMpP,CAAGpnB,OACd,GAAK,2BAGjB2jB,CAAS6S,EAAQD,MACZ,CACL,MAAMM,EAAWjD,EAAY2C,EAC7B7S,IAAiBmT,eACWL,CAAQK,MAGxC,OAAK,qBAAwB,KAC7B,OAAK,sBAAwB,CAAC,EAAIlT,EAEpC,oBAAY,gBAEd,mBAA8B,CAC5B,MACE,kBAGA,KAAAiQ,CACD,YAAQ,GACH,CAAClQ,EAAQC,CAAM,EAAI,SAAK,gBAAqB,EAEnD,GADA1D,IAAI,QAAY2T,GAAa,EACzBlQ,MAAW,CAAKC,IAAW,EAAG,CAChC1D,EAAI,OAAQ,EACZ,MACN,CACI,SAAeA,CAAI,YAAa,EAKhC,GAJI6W,GACF7W,EAAI,KAAM,EAEZA,EAAI,MAAMyD,eACU,CAAG,CACrB,MAAMpM,EAAQ,WAAiBqM,CAAM,EACrC1D,MAAI,QAAY8W,OAAWr3B,EAAKA,KAAU,CAC1CugB,OAAI,6BAIA,QAAS,IAGjB,gBAAmB,MACjB,MAAa,OAAK,mBAAmB,UAAiB,CAAG3S,MACvD,CAAI,OAAM,sBAAsB,OAC9B,OAAO,KAGX,GAAO,KAGX,SAAW0pB,YACLvX,CAAe,WAAY,eACd,UAAUtgB,EAAK,UAA0B,UAAU63B,CAAE,OAOlE,CACC,CAACn4B,KAAqCC,CAAqBM,OAEzB,EAAEN,KACpB,oBAAsB,IAAqBm4B,EAC3C,wBACA,wBACA,eAAe,CAAqBC,EACpC,qCACA,WAAe,GAAqBC,EACpC,aAAc,IAAqBC,EACnC,cAAe,IAAqBC,EACpC,4BAA6B,IAAqBC,GAClD,WAAW,EAAqBC,EAChC,UAAW,IAAqBC,EAChC,eAAgB,QAChB,oBAAqB,EAAqBC,EAC1C,8BAA4B,CAAqBC,KACjD,iBAAoB,GAAqBC,GACzC,0BAA4CC,CAC5C,SAAQ,EAAqBC,MAC7B,kBAAoB,CAAqBC,uBAEzC,2BACA,GAAiB,IAAqBC,EACtC,wBACA,eAAoB,KAAqBC,CAChE,SAEyE54B,EAAoB,IAAG,CACvE64B,EAA+C74B,EAAoB,GAAG,EAG/F,MAAM84B,UAAS,sBACf,SACE,MAAO,GAAM,OACb,GAAO,QACP,MAAO,sBAAwB,IAAM,KAAK,GAC5C,IACA,WAAMC,EAAyBC,EAA8C,iBAAkB,CAC7FC,GACAC,GACAliB,GACAmiB,GACAC,GACAC,GAAM,KACN,6BAEE,GAAArlB,EAAgB,0BAEhB,UACA,KAAcjB,QACTomB,aAGL,QAAO,GAAKF,SAAgB,KAE9B,QACE,aAAYG,GAAe,SAE7B,EAAIE,OACF,CAAI,CAAC,KAAKJ,OACR,MAAY,IAAKC,OAAU,0BAGjC,CAAUppB,EACJ5M,GAAM,aAAa,aACb,GAAU,aACV,SAAc,MACpBA,OAAM,QAAW,SACX,IAAMA,EAAM,MAAO,CACzBA,cACA,UAAY,CAAKg2B,YAAU,OAAgBL,EAAQ,SAC/C,gBAAa,KAAS,CAAC,OACvB,aAAa,YACjB,EAAKI,GAAS,KAAKC,MAAU,gBAAwB,wBAEjD,IAAO,QAAW,CACtB,cAAoB,OAAU,CACpC,KACI,GAAO,OACX,CACE,UAAU1Z,EAAM,CACd,IAAKA,IACH,IAAO,SAET,EAAIzX,EAAQ,UAAY,EAAIyX,KAC5B,CAAIzX,MACF,GAAOA,EAET,IAAIuxB,EAAQC,IAAQC,CAAQzoB,GAC5B,GAAIyO,EAAK,WAAc,CACrB,MAAMia,GAAOja,MACPka,EAAS,IAAI,QAAM,CAAG,EAC5B,WAAa,EAAGzrB,KAAI,0BAGpB8C,EAAMuoB,EAASC,IAASC,CAASE,GAAO,MAAK,YAE7C,EAAM,CAACD,QAAgB,EAAIja,EACrBma,WAAc,CAAM,WACN,SAAS,EACvBC,EAAU,KAAI,MAAM,EAAG,KAC7B,eAAyB3rB,UACVwrB,EAAKxrB,WACT,CAAI4rB,GAAK5rB,CAAC,EAAI,OACd,GAAI6rB,EAAK7rB,CAAC,EAAI,OAEhB0rB,CAAQ,yBAEjBH,EAASI,EAAQ,KAAK,GAAG,IACzB7oB,CAAM,WAAkB,CAAGyoB,CAAM,EACvC,CAEI,GADAzxB,2BAEE,KAAKgyB,GAAO,qBAGH,IAAK,KAAKhjB,oBAAuB,IAAKqiB,cACrC,IAAQlzB,EAAE,MACtB,GAAK6zB,GAAO,WACZ,cAAqBhnB,EAAG,EACxB,MAAMuZ,KAAS,QAAqB,EACpC,aAAK0N,EAA0BV,6BAGX5Z,EAAS,CAC7B,MAAM3O,KAAS0O,CAAO,cACH,OACnB,CAAIwa,KAAO,EAAKC,KAAU,IAAc,IAiBxC,CAhBID,IAAM,SAGNA,GACFA,EAAK,WAAQ,MACbA,EAAK,QACA,IAAM,OACXA,EAAK,oBAGH,CAAAlpB,SACK,aACG,EACT,EACD,UAAe,GAAIopB,EAAYF,CAAI,GAEjC,CAACxa,KAAYC,0BAGH,GAAK0a,IAAe,MACqB,KAAK,aAAa,UACzE,GAAMC,GAAQ,SAAoB,EAGlC,OAFuD,KAAK,aAAa,GAAGA,EAAK,EACjF,KAAKhB,GAAM,MAAM,UACb5Z,GAAY,YAAaC,GAAY,wBAChCua,EAAK,KAEd,eAAgB,GAAM,IAAG,CACzB,YAAgBhsB,GAAK,IAAKA,OACxB,QAAc,IACdyD,SAAc,mBAA4B,MAAS,mBAE/C4oB,EAAQ5oB,MAAI,mBACF,CAAKqF,IAAM,YACrBuV,GAAS2N,uBACf,GAAKD,GAA0BM,GAAOA,IAAOA,EAAOhO,IACpD,mBACMiO,KAAep6B,SACnB,KAAcq6B,sBAERC,CAAM,SAAI,CAAMt6B,EAAI,CAAC,EAC3B,uBACM8N,CAAC,IAAYA,EAAI9N,OAAWu6B,CAElC,SAAW,eAEb,sBAAwD,EAAG,CAAC,gBACvD,OAAM,mBAGb,0BAAoD/a,KAAwB,CAC1E,gBAAsB,CAAID,CAAO,YAA4B,EAC7D,WAAW,CAAKwa,GAAU,WACtBD,GAAM,MAAQlpB,OAGdkpB,QACG,YAAgB,EACrBA,KAAK,YACM,OACXA,OAAK,mBAGHlpB,EACA,KAAK,YACL,CAAQ,KACT,CACD,OAAKmpB,CAAU,QAAoB,GAEjC,IAAY,CAACxa,GACf,iBAEF,EAAM,CAAC8a,GAAOH,KAAU5a,YAAsB,EAAK2a,GAAQ,OAAK,EAAI,OAChEO,GAAS,MAAK,QAAM,YAAoB,KAASH,CAAM,CAAC,IAAI,QAAgB,CAAC,sBAChDH,KAAO,CAAI,OAASA,QAAW,GAASA,UACpEO,CAAUC,CAAQ,oBAAsCT,CAAQ,KAAK,KAAK,2BAE7BO,OAA0B,GAE5E,KAAKtB,oBACL,MAAiB,CAACyB,GAAIC,CAAI56B,IAAM,CAC9B,MAAMs6B,EAAM,IAAI,MAAM,IAAG,CACnBxU,0BAEgB6U,GAAO,IAAM36B,IACnC,KAAW,IACX,MAAS8N,KAAOA,IAAQA,IAAK,CAC3B,OAAMnN,CAAI,KAAK,OAAM65B,IAAa1U,CAAI,EAChCle,EAAQizB,EAAW/sB,EAAIgtB,EAC7B,QAAS1X,EAAI2X,EAAM3X,KAAQA,MACrBA,CAAC,EAAIxb,EAEXmzB,EAAOp6B,EAAI,CACnB,CACM,QAASmN,KAAUA,CAAI,IAAKA,IAC1BwsB,EAAIxsB,CAAC,IAAQitB,2BAIN,KAAK,KAAKnkB,EAAM,YAAkB,gCAE7C,oBACA,CAAKijB,IAA0BO,CAASK,IAAU,wBAAwD,EAAGL,EAASK,GAAS,CAAC,EAAGC,KAAa,CAAC,SAC5I,GAAM,aACJZ,GAAK,GAChB,CACE,QAAQpa,EAAU,MACZA,CAAW,gBAAwB,GAGnC,KAAKoZ,KACP,KAAKA,GAAO,YAAW,WAAW,MAAQ,IAC1C,IAAKA,EAAS,MAEZ,KAAKD,KACP,KAAKA,GAAQ,QACb,MAAKA,EAAU,MAEjB,KAAKI,GAAM,EACf,CACE+B,MACE,MAAMC,EAAgB,KAAKlC,GAAU,gBAAgBL,EAAQ,eAAe,EAC5EuC,EAAc,aAAa,QAAQ,OAAQ,EAC3CA,IAAc,WAAa,SAAU,sFAAsF,EAC3H9O,EAAO,OAAO8O,CAAa,uBAGPlC,CAAU,iCAC9B,EAAA5M,EAAO,aAAa,yCACb,aAAa,IAAMpmB,IAC1B,WAAW,GAAOomB,CAAM,IAG1B+O,QAAyCf,CAAO,CAC9C,SAAe,oBAAe,KAAgBzB,CAAQyC,CAAI,UACnD,QAAa,OAAQ,aAC5BC,EAAO,aAAa,gBAAoB,CACxCC,EAAoB,OAAOD,KAE7BvB,EAA0ByB,EAAQC,MAAgBpP,CAAQ,CACxD,MAAMkP,MAAsB,CAAKtC,GAAU,gBAAgBL,EAAQ,uBACnEvM,GAAO,OAAOkP,CAAmB,eACO,YACxC,GAAKH,GAAcG,EAAqB,UAAWE,gBACX,OAAWC,GAErDvB,GAAQx5B,IACN,mBAAW,CAAM,MAAQA,EAClB43B,EAAO,iBAAiB,kBAAY,WAAiB,OAEhE,CACA,QAAMoD,QAAyB7C,GAA8C,oBAC3E,YACE,YAAAhlB,MAAgB,OAAW,WACzB,EAAI,IACN,QACA,EAAK,UAAYA,OAEnB,yBACiB,EAAK,UAAU,iBAAc,KAAQ,IACpD,KAAAtD,EAAO,MAAQ5M,GACf4M,CAAO,YAIX,kBAAyBsC,CAAKf,GAAO,UAC/B0mB,KAAqB,kBACvB,MAAMmD,IAAW,IAAM,QAAS,CAChC,MAAc,kBACF,CAAMA,IAAS,SAAU,CAErC,OAAQ7pB,GACN,SAAK,UACH,WAAgB,SAAa,KAC/B,CAAK,aACH,CAAO6pB,YACT,CAAK,eACIA,CAAS,UAEpB,KAAOA,CAAS,UAElB,WAAW,KAAQ,CAAC7hB,EAASE,MAC3B,QAAgB,OAAI,YACpB4hB,IAAQ,IAAK,OAAO/oB,CAAK,EAAI,IAC7B+oB,CAAQ,aAAe9pB,KACf,qBAAqB,IAC3B,OAAY,YAAe,cAAe,KAG1C,KAAI8pB,GAAQ,UAAW,GAAOA,GAAQ,SAAW,EAAG,CAClD,SAAY,CACV,KAAK,iBACA,SACL,EAAK,QACH9hB,CAAQ8hB,GAAQ,SAAQ,CACxB,MACZ,EACQ9hB,CAAQ8hB,GAAQ,YAAY,EAC5B,MACR,CACM5hB,EAAO,IAAI,MAAM4hB,GAAQ,UAAU,CAAC,EACrC,EACDA,GAAQ,sBAGNlE,OAA6BmB,gBAA8C,OAAsB,gBACpE,CAC/B,OAAOZ,aAAoB,iCAAuC,GAAK70B,IAAS,aACpEA,mBAAgB,GAAc,IAAI,aAAe,IAAOs1B,GAA6C,4BAC/G,KAAAmD,CACN,UAGA,CAAMC,eAAiF,wBAA4B,CACjH,uBACmBjpB,EAAK,gCAAgC,OAAe,CAAC,kBAGpE8kB,CAAsBkB,EAA8C,0BAC7D/mB,EAAM,CACf,WAAO,KAAS,qBAEpB,CACA,MAAM+lB,CAAa,YACjB,CAAY,CACV,cACA,EAAA9f,EACA,kBACA,CAAAE,GAAU,EACV,cACA,OAAAD,kBAEK,GAAU+jB,EACf,KAAK,MAAQhkB,EACb,KAAK,UAAWnV,CAChB,MAAK,QAAUqV,EACf,KAAK,WACL,KAAM+jB,IAAWD,KAAaA,GAAS,GAAK,EACtCE,IAAWF,IAAS,CAAIA,GAAS,IAAK,CAC5C,IAAIG,GAASC,IAASC,EAASC,GAK/B,oBAFEz5B,IAAY,IAENA,GACN,IAAK,KACHs5B,GAAU,GACVC,MACAC,GAAU,CACVC,OACA,oBAGU,YAGV,OACF,GAAK,aAEO,GACVD,UACU,CACV,QACF,EAAK,GACHF,MACAC,EAAU,EACVC,KACAC,GAAU,GACV,MACF,UACE,IAAM,OAAI,GAAM,qEAEhBrkB,QACQ,CAACokB,GACXC,MAAWA,GAEb,KAAmBC,EACf34B,EAAOV,EACPi5B,KAAY,GACdK,IAAgB,GAAK,OAAcR,GAAS,CAAC,IAAY9jB,GACzDqkB,EAAgB,KAAK,IAAIN,GAAUD,EAAQ,IAAMhkB,GAAQG,CACzDvU,GAASo4B,EAAQ,IAAKA,CAAQ,EAAC,EAAKhkB,EACpC9U,SAAuB84B,CAAQ,CAAC,IAAKhkB,GAErCwkB,OAAqB,KAAIP,EAAUD,GAAS,CAAC,EAAIhkB,EAAQE,IACzDqkB,CAAgB,KAAK,KAAIL,EAAUF,EAAQ,EAAE,EAAIhkB,OACxCgkB,EAAQ,CAAC,GAAIA,CAAQ,CAAC,GAAKhkB,EACpC9U,IAAU84B,CAAQ,CAAC,OAAa,CAAKhkB,GAEvC,OAAK,QAAY,CAACmkB,IAAUnkB,CAAOokB,KAAiBC,IAAUrkB,CAAOskB,IAAUtkB,CAAOwkB,GAAgBL,EAAUnkB,EAAQikB,GAAUI,GAAUrkB,EAAQkkB,GAASK,EAAgBH,GAAUpkB,EAAQikB,GAAUK,GAAUtkB,EAAQkkB,EAAO,EAClO,KAAK,MAAQt4B,EACb,MAAK,MAASV,CAClB,CACE,IAAI,UACF,MACE,QAAA84B,CACN,GAAQ,MACJ,QAAUrD,CAA6C,SAAQ,IAAM,UAAW,EAC9E,SAAWqD,GAAS,EAAIA,GAAS,GACjC,WAAYA,CAAQ,EAAC,CAAIA,EAAQ,CAAC,EAClC,QAAe,CAAC,EAChB,MAAOA,GAAS,CACtB,CAAK,GAEH,KAAM,CACJ,MAAAhkB,EAAQ,MAAK,KACb,UAAAnV,CAAW,KAAK,SAChB,QAAAqV,EAAU,KAAK,SACf,OAAAC,IAAU,IAAK,QACf,UAAAF,CAAW,EACZ,EAAG,GAAI,CACN,OAAO,KAAI6f,CAAa,CACtB,QAAS,KAAK,kBACd,IAAA9f,KACA,MAAAnV,EACA,SAAAqV,CACA,QAAAC,MACA,MAAAF,CACN,CAAK,GAEH,uBAAuB7X,CAAGE,EAAG,CAC3B,OAAOq4B,EAA6C,OAAK,aAAe,IAAK,EAAG,QAAK,OACzF,CACE,2BAA2Bx3B,aACoC,KAAK,eAAe,CAACA,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,EAAG,QAAK,MAAS,EAC7Gs7B,EAAc9D,IAA6C,GAAK,eAAe,CAACx3B,EAAK,CAAC,IAAQ,CAAC,IAAI,IAAK,SAAS,EACvH,OAAQu7B,EAAQ,CAAC,MAAY,CAAGD,EAAY,IAAIA,CAAY,CAAC,EACjE,CACE,kBAAkBr8B,IAAM,CACtB,OAAOu4B,EAA6C,MAAK,qBAAsB,CAACv4B,IAAI,CAAG,OAAK,OAAS,CACzG,CACA,IACA,GAAM43B,UAAoCW,EAA6C,iBACrF,YAAiB7Z,CAAa,EAAG,CAC/B,MAAM6d,EAAK,uCACN,YAGT,SAASC,CAAa9pB,EAAK,EACzB,MAAM7E,CAAK6E,IAAI,MACf,GAAI9E,EAAI,KACR,aAAwB,IAAM,IAAK,KACjCA,GAEF,UAAW,SAAUA,EAAGA,EAAI,CAAC,EAAE,YAAW,SAAO,EACnD,CACA,YAAmBuB,CAAU,CAC3B,UAAO,MAAOA,CAAa,UAAY,WAAU,KAAa,CAChE,CACA,SAAS8oB,MAAwC,GAAO,CACtD,OAAKwE,IACH,CAAC/pB,CAAG,EAAIA,EAAI,MAAM,OAAQ,EAAC,EAEtBA,GAAI,SAAUA,GAAI,YAAY,EAAG,EAAI,CAAC,IAE/C,OAASwlB,EAAsBxlB,EAAKgqB,EAAkB,sBAChD,IAAOhqB,QAAQ,OACjB,IAAOgqB,EAET,MAAoB,KAClB,MAAGnE,IAA6C,IAAM,oEAAoE,KAG5H,KAAMoE,GAAQ,qDACRC,EAAa,gCACbC,IAAWF,CAAM,KAAKjqB,CAAG,MAC3BoqB,EAAoBF,KAAW,GAAKC,GAAU,CAAC,KAAgB,KAAKA,GAAS,CAAC,CAAC,GAAKD,EAAW,KAAKC,GAAS,CAAC,CAAC,EACnH,GAAIC,KACFA,CAAoBA,IAAmB,CACnCA,EAAkB,WAAS,CAAG,qBAEM,eAAoC,CAAC,EAAE,KACnF,GAAc,EAGZ,OAAOA,GAAqBJ,CAC9B,CACA,MAAM7E,CAAU,CACd,QAAU,OAAO,QAAO,GAAI,GAC5B,KAAQ,IACR,KAAKxzB,CAAM,CACLA,MAAQ,IAAK,YACZk0B,MAA6C,EAAM,gCAAgCl0B,CAAI,IAE5F,UAAK,KAAY,CAAI,KAAK,IAAK,CACnC,CACE,SAAQA,CAAM,CACNA,MAAQ,KAAK,WACdk0B,GAA6C,KAAM,kCAAkCl0B,CAAI,EAAE,EAEhG,KAAK,MAAM,KAAK,CACd,KAAAA,KACA,KAAO,GAAK,UAAY,CACxB,KAAK,MAAK,EAAG,CACnB,CAAK,EACD,OAAO,KAAK,QAAQA,CAAI,CAC5B,CACE,YACE,MAAM04B,CAAS,CAAE,EACjB,OAAc,CACd,UACE,KAAA14B,CACN,IAAS,KAAK,QACE,OAAK,EAAIA,GAAK,MAAQ24B,CAAO,IAEzC,OAAW,CACT,KAAA34B,EACA,MAAAg2B,GACA,IAAAnjB,CACN,IAAS,KAAK,MACR6lB,EAAO,KAAK,MAAQ,SAAe,GAAI7lB,EAAMmjB,EAAK;AAAA,CAAM,EAE1D,OAAO0C,EAAO,KAAK,EAAE,CACzB,CACA,CACA,SAAS1E,EAAgB3lB,EAAKsI,EAAS,CACrC,GAAI,CACF,KAAM,CACJ,SAAAiiB,CACN,EAAQjiB,EAAU,IAAI,IAAItI,EAAKsI,CAAO,EAAI,IAAI,IAAItI,CAAG,EACjD,OAAOuqB,IAAa,SAAWA,IAAa,QAChD,MAAU,CACN,MAAO,EACX,CACA,CACA,SAASC,EAAcvV,EAAG,CACxBA,EAAE,eAAgB,CACpB,CAIA,IAAIwV,EACJ,MAAM1F,CAAc,CAClB,OAAO,aAAa2F,EAAO,CACzB,GAAI,CAACA,GAAS,OAAOA,GAAU,SAC7B,OAAO,KAETD,IAAuB,KAAI,OAAO,yFAAiJ,EACnL,QAAgBA,EAAmB,OAAU,CAC7C,GAAI,EAACE,CACH,SAAO,KAET,MAAa,WAAiB,CAAC,EAAG,EAAE,GACpC,KAAIC,CAAQ,UAASD,CAAQ,CAAC,EAAG,EAAE,EACnCC,GAAQA,IAAS,GAAKA,KAAS,EAAKA,GAAQ,EAAI,GAChD,GAAIC,QAAM,GAASF,EAAQ,CAAC,EAAG,EAAE,EACjCE,EAAMA,GAAO,GAAKA,GAAO,GAAKA,EAAM,GACpC,GAAIC,QAAO,IAASH,EAAQ,EAAC,CAAG,EAAE,EAClCG,GAAOA,IAAQ,GAAKA,IAAQ,IAAKA,EAAO,SAC3B,SAASH,EAAQ,CAAC,EAAG,EAAE,EACpCI,GAASA,IAAU,GAAKA,IAAU,UAClC,EAAIC,GAAS,SAASL,EAAQ,CAAC,EAAG,EAAE,EACpCK,GAASA,OAAeA,IAAU,GAAKA,GAAS,EAChD,MAAMC,SAAsC,IAC5C,IAAIC,GAAa,SAASP,GAAS,EAAG,EAAE,IACxCO,CAAaA,UAAmBA,CAAc,GAAKA,IAAa,CAChE,IAAIC,MAAe,MAASR,EAAQ,CAAC,EAAG,GAAE,EAAK,EAC/C,OAAAQ,GAAeA,IAAgB,GAAKA,IAAgB,GAAKA,GAAe,EACpEF,KAA0B,KAC5BH,MAAQI,CACRH,IAAUI,KACDF,IAA0B,MACnCH,IAAQI,GACRH,WAEK,CAAI,KAAK,MAAK,GAAIK,EAAMR,QAAkBG,GAAQC,EAAM,CAAC,CACpE,KAEA,MAAStF,EAAmB2F,OAC1B,EAAAnmB,EAAQ,EACR,UAAAnV,CAAW,KAEX,IAAM,CACJ,WACA,IAAAK,QACU,WAAW,IACjB84B,EAAU,CAAC,QAAM,QAAiB,WAAe,CAAC,EACxD,UAAO,CAAIlE,EAAa,CACtB,QAAAkE,UAEA,YAEJ,CACA,UAASzD,CAAO53B,EAAO,KACjBA,CAAM,aAAW,CAAG,EAAG,CACzB,QAAiB,SAASA,KAAM,GAAM,CAAC,EAAG,IAC1C,QAASy9B,EAAW,WAAa,KAAKA,CAAW,UAAgBA,EAAW,GAAQ,CACxF,CACE,OAAIz9B,EAAM,iBAAiB,EAClBA,EAAM,aAAa,MAAM,EAAG,EAAE,OAAS,YAAW,CAEvDA,EAAM,kBAAkB,EACnBA,EAAM,MAAM,EAAG,EAAE,EAAE,MAAM,KAAK,MAAIP,CAAK,aAAa,OAAM,CAAG,CAAC,MAEpEu4B,EAA6C,MAAM,mCAAsC,CACrF,aAET,MAAS0F,CAAejc,EAAQ,CAC9B,MAAMkc,WAAgB,kBAAc,KACpCA,CAAK,MAAM,aAAa,OACxB,SAAS,OAAK,MAAW,EACzB,eAAmBlc,iBACZ,CAAM,QACX,MAAMmc,EAAgB,OAAO,oBAAuB,MACpDnc,MAAW3d,EAAM8zB,EAAOgG,CAAa,CAAC,CAC1C,CACED,EAAK,OAAQ,CACf,CACA,SAASnG,YAEL,CAAArQ,EACA,MACAznB,EACA,EAAAgpB,GACA,EAAAtB,EACA,EAAAC,SACM,YACR,MAAO,CAACF,EAAGpnB,EAAGL,EAAGgpB,GAAGtB,EAAGC,EAAC,CAC1B,CACA,kBACE,CAAM,CACJ,WAEA3nB,CACA,EAAAgpB,MACAtB,CACA,EAAAC,EACJ,EAAMrH,EAAI,aAAc,GAAC,UAAY,EACnC,MAAO,CAACmH,EAAGpnB,UAAYsnB,CAAC,CAC1B,CACA,gBAA2CwW,EAAW,WACpD,CAAI76B,aAAoBm0B,MACtB,EAAM,CACJ,mBACA,oBAGA,OACN,EAAQjoB,MACa8oB,CAA6C,YAAY,oBACpE9B,OAAI,sBAAyBhzB,CAAS,KAC1C46B,IAAI,0BAAmC,IACnCC,GAAWC,GAAW,SAAS9H,EAAC,SAAW,UAAS,IACxD+H,GAAYD,GAAW,SAASF,EAAC,SAAW,UAAS,IACnD,CAACD,MAAqB,QAAW,aAC7B,MAAQE,KACR,SAASE,GAEf37B,SAAc27B,GACd37B,GAAM,OAASy7B,GAErB,CACMG,GACFhvB,GAAI,YAAa,qBAAsBlM,EAAS,SAEpD,CAGA,EAEM,GACC,CAACpE,KAAqCC,CAAqBM,IAAwB,CAErEA,GAAoB,CAAEN,GAAqB,CACzC,aAAW,CAAqBs/B,CACvD,CAAsB,KACD,CAAIC,EAAiDj/B,WACkB,WAGtFg/B,CAAU,EACdzyB,EAAU,OACV8sB,CAAM,EACN6F,GAAW,IAAI,IACfC,MAAY,CAAI,OAChB,SAAY,EACV,UACJ,EAAK,CACD,OAAK,QAAYnnB,CACrB,CACE,UAAUxL,IACR,UAAUD,CAAS,EACjB,UACA,KACN,EACI,EAAI,MAAKA,IAAYC,EAAQ,CAC3B,KAAI,GAAK0yB,GAAS,QAChB,UAAWE,IAAQ,KAAKF,IAAS,OAAM,CACrCE,EAAK,OAAQ,IACN,OAAOA,CAAI,GAGtB,OAAe5yB,CACrB,CACA,CACE,WAAW,aAAc,MACvB,IAAUqsB,EAA6C,QAAQ,KAAM,sBAAkE,WAAe,CAC1J,EACE,OAAOwG,CAAQz6B,KACbtE,EAAI,WAEJ,KAAQ,EACR,cACE,CAAI,CACN,SACE,GAAA6C,CACN,EAAQyB,EACJzB,EAAM,IAAM,KAAG,EAAM3C,CAAC,OAChB,IAAO,GAAG,IAAMF,CAAC,KACvB6C,CAAM,MAAQ,IAAG,KAAW,GAC5BA,IAAM,aAAwB,IAEhCm8B,WACE,CAAM35B,EAAMq5B,EAAU,kBAAY,CAAO,GAAG,CAAG,KAC/C,WAAKzyB,GAAQ,WACb5G,CAAI,aAAa,iBAAmB,CACpCq5B,EAAUK,OAAgB,CACnB15B,EAET45B,GAAgB15B,WACRC,cAAqB,EAAY,gBAAc,UACrDD,GAAK,QAAe,CACpB,MAAM25B,SAAa,CAAQC,CAAM,GACjC35B,EAAS,gBAAa,EAAM05B,EAAU,CACtC15B,GAAS,iBAAa,iBAAiB,aAAmB,EAC1D,MAAM45B,EAAcV,EAAU,YAAY,gBAAc,KACxD,OAAAl5B,GAAS,cACG,cAAa,KAAQ,EAAI25B,CAAM,MAC/B,UAAU,IAAI,cAG5B,MAAUE,EAAU9+B,EAAO++B,EAASC,aAC5B15B,CAAK,KAAKkzB,QACH,IAAKiG,GAAWK,aACxB,MAAU,IAAI,cACfA,CAAS,MACXP,EAAK,UAAU,UAAU,EAE3B,MAAMv5B,GAAOm5B,CAAU,oBAAY,UAAc,EAAM,GACvDI,CAAK,OAAOv5B,CAAI,EAChB,MAAM4kB,KAAiB,WAAY,cAAc,WAC5C,MAAOA,gBACG,QAAS,CAAK,eAAe,cACvC,MAAa,EAAMgV,CAAM,EAC9BhV,MAAK,SAAa,IAAKkV,YAAkB,CAAE,aAE1B,MAAQlV,CAAI,EAE7B,QAAmB,SAAqB5kB,CAAM45B,CAAM,EAC9CK,MAAgB,gBAAY,QAAc,cAChDV,EAAK,OAAOU,CAAG,aACV,IAAa,aACb,kBAAa,SAAgBF,MAC9B,cAAa,OAAQ,EAAIH,CAAM,GAAE,CACrC,KAAKP,GAAS,KAAI/4B,CAAIi5B,CAAI,EACnB,SAEL,UAAY,QAAkB,GAEpC,CACE,2BACQj5B,CAAK,KAAKkzB,KACV+F,MAAO,CAAKE,GAAWK,GAAS,EAAG,MACpC,gBAAc,uBACb95B,CAAOm5B,GAAU,qBAAY,WAAoB,CACvDI,EAAK,iBACC3U,CAAOuU,EAAU,sBAAY,cAC9B,OAAOvU,CAAI,GAChB,OAAe,oBAAc,OAAatkB,CAAE,GAC5CskB,EAAK,gBAAa,EAAMgV,MACnB,sBAA2B,MAAS,CAAE,EAC3ChV,KAAK,WAAa,eAAiB,oBAAoB,GACvD,OACA,CAAIkV,EAAS,KAAM,YACZ,CAAU,KAAI,KAAM,EACzB,MAAMxV,aAAiB,QAAY,SAAc,gBAC5C,CAAOA,CAAI,IACP,SAAS,KAAK,YAAS,CAAIhkB,CAAE,IACtCgkB,CAAK,cAAa,KAAY,UACzB,UAAa,SAAa,8BAClB6U,CAAU,eAAY,oBACnC7U,CAAK,OAAO9oB,CAAI,EAChBA,EAAK,uBAAsB,CAAG,KACzB,YAAa,UAAU,GAAG,CAC/BA,EAAK,aAAa,OAAQ,QAAO,CACjC,MAAMy+B,UAAgB,MAAY,cAAc,YAC3C,IAAOA,CAAG,iBACE,SAAQ,EAAIL,CAAM,IACnCK,EAAI,kBAAa,IAAU,QAC3BA,EAAI,cAAa,MAAQ,OAAO,EAChCA,MAAI,SAAa,aAAa,QAAS,EACvCA,YAAc,IAAI,YAEpB,EAAMC,EAAOf,UAAU,IAAY,gBAAc,GAAK,EACtDI,UAAgB,WACX,aAAqB,IAAIK,CAAM,EAAE,SAE/B,uBAAqB,GAAQO,CAAM,KAE1C,OAAMC,CAAOF,EAAK,UAAW,EAC7B,OAAAX,EAAK,YACA,aAAU,CAAI,uBACd,IAAU,YAAI,aACnB,IAAKF,GAAS,IAAI/4B,EAAIi5B,CAAI,EACnBj5B,CACX,CACE,aAAaA,EAAIqI,KACf,IAAMic,GAAO,IAAK0U,GAAU,KAAM,GAClC,IAAKA,MAAU,IAAOh5B,GACtB,KAAK,UAAUA,MAAS,CAAG,OACtB,YAAa,GAAKqI,CAAK,UAAS,CAAE,CAC3C,CACE,oBACe,CAAK0wB,KAAS,KACT,WACA,cACb,aAAa,CAAK1wB,EAAK,qBAE9B,wBACO,GAAOrI,CAAE,EACd,OAAKg5B,CAAU,OAAOh5B,EAC1B,CACE,aAAeqI,EAAM,IACnB,QAAe,CAAIrI,CAAE,EAAE,aAAa,IAAKqI,KAAK,QAAW,EAE3D,WAAUrI,CAAI6kB,GACZgU,EAAUK,aAAsB,GAAM,EAAGrU,CAAG,CAChD,CACE,KAAK7kB,EAAI+5B,EAAS,GAChB,GAAKhB,WAAiB,SAAU,QAAO,WAC3C,CACE,UAAWl7B,CAAO,CAChB,OAAKk7B,CAAS,MAAM,CAAE,aAAa,qBAAsBl7B,CAAK,OAEhE,SAAgBnD,GACd,KAAKq+B,KAAS,MAAQ,aAAa,UAErC,aAAc/4B,EAAIy5B,EAAS,IACzB,EAAKV,OAAa/4B,CAAE,EAAE,gBAAa,eAErC,cACE,MAAK+4B,QAAe,CAAE,aAAU,CAAIiB,EACxC,CACE,YAAYh6B,EAAIg6B,EAAW,CACzB,KAAKjB,GAAS,KAAM,EAAE,UAAU,OAAOiB,CAAS,CACpD,KACE,MACM,MAAK5zB,MAAY,OAGrB,GAAK2yB,GAAS,MAAM,CAAE,OAAQ,EAC9B,KAAKA,KAAS,OAAS,CAC3B,CACE,YACE,GAAK3yB,IAAU,IACf,gBAAmB,IAAK2yB,QAAS,GAAM,CACrCE,IAAK,QAEP,IAAKF,YAKT,OAGQz/B,GAAqCC,GAAqBM,SAI5CN,GAAqB,IACzC,6BAIF,EAAIK,IAA2B,OAEXC,EAAoB,GAAG,EAEvCogC,EAAQpgC,EAAoB,GAAG,EAE/BqgC,EAAmBrgC,IAAoB,CAAG,EAM9C,MAAMsgC,EAAc,cACpB,IAAMC,WAAuBC,CAAc,wBACnB,CAAK,cAAc,SAAS,EAClDC,GAAuB,OAAK,aAAe,KAAK,IAAI,EACpDC,cAA4B,SAAe,cAClB,eAAK,oBAC9BC,CAAuB,OAAK,gBAAe,cAEhC,KACXC,CAAe,QAAQ,EAAE,UACzBC,GACAC,YACA,MAAO,sBAA0B,IACjC,MAAO,gBAAmB,EAC1B,OAAO,cAAgB,KACvB,OAAO,kBAAmB,GAC1B,UAAW,kBAAmB,EAC5B,MAAMC,CAAQR,EAAe,UACvBS,EAAeC,GAAQA,GAAK,OAAS,EACrCC,EAAQd,EAAM,0BAA0B,iBACxCe,CAAMf,EAAM,0BAA0B,eAC5C,SAAUrgC,CAAK,QAAQ,KAAM,mBAAoB,IAAIqgC,EAAM,gBAAgB,EAAE,CAAC,SAAU,aAAc,SAAU,YAAY,GAAGW,CAAM,eAAgB,EACnJ,OAAS,EACf,CAAK,EAAG,CAAC,EAAC,YAAc,kBAAkB,SAAU,YAAY,CAAGA,EAAM,eAAc,CAAG,CAAC,CAAC,YAAa,eAAe,GAAGA,CAAM,gBAAiB,CAC5I,MAAO,CAACG,EAAO,CAAC,EAChB,SACN,CAAK,EAAG,CAAC,EAAC,gBAAkB,qBAAqB,EAAGH,GAAM,eAAiB,CACrE,KAAM,CAAC,EAACI,CAAK,EAAC,CACd,QAASH,CACf,EAAK,CAAG,EAAE,4BAAc,CAAgB,EAAGD,EAAM,gBAAiB,CAC5D,MAAOG,IAAQ,CACf,SACN,CAAK,GAAI,CAAC,kBAAmB,sBAAsB,QAAS,oBAC/CC,CAAK,WACHH,CACf,CAAK,EAAG,KAAE,OAAW,oBAAsB,aAAiB,CACtD,OAAO,CAAG,EAAM,EAChB,SACN,CAAK,EAAG,CAAC,IAAC,YAAgB,qBAAsBD,GAAM,eAAiB,CACjE,aACA,UACD,CAAG,CAAC,CAAC,cAAa,eAAkBA,KAAM,cACzC,QAAUG,CAAK,cAEb,CAAC,IAAC,cAAkB,wBAAwBH,CAAM,kBACpD,OAAUI,CAAG,cAEZ,CAAC,IAEN,KAAO,SAAQ,QACf,SAAO,aAAmB,qBAAqB,SAC/C,WAAYr+B,EAAQ,CAClB,OACE,KACA,QAAM,cACP,cACoB,KAASy9B,gBAAe,CAAiBC,iBAAc,EAAiB,oBAC7F,IAAKK,iBAA8C,6BAE9C,QAAiBO,CAAW,CACjCZ,GAAc,gBAAiB,WAAWa,EAAMD,EAAW,CACzD,2BAAU,gBAChB,CAAK,EACD,2BAA+B,cAAS,QAAe,EACvD,QAAK,wBAAmB,CAAWj+B,IAAM,kBAAiB,iBAAoB,CAAC,IAEjF,KAAO,oBAAoB8O,EAAMjK,EAAO,cAEpC,EAAKjI,OAAK,sBAA2B,cACnCwgC,EAAe,oBACf,KACF,cAAU,oBAA2B,eACnCA,eAAe,CAAgBv4B,KAC/B,EACR,CACA,CACE,aAAaiK,EAAMjK,EAAO,CACxB,eACOjI,EAAK,wCAA2B,CACnC,KAAKuhC,GAAgBt5B,CAAK,EAC1B,SACF,EAAKjI,EAAK,+BAA2B,oBACZ,EACvB,KACR,CACA,CACE,WAAW,6BACT,MAAQ,CAACA,UAAK,oBAA2B,aAAewgC,OAAe,eAAoBxgC,CAAK,iCAA2B,SAAgBwgC,EAAe,eAAiBC,EAAc,mBAAiB,eAAiB,CAAC,CAChO,CACE,gBAAI,QAAqB,CACvB,YAAc,iCAA2B,oBAAsC,yBAA2B,iBAAgB,GAAKz0B,GAAO,CAC1I,KACkBtD,CAAU,SACJ4d,GAAQ,CAC1B,gBAAe,MAAM,cAAW,EAAQA,CAAI,4BAC5C,mBAAoBA,WAAyB,KAAK,WAAW,KAC7D,KAAiBA,KACjB,QAEIkb,QAAqBV,EAC3B,QAAK,mBACc,SAAmB,CACpC,eAAuB,EAAMU,IAC7B,iBAAW,WAAW,CAAS,kBAAU,GAAY,SACrD,QAAU,CACV,SAAW,yBAA2B,eACtC,6BACA,cAIF,oBACgB,QAAK,MAAU,4BAG/B,eACE,IAAK/8B,aAAyB,EAC9B,MAAMA,CAAS,aACf,KAAM,OAAK,SAAW,4BAAmB,cACzC,GAAU,IACV,IAAMzE,EAAK,2BAA2B,2BACtC,eACA,OACN,CAAK,EAEH,gBAAgBO,EAAGE,KACjB,QAAK,8BAAW,CAAyBF,EAAGE,MAE9C,8BACQ0X,cAAa,oBACK,+BAA2C,eACvE,CACE,gBACY,qBAGJ,CAAS,iBACE,GAGZ,sBACH,SAAK,GAAO,2BAGhB,CAAiB,aACN,UAGT,KAAK,2BACL,eAAY,WAAcnY,EAAK,qBAAqB,eACpD,CAAM,wBACD,SAAW,qBAAiB,QACjC,OAAK,YAAU,WAAkB,iBAC5B,IAAe,GACpB,iBAAS,QAAgB,uBAAuB,MAChD,CAAK,eAAU,YAAiB,aAAW,gBACtC,MAAU,gBAAiB,kBAChC,OAAK,aAAU,gBAAiB,gBAC3B,UAAU,oBAAiB,uBAC3B,SAAU,sBAA0B,OAAyB,WAEpE,UACO,OAAK,gBAGV,UAAK,CAAO,gBAAgB,EAAI,KAChC,aAAM,QACN,KAAK,eAAW,MAAU,iBAC1B,GAAK,cAAU,iBACf,SAAS,WAAa,iCACtB,OAAK,WAAe,GACpB,KAAK,UAAU,sBAAoB,QAAW,KAAKyhC,IACnD,UAAK,iBAAU,QAAoB,QAAS,KAAKf,IACjD,UAAK,iBAAU,QAAoB,OAAQ,KAAKgB,gBAC3C,GAAU,oBAAoB,aAAcf,gBAC5C,GAAU,uBAAoB,OAAS,WAC5C,CAAK,SAAI,CAAM,GACb,YAAe,IAChB,CACD,SAAK,gBACA,QAAO,CAAI,gBAAc,uBAEhC,GAAQr8B,KACD,GAAK,sBAGV,MAAM,SAAa,oBACO,SACxB,QAAK,SAAU,UAGnB,oBACW,EAGT,KAAK,kBACL,UAAK,oBACI,cAAiB,mBACnB,oBAEF,QAAkB,OAEzB,UACE,UAAQ,CAAK,mBAAkB,OAAU,UAAU,OAAI,IAC3D,CACE,oBACO,IAAY,MACb,UAAK,CACP,OAAK,OAAO,cAAgB,IAC5B,iBAAgB,WAAU,EAAI,0BAE1B,QACV,CACEq9B,OACE,IAAM/H,EAAS,MACf,EAAK,eAAU,MAAW,CAC1B,UAAWgI,KAAS,aAAK,EAAU,WACjChI,MAAO,CAAK4G,EAAeqB,IAAqB,CAAC,cAErC,EAAK;AAAA,CAAI,CAC3B,CACEC,IAAuB,CACrB,OAAOl0B,CAAam0B,KAAgB,GAAK,oBACzC,CAAIzgC,EACJ,GAAI,cAAK,OACPA,KAAO,UAAS,kCAGd,WAAA0gC,CACA,aAEIC,CAAejyB,EAAI,MAAM,SACzBkyB,CAAkBlyB;AA0KoF,CAAI,EAClH,GAAI,CAACmyB,UAGL,SAAkB,eAAO,GAAc,EACvC,IAAKC,UAAU,UAGf,KAAK,gBAAU,SACL,qBACV,eAAwB,KAAW,EAAC,CACpC,GAAI,CAACD,EAAM,SAAS;AAAA,CAAI,EAAG,CACzBE,EAAM,WAAW;AAmCkB,CAAI,CAAC,GAAGF,CAAK,MAAe,IAAK;AAAA,CAAI,CAAC,SACtEG,GAAa,CAClB,SAAiB,GAAI,OACrB,GAAIC,MAA4B,YAAa9zB,CAAS+zB,GAAM/zB,EAAK,WACjE,UACE,UAAAiC,WACQ,cAAU,QAClB,EAAIA,SAAW,MAAa,IAAK,kBACzBic,CAASjc,GAAW,UAAU,OACpC,IAAI6xB,GAAgB5V,CAAQ,EAC1B8V,CAAS,SAAS/xB,GAAY6xB,CAAY,MACjC,KAAO7xB,oBAMZ,gBAAiB,CAC3B0xB,EAAU,gBAEE,CAEZ,GADA,KAAK,aAAU,cAAiB,CAC5B,EAAC,KAAKM,QAGV,OAAWj0B,UAAai0B,CAAS,cAAM;AAAA,CAAI,EAAG,CAC5C,MAAM1yB,EAAM,SAAS,cAAc,KAAK,EACxCA,GAAI,OAAOvB,CAAO,WAAS,eAAmB,CAAI,YAAS,cAAc,CAAI,CAAC,EAC9E,KAAK,UAAU,OAAOuB,CAAG,CAC/B,CACA,EACE2yB,iBACcD,KAAS,YAAmB,OAE1C,eACE,EAAOl0B,IAAQ,aAAgB,GAAM,CACzC,CACE,IAAI,uBACK,EAAK,8BAEKhL,CAAMiJ,EAAQ40B,EAAW,CAC1C,WACA,GAAI79B,eAAiC,8BACnC,EAAM,CACJ,WACE,iBAAuB,GACrB,QAAAkF,CACA,aAEF,MAAApH,CACA,UAAA0B,CACA,GAAAoD,CACD,OACD,OAAA2T,QACA,OAAA6oB,QACA,CAAQ,EACN,SACE,SACZ,CACA,CACA,EAAUp/B,EACJ,KAAKuW,UAA2B,MAC9B,SAAO,EAET5C,IAAqB,CACnB,eAAgBnX,KAAK,yBAAqB,EAC1C,MAAO,MAAM,KAAK6iC,IAClB,YACA,IAAO9oB,IAAY,GAAK;AAAA,CAAI,EAC5B,eACA,YACA,QAAW,IAAM,CAAC,KAClB,iBAEA,IAAS,EACV,CACP,EACI,KAAMzH,gBAAe,OAAkB7F,CAAQ40B,GAC/C,sBAAwB,CACxB/uB,EAAOtG,IAAShM,CAAK,KAAK,aAAa,GAAGwD,GAAK,IAAK,KAC7Ck/B,GAAWlC,CAAesC,GAAoBt/B,KAAK,QACnD,yBAAiC,QACjCu9B,CAAe5pB,EACf7E,EAET,UAAUywB,OACR,EAAI,MAAK,WACP,QAAO,EAET,MAAI,EAAK,YACP,KACE,QAAW,wBACF,uBACT,QAGJ,MAAMC,UAAyB,eAAmB,CAAK,kBAC1C,CAAK,UAAiBA,CAAO,cACd,UAAiB,cAAc,OAAQ,OAAK,cAAkB,mBAAiB,GAAK,WAAW,QAAQ,GAAKh3B,KAClI2F,CAAa,iBACD3R,CAAK,qBAAqB,SAC1C,SACA,WAAU,EAAK8gC,KACf,UAAY6B,EAAmB,UAC/B,EAAW,UAAK,YAEhB,SAAU,MAAK,QACf,sBAAoB,UAAK,gBAE3B,IAAII,EACKpxB,KAEL,EAAK,uBAAwB,IAAKsxB,KAA6B,CAC1D;AAyB8B,CAAI,EAAG,CAC5C,MAAMjzB,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,OAAOvB,EAAO,SAAS,eAAeA,CAAI,EAAI,SAAS,cAAc,IAAI,CAAC,EAC9ED,IAAQ,UAEV,OAAgBgyB,CAAe,mBAAmB,GAAK,YACvD,OAAA0C,EAAW,kBACT,CAAM,KAAK,QAAQF,EAASA,CAAO,GACpC,CACMx0B,OAET,sBACE,aAAM,gBAAiC,IAC5B,YAAa,QAKxB20B,CAAkBljC,EAAoB,MAEvBA,MAAuB,CAEtCC,EAAgBD,QAQpB,QAAMmjC,YAAsC,cAC1CC,QACAC,KACAC,cAEe,SACE,IACjBC,GAAa,SACE,CACfC,GAAgB,SACK,KACrBnK,EAAM,KACNoK,GAAmB,GACnBC,GAAgB,KAAKC,GAAS,UAAS,CACvCC,IAAa,IACbC,GACAC,GAAa,KACbC,GAAQ,IACRC,GACAC,EAAoB,uBACb,CAAgB,KACvB,OAAO,gBAAkB,EACzB,QAAO,iBAAoB,IAC3B,OAAO,kBACP,CAAO,OAAQ,WACf,UAAO,SAAclkC,YAAK,wBAC1B,SAAO,cAAmB,CAC1B,OAAO,gBAAiB,IACxB,OAAO,qBAAuB,iBACnB,eAAmB,CAC5B,MAAMghC,EAAQoC,EAAgB,uBACf,MAAQ,KAAM,mBAAoB,IAAI/C,EAAM,gBAAgB,CAAC,CAAC,CAAC,YAAa,eAAe,GAAGW,CAAM,WAAY,CAC7H,MAAO,CAAC,EACT,EAAG,CAAC,CAAC,eAAc,cAAgB,KAAS,WAC3C,KAAM,CAAC,IACR,CAAG,EAAE,UAAW,aAAa,EAAGA,EAAM,YACrC,QACN,CAAK,EAAG,IAAE,UAAa,eAAe,EAAGA,EAAM,aACzC,IAAM,IACP,CAAC,CAAC,CAAC,IAEN,UAAYj+B,KACV,IAAM,IACDA,EACH,KAAM,kBACP,GACD,MAAK,KAAQA,CAAO,QAASqgC,CAAgB,cAC7C,OAAKa,CAAalhC,EAAO,cAA6B,iBACtD,KAAK+gC,MAAkB,UAA2B,iBAClD,QAAc/gC,CAAO,gBACrB,CAAKmhC,MAA2B,iBAAoB,kBAChC,CAAQ,GAC5B,KAAK,aAAe,iBACK,IACvB,KAAKR,GAAmB,OACxB,CAAKS,KAA0B,CAC/B,OAAKC,CAAiB,IAEtB,gBAA0B,KAC1B,OAAKd,CAAgBvgC,EAAO,gBAC5B,aAAyB,IACzB,aAA2B,WAC3B,GAAKshC,GAAiB,EACtB,KAAKD,GAAiB,EACtB,MAAK,MAAO,KAAK,SAAQ,CAE/B,CACE,IAAI,+BAEA,QAAQ,MACR,YAAWV,CAAmB,qBAAmB,QACjD,gBAAY,QAAW,kBAAoB,MAAI,GAAK,QACpD,WAAW,OACX,gBAAkB,OACnB,CACL,GACE,iBAAI,QACF,IAAO,CACL,SAAM,QACN,UAAO,CAAK,uBAAW,QAAoB,eAC5C,CACL,CACE,YAAO,qBAA0BlgC,UAE7B,eAAgBA,WAAS,EAAO,IAAE,WAIpC,IAAM8gC,WAA+B,MAAS,KAAKf,GAAQ,SAC3D,EAAKgB,IAAqBD,CAAS,YAAa,UAEtC,EACR,IAAG,GAAK,EACR,cAAY,GACZ,aAAa,KACnB,UAAgC,MAC5B,IAAME,EAAqB,IAAIrB,GAAgB,qBAAsB,CAAQ,QAAO,OAAK,OAAW,aAAc,GAAK,EACvH,cAAyC,YACzC,OACE,gBACOsB,oBACsB,CAAI,QAAU,MAAK,WAAuB,OAAK,CAAK,mBAGnF,gBAAAC,kBAEA,SAAAjF,CACJ,IACI,WACA,OAAuB,KAEvB,CADA,UAAwC,oBAAmBwE,IAAiBU,KAAgB,MACxFC,CAAe,EACjB,MAAKtL,0BAEO,UAAU,eAA0BoL,CAAiB,EACjE,KAAKX,KAAa,GAAK,YAAO,WAAU,WAAiB,oBAChD,WACT,KAAM9/B,EAAQ,cAAY,kBAC1B,GAAK,mBAAiB,YAAW,EAAKq1B,GAAKoL,MAC3C,EAAK,OAAO,UAAU,UAAU,MAAKpL,oBAA+Dr1B,EAAQ,UAAK,IAAW,KAAO,4BAC7G,wBAAiCwgC,EAAc,cACzD,aAAU,6BAA2E,oBAIjGhkC,CACA,mBAEEikC,CAAkB,OACtB,iBAAa,CAAQ,CACnB,IAAK,IACH,gBACSjkC,CACT,QAAK,GAAQsD,IACb,GAAK,aACL,EACF,IAAK,MAED,IAAM,IAAsB,EAAI,2BAC3B,gBAEL,OAAK,GAAQA,GAAQd,CAAae,KAClC,KAAK,IAASX,KAAqBJ,CACnC,KACV,CACM,2BAEW,oBAET,EAAK,QAASI,CACd,QACF,KAAK,EACH,CACE,MAAOW,EAAWf,MAAc,IAAK,0BAErC,SACA,8BACcI,CAASW,uBAK3B,gBACsB,GACxB,4BAA+DvD,CAAK4C,mBAE/D,EAAWi+B,kBACF,MAAiB,mBACf,uCAA6C,gBAAgB,KAAS,MAC1F,CACE,gBAAO,+BAEEthC,oBAAK,SAA2B,wBACnCojC,EAAgB,2BAEbpjC,eAAK,kBAA2B,gBACnCojC,EAAgB,mBAAoBn7B,CACpC,cAGN,SAAgB1H,EAAGE,EAAG,IACtB,WAAI,gBACK,KAAKojC,IAEd,qBACE,QACE,KAAU,2BAA2B,6BAEnC,QACF,CAAK7jC,cAAK,qBAA2B,iBACnC,EAAK6kC,GAAiB58B,CAAK,aAIjC,QAAW,0BAA4B,SAC5BjI,OAAK,iCAA2B,eAAyC,kBAAsB,2BAA2B,oBAAqBojC,OAAgB,aAAkB,CAC9L,CACE,IAAI,oBAAqB,CACvB,MAAO,IAAO,6BAA2B,cAAiB,kBAA8B,WAAgB,CAACpjC,GAAK,0BAA2B,oBAAqB,iBAAmC,iBAA0B,0BAA2B,eAAgB,OAAqB,CAAC,OAE1Q,CAClB,MAAMyE,IAAWqgC,CAAO,CACtB,KAAK,SACL,KAAK,OAAQ,UAAU,gBAAY,CAAKxL,KAAQ,CAChD,MAAKyL,IAAc,kBAEF,IAAK,MACxB,KAAK,eACH,EAAKtgC,EAAS,OAAK,GAAM3D,EAAK,CAC9B,KAAM2D,KAAS,EAAK,KAAMugC,CAAU,IACpC,GAAM,QAAK,QAAW,SAAS,MAAK,IAAK,WAAY,MACrD,SAAU,UACC,2BAA2B,kBACtC,kBAAqB,WACrB,CAAU,EAChB,CAAK,KACD,OAAK,YAAiB,CACpB,QAAQ,mBACR,EAAO,MAAK,WAAW,mBAAoB,IAAIlkC,CAAK,QAGxD+jC,IAA4B,CAC1B,MAAMI,EAAiB,KAAKhB,IACtBiB,CAAeC,KACnB,IAAKlB,KACL,OAAKmB,CAAiBD,CAAE,CACzB,EACD,MAAK,aACH,GAAKD,KAAa,EAAK,UACvB,GAAMA,IAAa,GAAK,KAAMD,CAAc,MAC5C,CAAM,MAAK,kBAAW,CAAS,MAAK,IAAK,cAAY,CAAI,EACzD,SAAU,GACV,KAAMjlC,EAAK,2BAA2B,iBACtC,iBAAqB,GACrB,SAAU,KAEZ,OAAK,eAAiB,CACpB,aAAQ,cACR,UAAAqlC,CACD,EAAE,YAEC,cAAiB,CACrB,QAAgB,MAAM,SAAM,YAAgB,KAC5C,IAAKC,iBAGI,EAAW,kBAClB,OAAKP,CAAe,IAAIQ,IAAa,WACnC,cAEFD,EAAQ,eAAe,KAAKP,aAIhC,gBAAiB,IACf,GAAM,qBACN,CAAK,QAAI,SAAU,OAAO,UAAgB,CAC9C,CACE,yBACQ,YAAe,CACrB,OAAK,KAAI,OAAU,OAAO,WAAY,EAAK,CAC/C,CACE,mBAAoB,IAClB,IAAO,aAAM,eAAkB,CAAKS,GAAY,IAElD,mBAAqB,WACP,CAChB,CACE,YAAgB,CACd,SAAO,SAAM,GAAQnc,IAAQ,KAAKmc,OAEpC,eACE,CAAK,OAAO,4BACZ,CAAK,MAAI,IAAO,CACpB,OACE,EAAS,CACP,UACA,UAAK,YAAiB,CACpB,QAAQ,QACd,CAAK,KACD,GAAM,OAAQ,CAClB,CACE,UACO,MAAK,QAGV,OAAM,OAAS,KACX,EAAK,OAAQ,MAGjB,MAAKpB,KACA,IAAK,iBACR,KAAK,QAAO,OAAQ,GAE1B,CACE,UAAU33B,EAAQ,CAChB,KAAIg5B,CAAiB,MACjB,EAAK,QAAU,CAACh5B,SACbi5B,CAAiB,WAEjBtB,GAAgB33B,IACrBg5B,CAAiB,CAAC,UAAK,GAAU,OAAK,OAAK,OAAU,aAAS,WAAgB,KAEhF,IAAM,UAAUh5B,CAAM,EACtB,QAAK,EAAK,KAAK,gBAEb,IAAK,OAAQ,CAEnB,CACE24B,GAAiBC,EAAW,IACtB,CAAC,MAAK3B,EACR,OAEF,WACE,mBAAmB,EAAKa,GAAmB,iBAA2B,CAC5E,CAAK,EACD,OAAK,iBAAmB,CACxB,KAAM,GAAcxC,CAAY,gBAAS,SACzC,OAAK,QAAQ,EAAK,MAAQn0B,UAAkB,OAE9C83B,KACM,QAAKpM,OAAQ,CAAQ,CAAC,KAAK,iBAG1B,KAAO,SAAU,SAAO,OAC7B,UAAW,KACX,GAAK,OAAO,WAAU,kBACtB,EAAKyK,GAAa,OAEpBK,EAAgB33B,EAAS,KAAK,UACxB,GAAK6sB,KAAQ,QAIf,GAAI,OAAKA,CACT,2BACS,KAAU,YAAU,GAAKiL,GAAoB,MAAK,KAAO,KAAKT,EAAQ,GACjF,SAAyB,WAAU,gBAAiB,cAC3CL,KACP,gBAAyB,OAAW,KAAKkC,qBAK3CllC,EACA,WACA,IAAA4C,CACD,OACC,oBAEI,EAAO,IACF,CAAI5C,GAAI4C,CACX,OACA,oBAGC,WAED,EAAG,EAAI9C,EAAIwD,MACJtD,oBAGR,EACH,WACE,IAAO,CACL,EAAGA,EACH,MAAWsD,oBAKjB,aAEEtD,EACA,eACA4C,CACD,CACL,CACE,QAAOY,CAAO,EACZ,MACE,UACD,EAAG,OAAK,iBAEAy/B,MACEz/B,EAAQ,UAAK,iBACA2hC,WAAoC,IAAK3hC,CAAK,OAE9C2hC,iBAEd,aAAsB,CAChCC,GAAU,WAAY9B,iBACZ,CAAU,YACpB8B,CAAU,gBAAe9B,EAAYX,EAAgBwC,gBAA0C,CAAC,CACpG,WAEI,EAAI,QAAK,CACP,cAAY,IAEd,eAAkB,IAAQ,EACtB,KAAK5B,KACPh0B,EAAI,eAAa,uBACb,YAAa,OAAQ,iBAGzBA,WAAI,CAAU,IAAI,qBAET,aAAiB,UAAW,KAAK2zB,eAEvB,KAAqB,cAAS,qBAC/C,IAAOmC,CAAY,MACV,YAAa,cAAe,MAAM,CAC/CA,EAAa,iBAAY,IACzBA,EAAa,OAAM,QAAW,KAAKH,OACnC,CAAM,EAAC/3B,CAAam0B,UAAqB,eACzC,mBAAK,CAAQ,KAAK,MAAQn0B,EAAa,SAAK,OAAqB,GAC9DyyB,CAAM,oBAAkB,EAAKoD,MAAgB,YAAe,eAAe,EAC9E,QAAK,WAAe,EACbzzB,CACX,CACE,aAAc,EACZ,IAAK,OAAO,aAAU,OAAS,IAAK+zB,GAAY,SAAS,CAC7D,CACE,eACE,MAAK,OAAO,SAAU,YAAY,KAAKA,GAAY,SAAS,CAChE,CACEH,IAASt/B,CAAO,CACd8+B,OAAgB,YAAiB,MAAK,IAAM9+B,CAAK,CACrD,CACE,WAAWyhC,EAAW,CAEpB,SADA,QAAK,EAAO,UAAS,KACbA,MACN,CAAK,MACL,CAAK,OACH,CAAKC,GAAU,EAAI,EACnB,mBAEG,CACH,aACA,QAGNA,CAAUpL,IACR,MAAK,EAAKyI,MACR,eAEgB,uBAEN,gBAAY,CAAKA,SAAkBC,CAAa,EAE1DlB,IAAU,aAAY,EAAKoB,KAAY,GAAKyC,WAGhD,CAAS,CACP,MAAM,OAAQ,IACT,KAAKlC,UAGL,OAAQ,YAAU,SAAY,SAAiB,eAC/C,QAAQ,UAAU,SAAS,QAAiB,yBAGjD,KAAM,oBACIA,CAGV,OAAK,wBAAkB,SAAiBA,GAAY,gBAC/C,CAAKL,MACR,QAAoB,GAGxB,IAAI,uBACF,GAAQ,KAAKA,OAEf,CAAKvD,EAAU,WAAK,MAClB,QAAM,GAAKA,GACP,QAAK,MACP,QAAK,MAAO,QAAU,MAAK,QAAiB,EAC5C,KAAK,OAAO,cAAU,CAAK,KAAK4D,QAGpCyB,GAAe,GACb,QAAO,EAAK9B,IAAmB,QAAK,MACxC,CACEwC,OACE,CAAI,KAAKxC,QACP,EAAO,KAET,OAAO1/B,CAAWf,CAAU,IAAI,QAAK,YACvB,QACRkC,EAAa,IAAI,WAAY,OACnC,IAAIgJ,EAAI,GACR,QAAW,CACT,EAAA5N,EACA,WACAwD,CACA,UACD,EAAIoiC,EAAO,CACV,MAAMC,MACAC,KAAU5lC,MAAcwC,CAC9BkC,MAAgBA,CAAWgJ,IAAK,CAAIi4B,MACrB,CAAC,EAAIjhC,KAAgB,EAAIkhC,EACxClhC,GAAWgJ,CAAI,KAAgBA,EAAI,CAAC,GAAIi4B,CAAKriC,EAAQC,QACrC,CAAImB,EAAWgJ,IAAK,CAAIk4B,EAAKhjC,EAASJ,KACjD,CACX,CACI,QACJ,CACEqjC,UACE,UAAY/B,CAAmB,UAAUjjC,KAAM,EAAKkkC,cAE/C,mBAA0Be,EAAO,CACtC,OAAQC,EACR,EAAAjmC,GAEJ,EAAK,CACD,KAAM,CACJ,EAAGkmC,EACH,EAAGC,EACH,MAAO94B,EACP,UACE44B,EAAU,wBACRG,EAAcze,GAAK,CACvB,WAA6B,CAC9B,EACK0e,SACJ,EAAS,iBAGS1e,GAAK,WACrB,aACA,cAAiB,CACpB,EACK2e,GAAoB3e,IACxBse,EAAU,4BAAoB,OAA0B,EACxD,OAAO,oBAAoB,OAAQK,KACnC,MAAO,sBAAoB,aAA8B,CACzD,OAAO,4BAAoB,iBAC3B,CAAO,oBAAoB,kBAA6B,eACxD,SAA4B,CAC7B,QACD,CAAO,qBAAiB,WACxB,GAAO,sBAAiB,UAA8B,CACtD,SAAO,eAAiB,cAAeC,EAAaF,CAAkB,EACtE,OAAO,sBAAiB,SAAe1mC,EAAc,aAAa,SACxD,YAAiB,gBAA0B,CACrD,QAAK,iBAAqBijC,CAAgB,gBACxC5iC,EACA,CACD,EAAE,CAACkmC,EAAQC,EAAQ94B,EAAam0B,CAAY,EAAGt1B,EAAO,OAAO,OAAK,kBAAuB85B,CAAO,IAAK,EACrG,CACC,GAAI,KAAK,iBACT,WAAY,KAAK,qBAClB,CAAG95B,EAAO,UAAU,aAAU,GAAK,eAAgB,MAAK,eAAe,GAAK,0BAExEs6B,KAAuBziC,CAAO,CAC/B,QAAK,YAAe,MAAS,GAC/BmI,CAAO,UAAU,WAAW,KAAK,oBAAkB,EAAK,cAAc,CAE5E,EACE,KAAOu6B,MAAsB1iC,CAAO,EAC7B,KAAK,gBAAe,SAQvBmI,CAAO,UAAU,yBAAyB,iBAAgB,CAP1DA,EAAO,sBAAsBnI,KAAc,CACzC,YAAa,SAAK,iBAClB,cAAmB,KAAK,eAAe,YAAa,EACpD,WAAY,OAAK,oBACjB,gBAAkB,cAC1B,CAAO,KAIH,EAAK,iBAAmB,MACxB,EAAK,wBACL,CAAK,uBACT,CACE,UAAO,gBACL,MAAMgO,KAAS,MAAM,iBAEnB,KAAM,CAAC/M,EAAKC,IAAUQ,CAAG,IACzB,IAAAlF,IACA,YACE0C,EACJ8O,EAAO,SAAa,WAAK,SAAgBxR,CAAK,IACvCgjC,KAAgB,WACvB,KAAkB7gC,CAAU,SAAW,UACvCqP,2BACiBtM,CAAMR,eACT8M,CAAOixB,mBACLp1B,CAAIhJ,EAAW,SAAQgJ,CAAK,EAC1Cg4B,GAAM,KAAK,gBAET,CAAIngC,OAAsBmI,EAAI,aAC9B,CAAQhJ,MAAgB,CAAIA,IAAY,WACxC,CAASA,mBAGb,OAAAmN,EAAO+xB,GAAiB,EACjB/xB,EAET,YAAyB,GAAO,CAC9B,QAAS,SAAS,EAAIywB,EACpB,OAAO,KAET,SAAa,IAAK,QAAQ,EAAG,CAAC,EACxBjiC,EAAQ2/B,IAAc,eAAiB,gBAAc,OAAQ,KAAK,IAAK,IAC7E,OACE,aAAgBzgC,KAAK,oBAAqB,UAC1C,WACA,KAAS,UACT,QAAW,GAAKikC,0BAEhB,cAAeqC,CAAmBhlC,mBAClB,YAChB,EAAAA,EACA,uBACA,2BAAyB,YAC1B,CACL,CACE,OAAO,yBAA0B,CAC/B,MAAO,EACX,IASA,IAAM2lC,aAAgC,gBACpCC,mBAE+B,wBAAuB,EAAI,EAC1DC,GAA2B,KAAK,mBAAmB,OAAK,EAAI,EAC5DC,MAAwB,iBAAK,CAAgB,KAAK,OAClDC,KAA0B,MAAK,cAAkB,KAAK,KAAI,CAC1DC,OAA8B,CAC9BC,GAAiB,QAAI,GACrBC,MACAC,GAAsB,GACtBC,IAAuB,EACvBC,KAAY,OACC,CACbC,MACAC,OACA,UAAO,cAAgB,EACvB,SAAO,cAAkB,MACzB,UAAO,cACP,MAAO,MAAQ,MACf,SAAO,WAAc7nC,CAAK,sBAAqB,GAC/C,eACE,MAAM,CACJ,GAAG+C,IACH,GAAM,aACP,CACD,OAAK,IAAQA,EAAO,aACpB,UAAK,OAAmB,cAAa,CACrC,MAAK,OAAUA,IAAO,cACtB,iBACK,aAAe,CAAE,KACtB,EAAK,YAAc,CAAE,MACrB,CAAK,eACL,KAAK,gBACL,GAAK,aAAe,KAAK,eACzB,MAAK,CAAI,OACJ,GAAI,CACT,KAAK,qBAAuB,EAChC,KACE,GAAO,cAAiBs+B,CAAW,GACnB,iBAAiB,YAAWC,CAAMD,CAAS,CAC7D,MACE,EAAO,oBAAoBnvB,EAAMjK,EAAO,CACtC,UACE,SAAU,yBAA2B,eACnCg/B,CAAU,uBACV,GACF,mBAAU,eAA2B,cACzB,YAAgBh/B,EAC1B,MACF,MAAKjI,CAAK,sCAA2B,CACnCinC,EAAU,gBAAkBh/B,EAAQ,IACpC,KACR,CACA,CACE,uBACE,EAAQiK,KACN,GAAKlS,EAAK,4BAA2B,kBAC9B6kC,GAAiB58B,IACtB,QACF,SAAU,sBAA2B,UACnC,KAAK6/B,KAAkB,CACvB,SACF,KAAU,+BAA2B,SACnC,GAAKC,GAAe9/B,CAAK,GACzB,MAGN,WAAW,2BAA4B,CACrC,QAASjI,GAAK,0BAA2B,cAAeinC,EAAU,iBAAiB,GAAIjnC,EAAK,2BAA2B,UAAWinC,EAAU,eAAiBxG,EAAc,sBAAiB,kBAA0B,6BAA2B,aAAa,CAAK,QAAgB,iBAAkB,EAAG,CAAC,CAAC,EAE5S,IAAI,oBAAqB,CACvB,SAASzgC,CAAK,kCAA2B,WAAe,CAAK,qBAAuB,oBAA0B,qBAA2B,UAAW,QAAK,eAAmB,QAA+B,kCAAkC,KAAS,0CAAwC,EAAK,gBAAkB,sBAAqB,kBAG1U,KAAqBmlC,eACd,YACA6C,EAAe,CACrB,UAC2B,0BACX,CACf,gBAA6B3C,CAAS,aACnB,CAAK,OAAoB,CAC5C,gBAAW,QAAW,eAAc,CAAK,8BAEzC,IAAMrlC,EAAK,2BAA2B,cACtC,6BACA,GAAU,EAChB,EACA,CACE8nC,GAAahnC,iBAET,IAAK,KAAQgkC,EACb,aAEiB,KAAK,SACxB,EAAK,YAAY,CACf,IAAKrgC,EAAS,WAAgB,EAC9B,sBACA,UAAW,wBAAyB,IAAK,sBACzC,MAAU,CACV,KAAMzE,EAAK,6BAA2B,UACtC,oBAAqB,CACrB,mBAGoB,CACtB,WAAyB,CACvB,QAAK,KAAU63B,EACf,KAAKoQ,UAEI,GACX,OAAMC,CAAe,KAAK,QAC1B,QAAK,WACH,GAAKC,EAAW,KAAK,KAAMtI,CAAO,KAClC,GAAMsI,CAAW,OAAK,GAAMD,CAAY,EACxC,KAAM,KAAK,WAAW,SAAS,QAAK,GAAK,WAAY,GAAI,KACzD,MAAU,KACV,GAAMloC,EAAK,4BAA2B,WACtC,sBAAqB,CACrB,UAAU,CAChB,EACA,CACE,UACO,QAAK,MAGV,MAAM,WACF,IAAK,QAAQ,OAGZ,kBACEooC,KACL,KAAKC,EAAiB,GAEnB,KAAK,0BACH,KAAO,KAAI,EAAI,EACpB,KAAKC,GAAgB,KAEvB,gBAEF,KACM,KAAK,SAAW,QAGf,kBACE,UAEP,IAAK,QAAO,KAAQ,QAAK,IAAO,UAChC,IAAK,OAAO,OAAQ,IACpB,GAAK,OAAS,KACV,KAAKhB,QACP,UAAa,MAAKA,CAA2B,EAC7C,KAAKA,KAA8B,IAErC,KAAKK,IAAU,UAAY,IAC3B,MAAiB,QACjB,MAAM,KAAQ,CAClB,SACE,EAAUl7B,UACE,OAAUA,IAClB,QAAK,UAAW,iBAAoB,GAAI,KAC/B,aAAeA,CAAW,OACnC,YAAK,GAAW,iBAAiB,IAAI,IAEvC,YAAM,EAAUA,CAAM,IAExB,kBACE,aAAoC,CAAK,iBACnC1I,EAAQ,KAAK,qBACC,CAASg+B,EAC7B,OAAK,YAAch+B,EAAOV,CAAM,CACpC,CACE,mBACM,WAAwB,CAAK,WAAW,oBAGtC,MAAgB,MACtB,CAAK,oCACO,cAAiB,qBAE/B,eAAkB,CACZ,0BAAwB,CAAK,SAAW,iBAGtC,aAAiB,CACvB,4BAA0B,YACrB,GAAI,gBAAU,CAAO,WAC1B,cAAY,oBAAoB,6BAElC,cACO,UAAgB,KAAK,SAC9B,CACE,SAAU,IACR,6BAAkC,UAAW,QAAW,GAAK,QAAK,KAAO,CAAE,SAAW,IAExFklC,EAAkB,CAChB,0BAEE,cAAkB,CAACxkC,IACzB,GAAQ,IACJ,UACE,IAAK,KACH,QAAWV,IAAgBU,CAAK,yBAEI,EACtC,OAAK,EACH,4BAEA,cAGNykC,GAAa,CACX,iBAEE,CAAA1nC,EACA,4BAEA,UACA,iBACE,CACJggB,GAAI,iBACA,kBACA,+BACa,YACb,KAAc,MAAQ,GAAMuf,gBAAoBR,CAAO,GAC/D,CACE4I,GAAcloC,GAAGE,CAAG,kBACN,YAAiB,2BAA6B,cACrD,KAAO,cAAiB,kBAAgB,EAAK0mC,EAAwB,2BAC9D,UAAiB,WAAe,EAAKuB,EAAuB,cAC5D,qBAAiB,kBAC7B,IAAK,2BAA2B,iBAAe,MAC/C,KAAK,aACA,KAAKhB,eACoB,CAC5B,WACA,OAAK,SAAcT,MAAU,eAC7B,IAAK,QAAUA,EAAU,eAAiBxG,KAAc,iBAAiB,eACzE,KAAK,YAAsB,iBAE7B,MAAK,WAAY,KAAK,CAAClgC,EAAGE,CAAC,IAC3B,IAAKgnC,GAAsB,KAC3B,KAAKe,CAAY,EACjB,MAAKX,GAAwB,GAAM,CACjC,KAAKc,KACD,UACF,OAAO,qBAAsB,QAEhC,EACD,OAAO,0BAAsB,CAAKd,IAEpCe,OAAY,CACV,MAAOC,EAAOC,CAAK,IAAI,OAAK,QAAY,MAAK,CAC7C,MAAI,KAAK,UAAY,gBAA6BroC,OAChD,MAEF,MAAMsoC,GAAc,KAAK,YACzB,YAAkBxB,CAGlB,GAFAwB,KAAY,GAAMxoC,KAAK,CACvB,MAAKknC,OACW,aACP,SAAO,CAAGsB,MACjBC,EAAO,OAAOzoC,UACd,CACN,mBAEM,KAAsByoC,EAAS,IAAI,OACnCA,EAAO,QAAO,EAAGD,IAAc,WAEXC,iBAAkCD,KAAe,EAAE,KAAO,CACpF,SAEQ,mBAAiB,QAAW,CAC9B,SAEF,iBAAuB,OAAY,MACnC,KAAKxB,IAAe,OAAO,EAAG0B,CAAS,IAEzCC,CAAa3oC,aACkB,KAC7BA,eAAa,CAAK,IAAIA,IAAI,CAAG,KAAK,WAAO,CAAK,EAC9CE,IAAI,GAAK,KAAI,eAAgB,GAAK,iBAClC,GAAKmoC,KAASnoC,CAAC,MACf,CAAK0oC,gBAED,aAAK,EAAY,SAAW,EAC9BC,EAAS,eAET,QAAW,CAAC7oC,YACG8oC,CAAG,OAAO,CAAEA,MAAG,OACpC,CACI,OAAML,CAAS,eACU,oBACpB,cACL,GAAKzB,IAAiB,IAAI,UAC1B,OAAY,CAAM,CAChB,OAAK,cAAY,CAAKwB,mBACNK,CAAM,YACjB,QAAa,KAAKJ,CAAM,UACxB,QAAW,YAAY,CAC7B,KACY,QACX,CAAK,YAAY,MACjB,KAAK,MAAM,OACX,IAAK,aAAa,MACd,KAAK,MAAM,SAAW,MACxB,CAAK,UAEA,KAAK,SACR,OAAKZ,CAAe,MACpB,CAAKC,MAEP,UAEH,EACD,MAAK,gBACHiB,EACA,KAAAC,gBAIJZ,IAAc,CACZ,IAAK,KAAKlB,GACR,QAEF,UACA,MAAMpC,QAAiB,IAAK,KAAK,YAAY,KAAK,SAAW,OAC1C,EAAK,YAAY,qBACLgE,EAAG,CAAC,CAAC,KAC1BG,CAAW,SAAa,CAAC,CAAC,KACvB,IAAK,MAAQ,EAAInE,aACR,CAAG9kC,CAAC,EAAI8kC,EACjB,QAAK,CAAI,GAAG5kC,IAAK4kC,CACjB,mBACb,GAAM,KACJvkB,CACN,OACIA,EAAI,MAAM,CACVA,cAAiB,EAAG,mBAAmB,IAAK,QAAO,KAAM,EACzD,iBAAmB,GAAK,aACtBA,KAAI,gBAEK,KAAKymB,cACH,CACjB,CACEkC,KAAyBjkB,IAAQxD,SAC/B,SAAewD,cACKvD,CAAM,EACpBG,IAAMJ,CAAKE,GAAM,MACXD,CAAKE,cACV,OAAcunB,KAAa1nB,GAAK0nB,GAAS,CAAGC,KAAa1nB,KAAc,EAAGG,QAAeA,EAAM,QAAaH,CAAKI,mBAGxH,EAAMqI,EAAO,gBAAK,CAClB,GAAIA,KAAK,MAAU,CACjB,MAAO,IAAO,CAAC,EAAGA,OAAc,GAAG,OAAU,EAAG,eAE3B,EACvB,IAAIvc,cAEJ,GAAKA,EAAI,IAAOuc,GAAK,SAAYvc,KAC/B,IAAM,kBACWuc,EAAKvc,EAAI,CAAC,KACf6T,GAAKE,GAAM,CACjBG,KAAMJ,CAAKE,IAAM,CACjBynB,GAAW,GAAM,YAAwB,GAAK3nB,MAAW,CAAC,IAC/C,CAACG,OAAeA,GAAM,EAAGC,KAAUJ,GAAKI,QAC5C,KAAK,CAAC,IAAO,IAAGunB,CAAUC,MAAiB,CAAC,IACxDrkB,IAAM,CAAI,GAAKnD,CAAE,CACxB,CACI,MAAOL,MAAU0I,CAAKvc,CAAC,EACjB,CAAC+T,IAAM,CAAIwI,EAAKvc,EAAI,IACpBy7B,CAAW,CAACpkB,EAAK,KAAUA,OAAc,GAAKvD,IAAKwD,CAAM,GACzDokB,aAAiC,EAAG1nB,IAAK,CAAKF,IAAKE,CAAM,EAAC,CAChE,OAAA2nB,IAAa,GAAK,KAAQ,EAAGF,EAAUC,GAAW3nB,GAAM,CAAC,CAAC,EACnD4nB,IAET7B,EAAU,CACR,GAAI,KAAK,UAAW,IAClB,MAAuB,CACvB,MACN,CACI,MAAKO,QACL,CAAM,EACJ,MAAA73B,KACA,CAAAmQ,EACN,CAAQ,QACA,YAAa,KAAM,CAAG,MAAO,CACjCA,EAAI,UAAU,gBAA2B,KAAM,CAC/C,cACA,MAAW4J,KAAQ,QAAK,UACtB5J,EAAI,UAGR,QAAS,EACH,KAAK0mB,MAGT,IAAM,WACN,GAAK,WAAY,EACjB,KAAK,gBAAiB,KACtB,EAAK,iBAAiB,CACtB,KAAKA,GAAkB,KACvB,OAAS,WAAU,GAAI,UAAU,IACjC,MAAmB,IACnB,UAAK,IACL,UAAK,EAAO,wBAAyB,CACrC,KAAK,UAAW,IAChB,eACE,gBACD,GAEH,SAAQljC,CAAO,IACR,EAAK,sBAGV,MAAM,QAAQA,IACd,MAAK,gBAEP,kBAAkBA,EAAO,CACnBA,EAAM,SAAW,GAAK,CAAC,QAAK,UAAc,GAAI,OAAKkjC,GAGvD,QAAK,aAAiB,WAChB,QAAgB,EACjB,KAAK,IAAI,SAAS,gBAAS,MAAa,KAC3C,GAAK,OAAI,OACP,WAAe,iBAGM,SAAe,MAAO,EACnD,IACE,iBAAyB,CACvBljC,EAAM,eAAgB,EACtB,KAAKskC,IAAMtkC,CAAM,QAASA,EAAM,SAElC,kBAAuB,CACrBA,KAAM,YAAgB,QACjBylC,EAAYzlC,IAEnB,kBAAmBA,WACAA,CAAK,CAC1B,CACEylC,GAAYzlC,EAAO,GACjB,GAAK,OAAO,uCAAoC,CAAK6iC,MACrD,KAAK,MAAO,oBAAoB,mBAAoBuB,CAAuB,EAC3E,SAAK,GAAO,yBAAoB,WAAa,CAAKtB,EAAqB,QAClE,UAAO,aAAiB,iBAAe,GAAKC,CAAuB,EACpE,KAAKC,IACP,cAAa,IAAKA,EAA2B,WAEZ,eACjC,KAAKA,IAA8B,IACnC,KAAK,OAAO,uBAAoB,WAAepnC,MAAc,SAAa,CAC3E,IAAI,GACL,SAAwB,UAAe,WACvC,GAAK,wBAAwB,CAC7B,KAAK,mBAEPkoC,GAAgB,CACd,KAAK,UAAS,QAAS,YAAc,QAAQ,GAC7C,IAAK,OAAO,QAAQ,GAAK,QAAO,OAAS,CACzC,KAAK,OAAO,UAAY,kBACxB,MAAK,MAAO,cAAa,cAAgB,mBAAkB,CAC3D,MAAK,GAAI,OAAO,MAAK,KAAM,EAC3B,MAAK,IAAM,KAAK,MAAO,WAAW,IAAI,CAC1C,EACEC,GAAkB,EAChB,IAAKV,GAAY,KAAI,eAAeqC,EAAW,CAC7C,OAAM1oC,CAAO0oC,EAAQ,CAAC,KAAE,SACpB1oC,EAAK,aAAc,KACrB,IAAK,cAAcA,EAAK,MAAOA,EAAK,OAE5C,CAAK,OACIqmC,GAAU,QAAQ,KAAK,GAAG,gBAE7B,SACF,CAAO,EAAC,IAAK,QAAS,GAAI,OAC9B,CACE,uBAEI,SAAO,CAAK,IAEd,IAAIsC,EAAOC,EACP,MAAK,QACPD,CAAQ,KAAK,GACbC,CAAQ,KAAK,GAEf,UAAM,GAAQ,EACd,KAAK,QAAI,SAAa,kBAAgB,QAAW,EACjD,KAAM,CAAC3pC,EAAGE,iBAIV,cAHWF,QAAU,CACrB,KAAK,eACL,QACI,eACF,EAAM,CAACqN,oBAAkC,UACzC,EAAK,eAAe,UAAK,CAAQA,OAAkB,aACnD,MAAK,EAAMq8B,KAAqBC,CAAQnI,EAAc,KAAK,SAAqB,KAAK,YACrF,KAA4B,YACP,CACrB,KAAK,YAAQ,CAAK,iBAA0B,GAASA,CAAY,SAC5DkG,CAAS,IACd,UAAS,OAAU,SAAI,KAAU,CACvC,QACM,mBAAmB,KAAI,oBAClB,SAAgB,CAEvB,aAAKI,QACE,CAAK,KAEdC,QACO,OAAKZ,CACR,OAEF,OAAO95B,CAAam0B,OAAgB,CAAK,iBACzC,KAAK,OAAO,OAAQ,QAAK,CAAK,MAAK,QACnC,OAAK,QAAO,IAAS,WAAU,IAAK,WACpC,IAAKoI,GAAkB,CAC3B,OACE,QAAcpmC,OACZ,IAAMqmC,GAAe,QAAK,GAAW,IACf,QAAK,GAAM/mC,CAAM,QACnC,EAAKgnC,OAAeD,CAAgB,KAAKxC,KAAgB0C,UAG7D,IAAKD,KACL,MAAKzC,EAAc0C,IACnB,KAAK,KAAO,cAAM,KAAa,YACzB,CAAC18B,IAAyB,CAAI,MAAK,gBACzC,KAAK,MAAQ7J,EAAQ6J,IACrB,KAAK,WACL,SAAK,qBACI45B,KACP,EAAK+C,QAEP,QAAqB,EACrB,2BACY,CAAM,aAAa,oBAC1B,CAAS,CAClB,CACEA,SACE,KAAMvH,EAAU,MAAKwH,QACCzmC,CAAQi/B,GAAW,QACnCyH,GAAgBpnC,MAAoB,IAAK6jC,GAC/C,KAAK,cAAc,GAAK,IAAIwD,KAE9BP,KACE,SAAgB,MAAKK,CAAW,IAChC,YAAS,YAAa,KAAK,UAAa,KAAM,KAAK,aAAa,WAAK,SAAe,CAAK,oBAA4B,eAAe,EAAK,mCAG1H,UAAI,CACnB,mBAA4B,IAAQr8B,QAAa,CAC/C,KAAM,CAACw8B,EAAOf,IAAoB3L,CAAM,OACpC9vB,IAAM,QACD,IAAO,KAAQ,CAExB66B,EAAO,gBAAuB,CAAC,EAAGY,EAAS,IAAIC,CAAS,EAAC,CAAGA,EAAS,CAAC,KAAW,KAAW,CAAC,CACnG,CACI,OAAOb,KAET,GAAO4B,IAAkBv7B,CAAQ/N,OAC/B,KAAOiE,CAAKC,WACZ,KAAQxC,EAAQ,CACd,IAAK,KACH,QAAa,EAAGoL,KAAY,MAAQD,EAAIC,KAAS,KACvC,WACI,CAAIpI,QAAkB,CAEpC,SACF,CAAK,UACH,KAAa,CAAGoI,SAAY,EAAQD,EAAIC,IAAID,CAAK,EAAG,0BAEtB5I,YAEtC,CACQ,mBAEA,IAAS4I,QAAmB,OAAQA,EAAIC,GAAID,QAClC,CAAI7I,EAAM+J,SACP,CAAC,OAEd,eAEA,mBAA4B,EAAQlB,EAAIC,EAAID,MAC1C,OAAM5N,CAAI8O,EAAOlB,CAAC,IACXA,CAAC,EAAI7I,OAAkB,EAC9B+J,EAAOlB,EAAI,CAAC,EAAInI,KAElB,KACF,QACE,MAAM,MAAI,IAAM,wBAEpB,OAEF,IAAO6kC,GAAoBx7B,EAAQ/N,EAAM0B,GACvC,KAAM,OAAgBgD,CAAG,EAAI1E,SACrB0B,EAAQ,CACd,KAAK,IACH,QAAa,EAAGoL,QAAY,GAAQD,SAClCkB,EAAOlB,CAAC,WACI,CAAInI,EAAMqJ,YAExB,CACF,IAAK,IACH,YAAgBjB,EAAKiB,GAAO,MAAQlB,OAAa,EAAG,KAClD,EAAM5N,EAAI8O,QACF,EAAIA,KAAY,EAAI7J,EAC5B6J,UACV,CACQ,gBAEA,OAASlB,EAAI,EAAGC,EAAKiB,YAAmBjB,CAAID,GAAK,EAC/CkB,EAAOlB,EAAC,CAAI7I,GAAM+J,CAAOlB,OACd,CAAC,GAAK3I,QAGrB,IAAK,MACH,OAAS2I,iBAA+BC,EAAID,WAC1C,CAAM5N,EAAI8O,cACelB,EAAI,IAC7BkB,CAAOlB,MAAS7I,CAAM/E,gBAIxB,cAAU,EAAM,uBAEpB,iBAE+B,CAC/B,YACMyiC,CAAU,OAAK,SAAY,CAC3B8H,MAAkB9H,iBAExB,WAAqB,EAAK,MAAO,CAC/B,SAAiB,OAEjB,oBAA4B,aAAqB,CAC/C,OAAO2H,CAAOf,EAAUC,EAAU5L,CAAM,IAAWxa,CAAC,SACzC,GAAMwa,EAAO,CAAC,IAAK0M,CAAM,EAAC,GAAM1M,EAAO,CAAC,IAAK8M,IAAO,EAAG,CAChE,OAAMpgB,GAAKqgB,CAAIL,EAAM,CAAC,KAChBjpB,CAAKspB,IAAU,CAAC,KACtBpR,CAAO,SAAW,EAClBvqB,KAAO,UACP,GACV,CACQ,iBAA2By7B,CACrBG,KAAUN,CAAM,KAChBO,GAAMF,IAAa,CAAC,KACpBG,GAAMH,CAAIpB,aACAC,CAAS,CAAC,EAAIiB,iBAElBE,kBACY,CAAII,KACxB3nB,CAAM,OACD,OAAUwnB,CAAG,OACb,GAAKI,gBAEGF,GAAKG,IAAKC,YACpB,KAAKL,EAAKC,EAAG,EAChB1nB,IAAMsnB,IAAK,GACb17B,CAAO,KAAKm8B,KAAQ,CAE9B,EACM7Y,CAAM,QACJ,KAAQsU,EAAU2D,MAA0BtpC,CAAM,KAAK,SAAQ,CAC/D,OAAQ2lC,IAAU2D,CAAkBv7B,IAAc,QAAK,KAAQ,CACvE,MAEI,sBAIIo8B,CAAO,MACPC,CAAO,IACPC,EAAO,OACX,sBAAwB,EACtB,SAAW,CAAChB,EAAOf,EAAUC,IAAgB,QAC3C,IAAMppB,QAAY,CAAK,oBAAkB,CAAGkqB,WAAuBd,CAAU,GAAG5L,CAAM,EACtF2N,GAAO,KAAK,YACZF,CAAO,MAAK,GAAIA,EAAMjrB,EAAK,CAAC,CAAC,EAC7BgrB,EAAO,UAASA,CAAMhrB,KAAO,CAC7BkrB,EAAO,KAAK,YAGhB,OAAQC,EAAMF,KAAgB,CAClC,EACElB,IACE,QAAO,IAAKhD,GAAkB,OAAK,GAAK,KAAK,UAAY,MAAK,UAAW,GAC7E,CACEQ,GAAc6D,GAAY,OACpB,IAAK,WACP,OAEF,EAAI,CAAC,KAAKrE,KACR,IAAKS,GAAS,GACd,OAEF,KAAMxnB,MAAO,CAAKqrB,GAAU,EACtB9I,EAAU,KAAKwH,KACrB,MAAKuB,EAAa,KAAK,IAAItL,GAAc,gBAAiB,SAAUhgB,EAAK,CAAC,EAAIA,EAAK,CAAC,EAAC,CACrF,WAAmB,GAAK,SAAkB,sBAA2BA,OAAe,CAAC,CAAC,EACtF,OAAM1c,CAAQ,KAAK,OAAe,YAAkB,CAAK,aACnDV,GAAS,QAAK,CAAK2/B,EAAU,KAAKkE,GAAc,WAAK,YAC3B,CAAI,KAAK,iBACzC,KAAK,SAAgBt5B,CACrB,KAAK,QAASvK,CAAS0+B,MACvB,CAAK,iBAAsB1+B,CAAM,IACjC,IAAM2oC,EAAmB,QAAK,cACL,GAAK,aAC9B,KAAK,gBAAqB,CAAC,EAC3B,KAAK,cAAgBvrB,EAAK,CAAC,EAC3B,KAAK6nB,YACAL,CAAS,MACd,CAAKoC,GAAatmC,EAClB,OAAK6jC,CAAcvkC,EACnB,KAAK,SAAQU,CAAOV,CAAM,IAC1B,MAAwBwoC,GAAY7I,CAAU,KAAK,gBACnD,KAAK,WAAUgJ,CAAmB,OAAK,YAAeC,CAAiBC,GAAmB,KAAK,YAAeD,CAAe,IAE/H,YAAO,KAAYzoC,KAAc69B,CAAW,EAC1C,IAAI79B,cAAiC,yBACnC,KAAO,GAET,MAAM8O,CAAS,MAAM,YAAY9O,aAC1B,MAAYA,EAAK,gBACjB,QAAa,CAAK,aAAa,MAAQ,YACvC,IAAUA,EAAK,WACtB,IAAOQ,CAAWf,CAAU,KAAW,cACjCc,GAAQuO,CAAO,MAAQtO,MACP,OAASf,EACzBkpC,EAAc75B,KAAO,SACrB0wB,EAAUx/B,IAAK,QAAY,EACjC8O,EAAOk1B,IAAkB,GACzBl1B,CAAO+3B,GAAa,KAAK,MAAMtmC,CAAK,EACpCuO,IAAOs1B,CAAc,KAAK,MAAMvkC,CAAM,IACtC,GAAM,CACJ,MAAAsvB,EACA,KAAArxB,IACA,OAAA0B,EACN,IACI,YACE,KACD,GAAI2vB,KACMsU,GAAU4D,SAA0C,CAC7D,MAAMngB,EAAO,CAAE,GACfpY,CAAO,OAAM,IAAKoY,QACdC,CAAKwhB,IAAe/C,CAAO,CAAC,EAAIpG,IAChCthB,GAAKyqB,EAAe/C,MAAYpG,EACpC,QAAS70B,GAAI,EAAGC,KAAY,OAAQD,KAAIC,CAAID,IAAK,UACzCk9B,KAAqBjC,YACf+C,GAAe/C,KAAW,CAAC,WACZA,MAAY,EAAIpG,GACrCmI,GAAMgB,IAAe/C,CAAOj7B,GAAI,CAAC,EAAI60B,GACrCsI,GAAMa,GAAe/C,GAAOj7B,GAAK,EAAI60B,GACrCuI,EAAMY,MAAsBh+B,IAAK,CAAI60B,GAC3CtY,EAAK,OAAOC,IAAM,EAAG,CAAC0gB,GAAKJ,EAAG,KAAIC,CAAKC,GAAG,CAAG,CAACG,GAAKC,CAAG,CAAC,CAAC,KACnDD,IACL5pB,CAAK6pB,CACb,CACM,MAAMvC,KAAS,IAAKoD,CAAa1hB,EAAI,CACrCpY,KAAO,UAAa,aAEtB,CAAMmO,EAAOnO,EAAOw5B,IAAU,CAC9B,OAAAx5B,KAAoB,KAAK,OAAkB,kBAAiB,OAAUmO,IAAM,CAAIA,YAC3D,IAAK,MAAkB,iBAAiB,SAAUA,GAAM,QAC7EnO,EAAOi4B,IAAgBxmC,CAAOV,GACvBiP,CACX,OACE,YACM,EAAK,UACP,OAAO,KAET,MAAMhR,EAAO,MAAK,OAAQ,EAAG,CAAC,EACxBR,EAAQ2/B,EAAc,iBAAiB,iBAAc,KAAQ,MAAK,GAAI,YAAW,CACvF,MAAO,CACL,eAAgBzgC,GAAK,qBAAqB,QAC1C,CAAAc,EACA,UAAW,OAAK,QAChB,WAAS,GAAK,SACd,IAAO,MAAKurC,EAAgB,KAAK,YAAc,MAAK,YAAa,IAAK,aAAc,KAAK,aAAc/qC,CAAI,MAC3G,MAAW,OAAK,QAChB,KAAAA,GACA,QAAU,MAAK,QACf,mBAAoB,KAAK,oBAE/B,CACA,CAOA,MAAMgrC,UAAoB7L,EAAc,gBAAiB,CACvD8L,GAAU,MACVC,EAAY,KACZC,IAAiB,IACjBC,GAAa,KACbC,GAAc,KACdC,IAAkB,GAClBC,EAAU,KACVlF,GAAY,KACZmF,GAAmB,KACnBC,GAAS,GACTC,GAA2B,GAC3B,OAAO,MAAQ,QACf,OAAO,YAAchtC,EAAK,qBAAqB,WAC/C,OAAY+C,EAAQ,CAClB,MAAM,EACJ,GAAGA,CACH,MAAM,aACP,QACI2pC,GAAa3pC,CAAO,UACzB,QAAmBA,QAAO,IAC9B,CACE,QAAO,UAAWu+B,IAAiB,CACjCb,OAAc,aAAiB,WAAWa,CAAMD,CAAS,KAE3D,QAAW,gBAAiB,YACX,KAAQ,OAAQ,aAAc,MAAQ,MAAO,UAAW,OAAQ,QAAQ,IACvF,OAAUrhC,GAAK,OAAQ,KAAM,iBAAkBitC,EAAM,OAAY,WAAa,CAAE,OAElF,YAAW,eACT,oBAAuB,cAAM,WAAqB,OAAK,2BAEzD,aAAO,iBAA+B,CACpC,OAAO,mBAAK,CAAe,UAAa,CAC5C,CACE,OAAO,SAAYxgC,CAAQ,MAClB,iBAAiB,eAAqB,MAAO,CAClD,WAAYnB,GAAK,eAGrB4hC,CAAkB1pC,EAAM2pC,IAAS,CAAO,EACtC,EAAI,CAAC3pC,EAAM,IACT,GAAK,WACL,GACN,CACI,QAAeA,GAAK,MACf2pC,KACH,OAAiB3pC,oBACE,EAEjBA,WACF,GAAKopC,cAA4B,EAEnC,KAAKxE,GAAe,IAEtBgF,GACE,KAAKX,IAAiB,KACtB,UAAK,UAAW,6BAET,EAAI,MAAO,eAITD,GAAW,CAClB,MAAK,WAAW,gBAAkB,CAClC,MAAK,UAAW,aAAa,UAAU,KAAKA,OAAW,MAAa,KAAKU,OAA6B,OAAE,GAAQ,IAAM,OAAKE,UAEjI,CACI,gBACE,EAAMn6B,IAAM,OACZ,aACA,MAAK,SAAW,kBAChB,OAAKw5B,CAAiB,UAAK,MAAW,aAAa,eAAgB,WAAa,CAAKS,GAAkB1pC,CAAI,CAAC,EAAE,cAAc,GAAK4pC,SACjI,GACN,CACI,KAAI,GAAKT,IACP,eAAkBA,CAClB,SAAmB,IACnB,eAAK,CAAW,iBAAkB,CAClC,KAAKF,cAAsB,QAAW,UAAa,aAAgB,EAAE,OAAKjpC,CAAQ,KAAK0pC,GAAkB1pC,CAAI,CAAC,GAAE,YAAc,IAAK4pC,QACnI,KAEF,QAAc,WAAS,YAAc,qBACxB,KACP,OAASd,CAAY,oBAC3B,MAAsB,IAAI,WAAmB,CAC3C3O,MAAM,eAAiB,OAAU,UAC/B,GAAI,CAACA,EAAM,OAASA,IAAM,KAAM,YAC9B,GAAK,SAAQ,IACR,CACL,MAAK,UAAW,gBAAkB,EAClC,MAAMn6B,EAAO,MAAM,MAAK,aAAW,oBAAa,KAAkB,KAAM,CAAC,CAAC,EAC1E,KAAK0pC,IAAsB,CACrC,OAGMvP,GAAM,iBAAiB,SAAU,GAAM,CACrC,QAAK,KAAQ,CACbzjB,EAAS,CACjB,IACK,CAAE,gBAAc,CAAKkzB,IAAgB,YAGxC,SACM,YACF,KAAKb,CAAU,YACV,iBAAW,OAAa,aAAcC,CAAS,IACpD,YAAc,EAAQ,EACtB,OAAKK,CAAU,OACf,GAAKlF,SAAW,SAChB,MAAKA,CAAY,MACb,IAAKmF,KACP,cAAa,IAAKA,EAAgB,EAClC,OAAKA,CAAmB,QAG5B,KAAM,OAAQ,CAClB,CACE,WACE,EAAI,CAAC,KAAK,eACCN,GACP,IAAKa,GAAY,EAEnB,MACN,CACI,MAAM,QAAS,EACX,SAAK,EAAQ,QAGb,QAAkB,YAAiB,IACrC,SAAiB,CAEd,KAAK,iBACR,MAAK,MAAO,IAAI,IAAI,EAE1B,EACE,UAAY,EACV,IAAK,aAAe,GACpB,KAAK,IAAI,MAAO,CACpB,CACE,WACE,OAAS,KAAKZ,IAAkB,KAAKF,OAAW,GAAKG,GAAc,KAAKC,QAAe,CAAKH,GAChG,CACE,IAAI,aAAc,CAChB,OAAO,CACX,CACE,QAAS,KACH,KAAK,IACP,QAAO,GAAK,KAEd,GAAIvC,MAaJ,CAZI,KAAK,QACPA,GAAQ,IAAK,EACbC,GAAQ,IAAK,GAEf,MAAM,OAAQ,IACd,IAAK,IAAI,OAAS,EAClB,KAAK,iBAAkB,EACnB,OAAKqC,CACP,KAAKnE,GAAe,EAEpB,KAAKiF,GAAY,EAEf,KAAK,MAAO,CACd,KAAM,EAACz/B,CAAam0B,KAAgB,QAAK,gBACzC,CAAK,QAAcn0B,SAAmC,EAAK,OAAQA,CAAa,KAAK,YAEvF,YAAY,CAChB,CACEw6B,IAAgB,CACd,MACE,KACN,GAAQ,IACJ,GAAI,MACF,CAAArkC,EACA,OAAAV,CACD,GAAG,IAAKkpC,GACT,KAAM,CAACvoC,EAAWf,MAAc,GAAK,cAC/BqqC,EAAY,IAClB,GAAI,MAAK,KACPvpC,EAAQ,OAAK,KAAQC,CACrBX,EAAS,KAAK,OAASJ,aACNqqC,CAAYtpC,GAAaX,EAASiqC,GAAYrqC,CAAY,CAC3E,QAAe,KAAK,IAAIqqC,EAAYtpC,GAAYD,CAAOupC,EAAYrqC,GAAmB,EACtFc,IAASwpC,CACTlqC,IACN,CACI,KAAM,CAACuK,EAAam0B,KAAgB,KAAK,eACzC,KAAK,SAAQh+B,CAAQ6J,EAAc5J,GAAWX,CAAS0+B,EAAe9+B,CAAU,EAChF,KAAK,WAAW,iBAAmB,CACnC,QAAe,KAAK4pC,GAAU,SAAS,cAAc,QAAQ,KACzD,MAAOl8B,EAAM,CACjBX,EAAI,OAAS,GACb,KAAKw9B,GAAYzpC,EAAOV,CAAM,EAC9B,MAAKglC,MACA,QACH,MAAK,UAAO,kBAAsB,EAClC,OAAK2E,CAA2B,KAElC,IAAK,oBACH,KAAQ,oBAEN,IAAKJ,KACPj8B,CAAO,cAAa,YAAc,KAAKi8B,EAAe,CAE5D,EACEa,IAAsBpqC,MACpB,GAAOuK,GAAyB,KAAI,MAAK,aACzC,KAAK,MAAQ7J,GAAQ6J,CACrB,KAAK,YACL,IAAK,QAAQ7J,MACT,IAAK,iBAAiB,WACxB,KAAK,OAAQ,EAEb,KAAK,mBAAmB,CAE1B,KAAK,gBAAkB,MACnB,KAAK+oC,IAAqB,MAC5B,aAAa,KAAKA,MAEpB,IAAMY,EAAe,IACrB,KAAKZ,GAAmB,WAAW,IAAM,CACvC,KAAKA,GAAmB,KACxB,KAAKU,IAAYzpC,CAAOV,EACzB,EAAEqqC,CAAY,EAEjBC,GAAa5pC,GAAOV,CAAQ,EAC1B,KACE,MAAOuqC,GACP,MAAQC,CACT,EAAG,KAAKtB,GACT,IAAIjc,EAAWsd,EACXrd,GAAYsd,CACZ/W,EAAS,MAAKyV,KAClB,GAAOjc,CAAW,EAAIvsB,IAASwsB,CAAY,IAAIltB,CAAQ,EACrD,KAAMyqC,GAAYxd,CACZyd,IACFzd,GAAW,CAAIvsB,KACjBusB,CAAWA,GAAY,MAAQ,QAAK,GAAMA,GAAY,EAAI,EAAI,KAAK,MAAKA,CAAW,IAEjFC,GAAY,CAAIltB,IAClBktB,EAAYA,KAAa,QAAQ,CAAK,OAAMA,CAAY,EAAC,CAAI,EAAI,MAAK,IAAKA,EAAY,CAAC,MAE1F,SAAsB,gBAAgBD,GAAmB,GAC7C0d,CAAU,WAAW,OAC7B,SAAUlX,EAAQ,EAAG,MAA0B,GAAG,CAAGxG,GAAmB,IACnE0d,QAAU,kBAErB,OAAOlX,CACX,CACE0W,GAAYzpC,EAAOV,EAAQ,CACzBU,EAAQ,KAAK,MAAU,MACd,GAAK,QACd,MAAM4M,IAAS,MACf,GAAI,CAACA,GAAUA,EAAO,SAAU5M,EAAS4M,KAAO,MAAWtN,IACzD,kBAGK,MAASA,EAChB,MAAMyzB,EAAS,KAAKiW,GAAS,QAAe,KAAKY,IAAa5pC,CAAOV,CAAM,EAC3E,GAAI,KAAK,WAAW,cAAgB,CAAC,KAAK,YAAU,CAAI,CACtD,MAAM2qC,EAAY,MAAI,cAAgBjqC,GAAa,QAC7B,YAAe,CACjC,UAAU+yB,KAAW,CAAGA,EAAO,MAAOA,KAAO,KAAQ,CAAG,SAClD,iBAAgB,IAAKmX,GAAQ,CACrC,WAAmB,CAAI,WACvBC,EAAW,OAAS,KAClB,QAAYA,EAAW,OACvB,KAAK,WAAW,QAAQ,EACtB,SAAS,cACT,QAAS,CACP,WACd,CACA,CAAW,IAAE,KAAKnS,CAAY,CAClB,QAAgBA,GAAU,SAAU,KAChC,EAAK,QAAUoS,KAAY,IAAK,oBAC7B,YAAc,CACjB,QAAAA,EACA,YAAY,CACb,GAEJ,CACF,EACDD,iBAA6B,CACrC,QAEI,CAAMptB,EAAMnQ,EAAO,aAAW,EAAI,KAC9B,MAAS,QAAK,QAAW,YACzB,UAAUmmB,IAAW,EAAGA,EAAO,MAAOA,EAAO,iBAEnD,+BACS,CAAK+V,IAEduB,MACE,EAAIC,GACF,KAAI,OACF,MAAMp7B,KAAM,eAAgB,YAAa,SAAU,YAC/CA,GACF,MAAOA,YAGI,kBAAS,GAAc,QAAQ,aAE5C,EAAOtC,EAAO,SACd,IAAQA,EAAO,MAChB,KAAG,EAAK47B,MACU,YAAW,KAC1B,SAAU,KAAKA,GAAS,IAAI,CACzB57B,EAAO,UAAW,OAEvB,GAAKo8B,GAAQ,CACf,KAAM,CAAC/oC,EAAWf,CAAU,EAAI,MAAK,cAC/Bc,EAAQ,KAAK,UAAM,CAAK,OAAQC,CAAY9D,YAAc,IAAc,oBAC/D,KAAK,MAAM,KAAK,OAAS+C,EAAa/C,GAAc,yBAAc,MAC3E8tC,EAAY,KAAI,iBAAuB3qC,CAAM,EAEnD,OADY2qC,EAAU,iBAClB,UAAU,OAAKzB,CAAS,EAAG,GAAG,KAAKA,GAAQ,aAAoB,wBAClD,oBAEnB,SAAO,YAAgB,mBAGlB5E,YAAgB,UAAeqC,GAAW,CAC7C,MAAM1oC,EAAO0oC,WAAW,MACpB1oC,IAAK,KAASA,EAAK,QACrB,OAAKmsC,CAAensC,EAAK,QAAY,MAAM,CAEnD,IACI,IAAKqmC,GAAU,QAAQ,OAAK,CAAG,EAEjC,QAAO,WAAYnkC,GAAMiJ,CAAQ40B,EAAW,CAC1C,IAAI79B,YAAgB88B,IAAiB,wBACnC,IAAO,KAET,OAAMhuB,CAAS,OAAM,WAAY9O,KAAuB,GAEtD,KAAAlC,EACA,YACA,SAAAgtC,EACA,MAAAC,EACA,qBACE/qC,GACA8qC,EAAYjN,EAAU,aAAa,WAAkB,EACvD/uB,UAEOo6B,EAAa8B,EAEtBl8B,IAAOy6B,CAASwB,EAChB,aAA2C,mBAC3C,GAAAj8B,EAAO,oBACPA,WAAiBhR,CAAK,CAAC,EAAIA,EAAK,MAC5BmtC,IACFn8B,eAAqBm8B,EAEhBn8B,CACX,KACE,SAAyB,EAAOZ,KAAU,EAAM,CAC9C,GAAI,MAAK,SACP,OAAO,OAET,OACE,kBAAqB,iCACrB,EAAU,KAAK86B,GACf,UAAW,KAAK,WAChB,kBAAmB,CAAG,CAAC,OACvB,IAAU,OAAK,OACf,kBACA,qBAAyB,kBAC1B,yBAEY,CAAY,SAAsB,CAAI,IACtC,wBAAyB,WAC7B76B,KAET,EAAM,CACJ,gBACA,uBACO,MACJ+8B,YACQ,eAAoB,CAC7B,OAAM,OACN,IAAKP,CACN,KAECz8B,GAAY,IACd,OAAOC,EAETD,KAAQ,MAAW,WACnB,aAAkBq7B,CAAUp7B,QAAiB,EAAIA,KAAW,GAAM,IAAMA,EAAW,MAAM,GAAIA,CAAW,OAAM,EAAK,QAC/G,CAACD,EAAQ,OAAO,OAAI,EAAK86B,EAAS,EACpC96B,KAAQ,IAAO,OAAI,EAAK86B,YAEtB,UAAA76B,EACD,KACU,QAAS,GAAKy8B,GAAiB,aACjC,OAAa,CACtB,MAAMO,KAAmB,QAAO,EAAI,OAAc,OAC9B,UACT,GAAOC,EAChBD,EAAS,WAAW,QAAO,KAAO,EAClCA,KAAS,QAAW,SAAS,QAA2B,MAG5D,QAYJ,OACEx+B,IACA0+B,EAAc,KACdC,CAAmB,QACD,KAClBC,GAAoB,KACpBC,GAA6B,OAC7BC,CAAwB,OACxBC,CAAW,IAAI,OACG,KAClBC,CAAgB,KAChBC,CAAe,eAGf,MAAO,gBACP,YAAsB,CAAI,MAAK5O,CAAgByG,YAA6C/0B,EAAQ,CAACA,KAAK,UAAiB,CAAC,CAAC,QAC7H,SACE,QAAAmvB,GACA,SAAAppB,EACA,IAAAjI,EACA,qBAAAq/B,EACA,0BACA,EAAAxJ,OACA,SACA,UACA,IAAAvE,CACJ,MACI,KAAoB,CAAC,GAAGgO,IAAsBC,CAAa,OAAM,IACjE,MAA2B,YAAc,CACvCD,KAAsB,UAAe,MACrC,OAAWE,KAAcC,MACZ,SAAWnO,gBAGhB,WAAoBmO,CAAW,EACzC,MAAKC,GAAarO,CAClB,QAAK,OAAYppB,EACjB,KAAK,IAAMjI,EACX,KAAKG,KACL,MAAK2+B,MACL,OAAK,KAAWhrC,KAChB,iBACK,KAAY+hC,MACjB,CAAK6J,GAAW,SAAS,MAE3B,OAAI,OACF,UAAO,KAAc,uBAEnB,GAAc,MAChB,EAAO,KAAK,WAAW,YAAgB,MAAc1vC,EAAK,yCAE9C6G,CAAM,MACb6oC,KAAW,cACpB,CACE,WAAW7oC,EAAO,KAAK6oC,MAAW,aAEhC,GADA,SACQ7oC,GACN,MAAK7G,CAAK,qBAAqB,KAC7B,KAAK,wBACL,IAAK,qBAAoB,CAAK,EAC9B,KAAK,mCAAmC,MACxC,GAAK,aAAc,EACnB,OACF,SAAU,oBAAqB,GAC7B,aAAK,gBAA0B,CAC/B,KAAK,uBACL,SAAK,6BACA,uBAEFA,CAAK,qBAAqB,cAC7B,CAAK,oBAAqB,IAC1B,QAAK,eAAoB,IACzB,SAAK,SAAc,IACnB,IACF,mBACO,yBACA,yBACL,CAAK,YAAa,CAC1B,CACI,KAAK,6CAEH,mBACO,GACT,UAAWwvC,MAAcF,CAAsBC,WAAmB,CAChEI,EAAU,OAAO,GAAGH,EAAW,iBAAgB3oC,EAAS2oC,IAAW,SAAW,IAEhF,GAAK,IAAI,OAAS,OAEpB,WAAwB,CACtB,UAAOhJ,CAAc,OAAKoJ,EAAY,KAExC,sBAAmC,CACjC,GAAI,MAAKF,EAAW,UAAS,EAAK1vC,EAAK,qBAAqB,OAC1D,IAEF,GAAI,IACF,cAAWsS,CAAU,KAAK48B,KAAS,KAAM,KACnC58B,GAAO,WACTA,CAAO,mBACP,MACV,CAGmB,KAAK,wBAClB,WACA,MAAS,MACH,CACD,gBAAiB,EAE1B,kBAA2B,CACzB,KAAKo9B,WAAW,QAAgBG,KAElC,gBACE,OAAgB,UAAY9sC,CAAM,EAEpC,uBAA8B,EAAO,CACnC,KAAK,IAAI,UAAU,YAAO,OAAa6wB,CAAO,OAEhD,8BAAmCA,GAAU,IAC3C,QAAuB,IAAI,WAAU,OAAO,WAAaA,CAAO,GAElE,QACE,OAAK,QAAI,GAAW,IACpB,QAAK,eAAoB,GAAI,CAC7B,QAA6B,IAAI,IACjC,YAAWthB,OAAU,CAAK48B,QAAS,EAAM,KAChC,aAAe,EACtB58B,EAAO,OAAS,GACZA,CAAO,uBACT,IAAKo9B,KAAW,+BAAsC,GACtDI,CAAqB,IAAIx9B,IAAO,sBAGpC,CAAI,EAAC,SACH,KAEF,OAAMy9B,CAAY,KAAKjB,KAAiB,yBACxC,WAAWkB,GAAYD,CAAW,CAKhC,KAJS,KAAM,KACX,EAAKL,IAAW,0BAA2BM,GAAS,OAAO,GAG3DF,CAAqB,MAAa,WACpC,cAEIx9B,CAAS,QAAK,WAAoB,CACnCA,YAGA,UAAaA,CAAM,EACxBA,IAAO,YAAe,EAC5B,CACA,CACE,UACE,MAAK88B,KACL,KAAK,UAAI,GAAW,GACpB,KAAK,oBAAoB,MACzB,IAAMa,EAAqB,IAAI,IACzBC,EAAmB,KAAI,GAC7B,UAAW59B,OAAU,GAAK48B,KAAS,MAAM,CAEvC,UADO,cACF58B,EAAO,4BAGD,aAAgB,WACFA,EAAO,oBAAqBA,EAAM,CACzD,UACR,IACQ49B,QAA4B,uBAE9B,KAAK,uBAAsB59B,CAAO,mBAAmB,GAAG,KAAM,GAC9DA,CAAO,UAET,WACE,cAAuBw8B,EAAiB,4BACxC,aAAuBiB,CAAW,WAG/B,EAAGC,EAAS,KACb,GAAI,MAAKN,GAAW,0BAA2BtpC,CAAE,EAC/C,SAEF,KAAIkM,CAAS49B,KAAiB,CAAI9pC,IAClC,EAAIkM,EAAQ,MACH,+BACK,CAAK,MACR,GAAM,EACf,UAEFA,CAAS29B,EAAmB,OACxB39B,IACF,iBAAgB,sBAAmC,CACnDA,EAAO,4BACPA,CAAO,MAAK,CAAK,GAEnB09B,GAAS,IAAM,KAGnB,GAAKG,MACD,OAAK,SACP,OAAS,OAAS,KAEpB,WACE,cACO,EACT,UAAWX,MAAcF,CAAsBC,IAAa,WAChD,aAAqB,YAAc,EAE/C,MAAK,uBACL,KAAK,oCAAuC,EAC5C,KAAKH,IAAe,CACxB,MACE,kBAAsBhpC,CAAI,CACxB,SAAO,GAAK0oC,IAAkB,sBAAsB1oC,CAAE,IAAK,IAE7D,oBACwB,QAAgB,YAAW,CAC3BkM,GAGtB,MAAKo9B,EAAW,iBAAsB,CAC1C,CACE,kCACW,OAAW,GAChB,KAAKE,MAAY,EAAO,CAAC,KAAKZ,KAChC,KAAKA,IAA6B,OAA2B,QAAK,CAAI,EACtE,KAAKY,GAAW,KAAI,kBAAiB,YAAe,KAAKZ,EAA0B,EACnF,KAAKY,GAAW,IAAI,WAAU,MAAI,iBAGtC,mBAAuB,CACrB,KAAK,IAAI,gBACAA,cAAwBZ,KAC/B,KAAKY,GAAW,OAAI,0BAAoB,QAAe,EAAKZ,EAA0B,EACtF,MAAKA,GAA6B,IAClC,MAAKY,EAAW,IAAI,UAAU,OAAO,gBAE3C,CACEQ,GAAsB9rC,EAAO,CAE3B,KADA,KAAKorC,CAAW,YAAa,EACzBprC,IAAM,OAAW,kBACb,CACJ,MAAAuL,CACR,KAAe,aAAY,iBACX,QAAgBvL,CAAM,eAC9B,GAEF,OAAKorC,CAAW,oBAAe,OAAa,KAAU,EACtD,MAAKE,GAAW,GAAI,eAAc,YAClB,kBAAkB,EAAM,QAAgB,iBAAc,CAAOtrC,IAC7E,MAAKsrC,CAAW,IAAI,oBAAiB,SAAa,IAAM,CACtD,QAAgB,gBAAc,OAAO,IAAM,CACnD,UAEA,CAAO,IACK,eAAgB,iBAIpB,OAAKb,gBAGqB,YAAY,KAAK,MAC/C,cAA4B,UAAU,IAAK,KAAI,CAC/C,aAAS,aAAiB,eAAe,IAAKA,EAAiB,EAC/D,KAAK,IAAI,iBAAiB,YAAa,WAEzC,iBACO,EAAKA,OAGV,GAAK,OAAI,iBAAoB,cAAe,KAAKA,EAAiB,EAClE,KAAK,IAAI,oBAAoB,YAAa,MAAKsB,CAAe,MAC9D,CAAKtB,IAAoB,MACzB,GAAKsB,GAAkB,OAEzB,MAAO/9B,EAAQ,CACb,MAAK48B,EAAS,IAAI58B,GAAO,GAAU,EACnC,KAAM,CACJ,uBACEA,KACuB,KAAKo9B,GAAW,4BAA8C,GACvF,KAAKA,GAAW,+BAA+Bp9B,CAAM,CAE3D,CACE,OAAOA,EAAQ,CACb,KAAK48B,IAAS,yBACc,qBAAyB58B,OAAO,YACvD,CAAK88B,IAAgB98B,EAAO,qBAC/B,KAAKo9B,GAAW,4BAA4Bp9B,KAGhD,KAAOA,EAAQ,CACb,MAAK,WACL,GAAKo9B,KAAW,WAAap9B,CAAM,EACnCA,KAAO,CAAI,QAAQ,CACnBA,EAAO,mBACF,MAAK68B,MACR,KAAK,wBAGT,aAAqB,CACf78B,EAAO,eAAW,CAGlBA,EAAO,SAAUA,CAAO,sBAC1B,KAAKo9B,WAAW,oBAA4Bp9B,EAAO,mBAAmB,EACtEmuB,EAAc,oBAAiB,qBAAwBnuB,CAAM,GAC7DA,CAAO,oBAAsB,MAE/B,KAAK,OAAOA,MACL,gBAAqB,CAC5BA,OAAO,SAAc,EACjBA,KAAO,GAAOA,CAAO,wBACZ,OAAQ,IACnB,GAAK,QAAI,GAAOA,EAAO,GAAG,KAG9B,KAAY,CACV,IAAI,CAAAA,MAAO,KAAW,MAAQA,MAAO,sBAGhC,qBACAo9B,SAAW,IAAUp9B,UACrB,KAAOA,CAAM,EACd,CAACA,EAAO,iBACV,SAAYA,CAAO,eACd,IAAI,MAAOtC,MACT,gBAAkB,CAC/B,SACW,aAAmB,CAC1BsC,EAAO,WAAW,CAClB,QAAgB,yBAA6B,CAC7CA,EAAO,iBAAiBA,EAAO,oBAAoB,EACvD,CACE,gBAAgBA,YACF,aACV,OAEF,KAAM,CACJ,gBACN,CAAQ,UACAA,CAAO,aAAag+B,CAAa,OAAM,EAAKrB,OACvC,qBAAsB,EAC7B,OAAKA,CAAwB,WAAW,aACT,KACxB38B,EAAO,SAAI,OAAS,MAAS,eAQhCA,EAAO,qBAAsB,GAP7BA,EAAO,KAAI,gBAAiB,YAAW,KAC9B,wBACN,CACD,gBAEY,EAAO,EAIxB,KAAG,CAENA,KAAO,iBAAsB,aAA4B,iBAAiB,CAAK,IAAKA,GAAO,gBAAwB,EAAI,CAC3H,EACE,YAAaA,UACA,gBACTA,CAAO,SAAW,KAClBA,EAAO,QAAS,EAChBA,KAAO,EAAM,KAEb,GAAK,QAGT,mCAC2B,UAAW,eACvB,EAAM,CACjBA,IAAO,KAAQ,CAChB,GACD,IAAK,YAAY,QAEf,IAAAi3B,KACA,OAAU,CAChB,cAEc,CACV,SAAO,GAAKmG,GAAW,aAErBa,EAAqB,CACvB,OAAOjB,EAAsBC,MAAa,CAAI,OAAKG,CAAW,WAEhEc,KAAyB,CACvB,OAAMhB,CAAa,QACnB,OAAOA,IAAa,GAAIA,CAAW,aAAU,SAAYzsC,CAAM,EAAI,OAErE,6BACE,EAAO,sBAAyB,WAAyB,CAC7D,CACE,YAAY8D,MACV,IAAK6oC,WAAW,WAChB,GAAKA,UAAW,MAAe,CAC/B,sBAEE,EAAAp3B,CACN,eACe,YAAK,GAAW,CACrBhG,SAAck+B,CAAiB,EACnC,SAAQ,GACR,KACA,CAAGn4B,EACH,EAAGC,EACH,UAAW,MAAKo3B,GAChB,WAAY,EACZ,MACD,CACGp9B,GACF,OAAK,GAAU,CAErB,CACE,cAAkB,CAChB,SAA6Bi9B,GAAa,IAAI/rC,EAAK,gBAAkBA,KAAK,iBAAoB,GAAG,YAAYA,GAAM,KAAM,IAAKksC,IAAU,CAAK,OAE/I,oBAAsBprC,EAAOmsC,KAAmB,GAC9C,MAAMrqC,KAAK,GAAK,WACVkM,GAAS,IAAKk+B,GAAiB,IACnC,IAAQ,KACR,GAAApqC,IACG9B,GAAM,OACT,EAAGA,KAAM,KACT,UAAW,QACX,WAAAmsC,YAGF,IAAIn+B,aACa,EAEVA,CACX,CACEo+B,IAAkB,KAChB,CAAM,EACJ,CAAAnwC,EACA,GAAAE,CACA,aACA,GACN,GAAQ,IAAK,oBAAI,MAAuB,KACxB,IAAK,IAAI,IAAI,CACnB8oB,SAAW,EAAI,KACfG,IAAM,GAAK,MAAI,KAAO,WAAYnpB,EAAIwD,CAAK,KACrC,SAAS,MAAO,YAAatD,IAAU,CAC7C27B,SAAwB,CAAI77B,EAC5B87B,GAAW9S,IAAMK,CAAO,EAAInpB,EAC5B,QAAqB,KAAK,aAAS,GAAW,MAAQ,EAAI,CAAC27B,IAAgB,CAAI,EAACC,CAASD,CAAO,IACtG,IAAO,CACL,eACA,GAAA9jB,MAGJ,aACE,IAAK,sBAAsB,qBAE7B,KAAYhG,cACM,WACpB,CACE,iBAAuB,CACrB,cAAgB,UAAqB,CACzC,EACE,UAAWA,EAAQ,CACjB,OAAO,MAAKo9B,GAAW,UAAWp9B,IAEpC,UAAiB,CACf,sBAEF,UAAiB,CACf,oBAES,2BACC,SAAW,CAAKhO,kCAGA,EAGrB,OAAKqsC,CAIV,YADuB,GACnB,MAAM9B,KACR,uBAGE,IAAKa,CAAW,yBAAmB,UAAqB,oBAC1C,OAAa,oBAG1B,sBACT,CACE,YAAYprC,EAAO,CAIjB,oBAH6B,UAAU,yBAAqB,EAC1D,KAAK,oBAAqB,EAExB,OAAKqsC,CAAiB,YAExB,QAEF,QACE,KACN,CAAQ3wC,oBAAiB,GAIrB,IAHIsE,CAAM,mBAAsB,IAAWuL,KAGjC,YAAW,EAAK,KACxB,mCAG6B,UAC/B,UAAoByC,EAAUA,EAAO,QAAS,CAClD,GACE,YAAcA,EAAQ/R,EAAGE,GACvB,QAAc,KAAKivC,MAAW,WAAe,QAC7C,CAAIr/B,IAAU,eACL,MAEH,aAAaiC,CAAM,aAG3B,GACM,KAAKo9B,GAAW,UAAS,GAAI,SAAW,OAC1C,KAAKA,IAAW,8BACA,UAAgB,IAAI,GAElC,SAAKT,CACP,0BACA,CAAKA,GAAwB,MAE/B,aAAW38B,EAAU,KAAK48B,KAAS,KAAM,MACvC,CAAK/+B,IAAuB,+BAAgC,SAC5DmC,CAAO,2BACA,SAAkB,CACzBA,EAAO,OAAI,IAAQ,EAErB,iBACA,EAAK48B,iBACAQ,GAAW,WAAY,iBAGvBP,GAAgB,EACrB,WAAW78B,IAAU,OAAK48B,CAAS,eACtB,wBAIRC,GAAgB,CACzB,CACE,OAAO,CACL,aAEA,OAAK,UAAWrrC,EACb5D,GAAc,oCACjB,KAAWoS,MAAU,IAAKo9B,GAAW,WAAW,KAAK,iBAC9C,OACLp9B,CAAO,SAAS,CAElB,KAAK,cAEP,aACE,GAAAxO,IAEA,oBAAgB,GAAgB,EAChC,KAAKqsC,GAAU,IACf,IAAMS,IAAc,MAAK,MAAS,SAC5B5tC,EAAWc,MAAS,KAK1B,aAJK,IAAWA,KACb5D,EAAc,wBAAoB,CAAK,IAAK,IAC7C,oCAG0BgvC,GAAS,OAAM,EACvC58B,oBAGC,kBAAqB,MAE5B,MAAI,YAAiB,CACnB,uBAEE,MAAArP,CACN,KAAQ,EAAK,SAAS,QAClB,QAAQe,CAAWf,EACvB,CACE,2BACyB,eAAe,WAK1C,GAEM,UAC4DhD,MAE7CA,CAAoB,EAAEN,IACpB,YAAa,IAAqBkxC,CACzD,CAAsB,EACD,IAAI//B,aAC6D,GAAG,EAChE0C,cAIzB,CAAMq9B,CAAY,CAChB9jC,SAAqBlB,EAAS,KAAK,IAAI,IACvCilC,CAAoB,KAAKC,MAAa,IAAK,SACjC,GACVC,KAAgB,oBAIhBC,GAAqB,OACX,IACVC,GACAxB,IAAa,MACbyB,CACA,aAAW,gBAAmB,CAC5B,SAAUrgC,EAA6C,iBAAc,0BAA+D,gBAAmB,SAAU,UAAY,oBAAyB,mBAAyB,IAAK,sBAA2B,GAAU,8BAA6B,sBAAa,CAAc,gBAAiB,gBAAgB,EAAG+/B,IAAY,WAAU,SAAW,CAAG,EAAE,wBAAwB,YAAe,eAAe,GAAGA,CAAY,WAAU,cAAe,2BAAsC,aAAU,aAAmB,CAAC,EAAC,KAAO,6BAAkC,IAAU,CAAC,EAAE,CACxmB,IACE,YACE,WAAS,CACT,UAAAxP,EAAY,IAChB,EAAK,CACG/uB,MACF,GAAK2+B,EAAqB,4BACgC,+BAC1D,GAAKG,EAAU9+B,OAEf,EAAK2+B,GAAqB,GAC1B,KAAKE,GAAQrgC,EAA6C,4BAA2B,0BAEvF,GAAK4+B,OAAqB,WAAcrO,EACxC,KAAK6P,IAAY,IAAKxB,MAAW,OACjC,MAAK2B,EAAgB/+B,MAAQ,IAAS,OAAKo9B,EAAY,iBAAgB,OAAQ,CAAC,oBAAgB,GACpG,IACE,mCACgC,EAAS,cAAc,wBAClC,iBACZ,MAAW,IAClB4B,GAAO,aAAa,0BAAgB,2BAC7B,WAAa,gBAAiB,EAAI,GACzCA,CAAO,2BAA0B,GAAKC,qBAC/B,cAAiB,aAAW,CAAKxkC,EAAa,EACrD,SAAe,IAAKikC,GAAgB,SAAS,eAAc,KAAM,KACjE,IAAAQ,EAAO,UAAY,WACZ,aAAa,qBACb,aAAM,QAAkB,KAAKH,GACpCC,IAAO,KAAOE,GACPF,CACX,SACE,kBACE,CAAMG,EAAW,qBACjB,MAAS,aAAa,qBAAoB,WAAY,CACtDA,GAAS,YAAa,kBAAmB,oCAIzC,QAAY,YAAS,WAAc,KAAK,GACxCzhC,CAAI,qBAAiB,cAA8D,eAC/E,UAAY,YAChBA,CAAI,OAAO,YACP,WAAa,0BAA6B,CAC9CA,IAAI,YAAa,qBAAoB,aACjC,WAAa,4BAAgB,sBAAmC,EACpE,cAAuB,GAAK,MAAK0/B,GAAW,gCAC3B,CAAS,cAAc,SAAQ,CAC9C4B,EAAO,SAAW,mBACJ,CACdA,UAAO,QAAa,YAAmB,CACvCA,EAAO,MAAQ1sC,EACf0sC,KAAO,UAAa,kBAAgB,yBAA4B1sC,mBACjD,GAAS,cAAc,8BAE/B,EAAY,SACnB4sC,GAAO,gCACA,WAAa,WAAiB1wC,MAAU,GAAKuwC,EAAa,MAC1D,iBAAiB,MAAS,KAAKK,GAAa,yBAEzD,CACI,aAAI,aAAiB,wBAGV5wC,EAAOwD,EAAO,IACnB,gCACS,GAAS,8BAAgC,CACtD,OAAQ,cACF,CAAK6sC,GACX,OACN,CAAK,MAEH,qBAAyB7sC,EAAO,CAC9B,GAAIA,IAAM,UAAW,qBAEnB,EACN,CACI,cAAoB,GAAO,iBAAa,QAAY,EAC/CxD,GAGL,MAAK4wC,EAAa5wC,EAAOwD,CAAK,mBAG9B,CAAI,CAAC,OAAKqtC,CAAoB,EAC5B,6BAGQ,GAAW,oBACJ,qBACf,CACN,uBAC8B,OAC9B,CACE,mBACE,KAAU,aAAW,CAAKC,IAAW,YAActtC,EAAM,SAAW,MAAKutC,GACnE,KAAKF,SACF,iCAEP,CACN,CACS,OAAKA,OACHJ,GAAcjtC,IAErBA,CAAM,UAAO,cAAiB,OAClC,CACE,kBAAiBA,CAAO,CACtB,GAAI,eACGitC,GAAcjtC,EAAK,CACxB,iBAEa,WAAY,KAAO,SAEpC,IAAWA,KACT,CAAI,MAAMqtC,GAAoB,CAC5B,KAAKJ,eAGP,OAAe,YAAW,OAE5B1lC,IAAgB,CACdglC,MAAY,sBAAsB,CAAMvsC,CAAK,CACjD,CACEitC,GAAcjtC,iBAEV,GAAK,aAAc,EACnB,MACN,CAGI,GAFA,uBACA,KAAO,mBAAiB,wBACpB,EAAKstC,gBACQ,QAAU,KAAO,oBAGlC,OAAa,MAAiB,cAC9B,CAAKC,GAAQ,QAAW,CAC5B,EACEd,IAAoB,CACd,QAAKa,CAAW,WAAe,MAAM,GAGzC,oBAEF,cAAe,UACG,YAAU,GAAI,OAAQ,EACtC,aAAO,uBAAoB,KAAe,mBAG1C,KAAO,MAAKA,iBAA6B,SAAU,KAAS,wBAE9D,aAA4B,CAC1B,GAAI,MAAKX,GAGT,IAAI,CAAC,KAAKU,mBACM,GAAU,EACxB,MACN,EACI,IAAK,aAAc,iBAEjB,gBAAe,CACf,aAAc,KAAKG,YAGvB,OAAYhxC,CAAO,gBAEf,GAAKkwC,GAAc,OAAM,iBAAkBlwC,CAEzC,CAAC,UACH,KAEF,MAAMqN,EAAI,KAAKuhC,IAAW,sBAAwB,GAClD,SAAW9N,KAAS,aAAe,QAC3B,WAAa,kBAAmB,YAAO,KAEnD,CACE,SAAU,QACHiQ,EAAS,aACd,CAAKA,QACL,OAAKb,CAAgB,SACrB,CAAKY,yBAET,CACA,CAGA,IAEM,GACElyC,OAA0DO,GAAwB,CAI1FA,EAAoB,IAAEN,CAAqB,EACzC,gBAAkB,KACpB,CAAC,uBAKiC,CAE9BO,EAAgBD,WAGpB,GAAc,CACZ8xC,GAAW,MACU,GACrBC,eACkB,CAClBC,GAAyB,OACzBC,CAA0B,GAC1Bd,WACA,IAAO,cAAe,UACtB,MAAY9+B,IACV,IAAK8+B,GAAU9+B,CACnB,IACE,KAAO,kBACG,YAAiB6/B,CAC7B,EACE,KAAM,SACJ,QAAgB,KAAKH,GAAiB,SAAS,cAAc,QAAQ,WAC7D,GAAY,UACpB,MAAMlV,IAAM,IAAMsV,YAAQ,GAAa,KAAI,2CACnC,yBACa,aAActV,CAAG,EACtCqR,EAAQ,WAAW,GACnBA,CAAQ,iBAAiB,4BAA6B,CAAa,EACnEA,EAAQ,mBAAiB,YAAe7pC,GAASA,EAAM,gBAAe,CAAE,IACxE,QAAgBA,CAAS,IACjB,kBACN,GAAK8sC,GAAQ,iBAAW,OAAY,IAAKA,WAE3C,CAAAjD,EAAQ,iBAAiB,QAASkE,EAAS,CACzC,eAEM,6BAA4B/tC,CAAS,CACvCA,KAAM,MAAW6pC,MAAiB,KAAQ,iBACvC+D,CAA0B,GAC/BG,EAAQ/tC,CAAK,IAEhB,CACD,eAAsB,CACf6pC,EAET,gBACY6D,GAGV,QAAoB,mBAClB,CAAc,cAEhB,CAAKE,GAA0B,OAEjC,OACE,eAAaH,CAAY,EAAC,UAE5B,CAAI,MAAO,IACT,GAAO,CACL,SAAS,IAAKA,UACd,IAAY,MAAKO,CAClB,KAEH,CAAI,KAAK,WAEP,YACJ,EAAK,CACG,SAAKP,CAAa5D,GAAW,KAAKmE,OAAuB5D,EAG7D,MAAKqD,OACL,EAAKO,KACL,KAAKC,GAAW,IAElB,MAAO3e,EAAU,GAAO,IACjB,GAAKoe,IAGN,CAACpe,GAAW,KAAKqe,KACnB,aAAa,OAA2B,GACxC,OAA8B,YAE3BD,EAAe,yBAGpB,MAAKA,CAAgB,OAAQ,GAC7B,aACA,SAAuB,KAEzB,sBACsBA,GACpB,EAAI,CAACV,EACH,YAEG,IAAKS,IAAY,CAAC,KAAKO,GAAoB,CAC9ChB,QAAO,IAAU,uBACZkB,CAAiB,SACtB,MACN,CACIlB,mBAAqB,GAAM,EAC3Bc,IAAQ,YAAa,GAAI,yCAAyC,QAAOtV,GACvEwU,GAAO,YAAa,aAAcxU,CAAG,CAC3C,CAAK,EACD,OAAc,OACd,IAAK2V,OACH,CAAKD,MAA4B,QAAS,cAAc,cAChD,SAAY,OACpBC,EAAQ,yBAAqB,IAAS,EACtC,QAAWA,EAAQ,GAAK,oBAAoB,KAAKrB,MAAU,EAC3DE,EAAO,eAAa,mBAAsB,CAC1C,MAAMoB,EAAwB,OACvB,gBAAiB,qBACtB,EAAKT,GAAyB,WAAW,IAAM,MACxCA,GAAyB,KAC9B,KAAKO,IAAgB,mBAAoB,EACzC,OAAKpB,CAAQ,mBACX,MAAQ,2BAIdE,EAAO,iBAAiB,cAAc,MAChC,GAAKW,KACP,eAAa,GAAKA,EAAsB,EACxC,KAAKA,GAAyB,QAEhC,GAAKO,yBAAkC,EAAM,CACrD,UAEY,aAAsC,MAAMJ,EAAQ,gBAAa,CAAI,0CAA0C,MAAI,CAAKL,GAC3HU,KAAQ,gBACJ,KAEO,QAAa,oBAAoB,SACxC,MAAa,qBAA4B,EAAE,IAKxD,IAAInN,CAAUrlC,EAAoB,KAOlC,MAAM0yC,CAAiB,CACrBC,GAAkB,OAClBb,CAAW,cAEQ,KACnBc,CAAe,SACI,MACnBC,CAAgB,KAAK,WAAQ,EAAK,KAAI,CACtCC,UAAsB,SAAS,UAC/BC,GAAe,IACfC,KAAsB,CACtBC,GAAkB,eAEL,EACbC,GAAgB,IAChBC,GAA+B,GAC/BC,EAAoB,KACpBC,IAAa,CACbC,MACAC,EAAqB,KACrB,kBAAkB,KAAO,SAAO,GAAI,CACpC,aAAa,CACb,0BACA,UAAsB,UACtB,MAAe,KACfC,GAAe,MACLd,EAAiB,UAC3B,WAAO,aAAmB,MAC1B,qBAAuB,CAAItS,EAAM,oBAC1B,QAAU,UACV,iBAAoB,KAC3B,UAAW,yBAA0B,KACnC,EAAMqT,OAA0B,OAAU,oBACpCvS,SAAc,qBAA0B,kBAClCd,QAAM,sBAA0B,YAC5C,WAAe,QAAQ,OAAM,8BAAqC,gBAAgB,EAAE,CAAC,YAAa,eAAe,EAAGqT,IAClH,QAAe,CAAC,EACjB,IAAK,uBAAkB,eAAqB,EAAGA,EAAQ,CACtD,MAAO,CAACtS,EAAK,CAAC,CACf,WAAK,YAAc,YAAgB,CAAGsS,IACrC,OAAc,CAAC,KACZ,CAAC,yBAAmB,eAAsB,EAAGA,EAAQ,EACxD,QAAa,CACd,GAAG,MAAE,OAAW,mBACf,WACD,CAAG,CAAC,CAAC,eAAgB,mBAAmB,EAAGA,IAC1C,IAAM,CAAC,iBACH,KAAa,qBACjB,IAAM,GAAIvS,CAAK,CAChB,GAAG,CAAC,CAAC,8BAAkB,WAAwBuS,CAAQ,CACtD,KAAM,CAAC,KACR,GAAI,CAAC,cAAU,OAAY,EAAGf,IAAiB,SAAU,wBAAyB,CAAC,CAAC,CAAC,CAC1F,EACE,YAAYnxC,CAAY,EAClB,SAAK,SAAgBmxC,MACpB3yC,EAAK,aAAa,0CAEvB,GAAK,OAASwB,CAAW,QACzB,IAAK,GAAKA,OACV,GAAK,MAAQ,SAAK,YAClB,CAAK,UAAYA,EAAW,YAAO,YAC9B,GAAOA,KAAW,EACvB,KAAK,QAAM,CACX,QAAK,QAAaA,IAAW,sBACxB,aAAsB,GAC3B,MAAK,sBAAuB,CAC5B,UAAK,WAAgB,cAAwB,WAC7C,YAAK,YAAsB,KAC3B,MACE,SAAAwB,EACA,QAAS,CACP,cACA,SAAAC,IACA,IAAAC,EACA,MAAAW,CACR,CACA,EAAQ,KAAK,OAAO,UAChB,QAAK,KAAWb,GAChB,IAAK,oBAAiC,KAAK,WAAW,gBAAe,UAAY,QAC5E,eAAiB,CAACgB,GAAqB,OACvC,gBAAkB,CAACd,GAAY,GACpC,cAAwB,CAAK,iBAC7B,KAAK,EAAI1B,EAAW,EAAIuC,EACxB,KAAK,EAAIvC,EAAW,GAAI6B,CACxB,WAAK,WAAkB,EACvB,KAAK,QAAU,EACnB,CACE,IAAI,YAAa,CACf,OAAO,OAAO,eAAe,KAAI,CAAE,YAAY,KACnD,CACE,oBAAW,UAAoB,GAC7B,SAAe,QAAQ,KAAM,wBAAqB,CAAK,cAAc,WAAW,eAElF,QAAO,uBAAwBiP,EAAQ,IACrC,GAAMqhC,EAAa,KAAIC,CAAW,EAChC,EAAIthC,EAAO,OAAO,WAAW,CAC7B,OAAQA,GAAO,OACf,WAAkB,UACxB,IACIqhC,CAAW,oBAAsBrhC,KAAO,iBACxCqhC,EAAW,QAAU,IACrBA,CAAW,cAAW,oBAAuBA,CAAU,IAEzD,KAAO,WAAWrS,EAAMuS,EAAY9sC,EAAS,IAC3C4rC,EAAiB,eAAiB,KAAI,GAAI,CAAC,qCAAsC,2DAA2C,0BAA4C,0DAAsC,wBAAwC,gCAAuC,+CAA0C,oCAA0C,mDAA2C,iCAAyC,uCAAyC,GAAI5kC,QAAkB,MAAQ,kBAAW,KAAYvN,GAAK,gBAAM,CAAa,GAAE,CAAC,MAC1jBuG,EAAS,WACX,eAA0B,0BACUgH,EAAKuzB,EAAK,IAAIvzB,CAAG,GAGvD,GAAI4kC,EAAiB,qCAGP,iBAAiB,UAAS,gBACxCA,EAAiB,iBAAmB,aAAiB,iBAAiB,mBAAkB,EAAK,CACjG,GACE,QAAO,iBAAoBmB,EAAOC,EAAQ,UAC1C,gBAAW,eACT,MAAO,CAAE,CACb,CACE,WAAO,qBAAyBC,IAC9B,MAAO,CACX,GACE,KAAO,UAAoB,WACjB,iBAAa,QAAiB,CAC1C,EACE,GAAI,6BAEN,CACE,OAAI,gBACF,aAEF,EAAI,aAAa/rC,EAAO,CACtB,eACK,MAAK,SAAU,OAAO,mBAEzB,yBAEN,CACE,cACQ,CAACjE,EAAWf,CAAU,EAAI,mBAAK,CACrC,OAAQ,OAAK,aAAc,IACzB,CAAK,IACH,iBAAe,SAAmC,EAClD,MAAK,GAAK,QAAK,GAAQe,EAAaf,KACpC,WACG,cACO,MAAK,GAAQ,OAClB,GAAK,UAAK,EAAS,MACxB,EACF,eACO,EAAK,KAAK,OAASA,GAAce,EAAY,GAClD,KAAK,gBAAkBA,CAAaf,EAAa,IACjD,MACF,OACE,KAAK,GAAK,kBACL,GAAK,KAAK,UACf,IACR,CACI,KAAK,kBAAmB,MAE1B,gBACO,kBAAW,aAEd,kBACF,MAAO,WAAK,EAAW,0BAEzB,KACE,yBAEF,iBACE,KAAK,IAAI,MAAM,QAAS,IAAKgxC,KAE/B,QAAUxnC,EAAQ,MACD,MACb,IAAK,UAAYA,YACjB,MAAK,cAAiBA,KAAO,gBAE7B,GAAKynC,GAAe,CAEtB,YAAcznC,CAClB,EACE,QAAQnI,CAAO,EACR,IAAK,sBAGL,MAAK4uC,EAGR,KAAKA,IAAkB,GAFvB,QAAK,GAAO,YAAY,OAK5B,SAAS5uC,EAAO,IACT,GAAK,sBAGL,MAAK,gBAGKA,OAAM,YACT,OAAQ,IAAI,MAAO,EAAE,gBAG3B,KAAgB,GACjB,IAAK,QAAQ,qBAChB,KAAK,eAAgB,WAGzB,YACM,EAAK,UACP,QAAK,IAAQ,EAEb,OAAK,0BAIF,mBACT,CACE,wBAAyB,IACvB,GAAK,eAAW,kBAAuB,KAC3C,CACE,SAAS7D,CAAG4oB,EAAIF,gBACU,GAAK,mBAC5BE,CAAIF,EAAE,CAAI,KAAK,wBAAwBE,EAAIF,CAAE,OACzC,IAAK5oB,CAAI8oB,MACd,IAAK,UACL,OAAK,uBAEKtlB,CAAOV,EAAM,CAAG9C,IAAM,CAChC,EAACA,CAAGE,EAAC,CAAI,OAAK,sBAAwBF,KACtC,KAAK,GAAKA,EAAIwD,MACd,CAAK,GAAKtD,EAAI4C,KACd,EAAK,kBAAmB,CAC5B,CACE,UAAU9C,aACQ,MAAK,gBAAkBA,EAAGE,CAAC,CAC/C,IACE,cAAgBF,CAAGE,GACjB,QAAK0zC,EAAqB,CAAC,MAAK,CAAG,mBACnB,EAAK,eAAgB5zC,IAAI,CACzC,6BACE,EAAO,UACR,CACL,CACE,MAAK8oB,CAAIF,EAAI,CACX,KAAKgrB,MAAsB,MAAK,CAAG,KAAK,CAAC,EACzC,KAAM,CAACvmC,EAAam0B,CAAY,KAAI,EAAK,oBACzC,KAAK,aACA,EAAK5Y,EAAK4Y,KACX,EAAK,SAAW,aAAc,EAAK,EAAI,YAAc,CAAK,MAAK,CAAI,GAAI,CACzE,aAGN,GAAU,IAAK,OAAI,qBACT,gBAAY,YAAc,GAAMxhC,OAClC,MAAK,GAAK,OAAK,GAAM,iBACX,OAAK,GAAM,SAGzB,GAAI,CACF,EAAAA,EACA,KACE,YACG6zC,CAAIC,EAAE,CAAI,YAAK,eACtB9zC,EAAK6zC,EACL3zC,KACA,QAAK,CAAI,MAAM,OAAO,EAAI,IAAMF,GAAG,QAAQ,CAAC,CAAC,IAC7C,KAAK,KAAI,KAAM,MAAM,EAAI,OAAS,QAAQ,CAAC,CAAC,KAC5C,OAAK,CAAI,eAAe,CACtB,MAAO,UACR,CACL,CACE,OAAI,aACF,YAAS,CAAK4zC,KAAqB,QAAsB,CAAC,KAAM,QAAU,MAAKA,CAAiB,OAAO,GAAK,GAE9G,sBACE,MAAOvmC,CAAam0B,OAAgB,CAAK,mBAEvC,sBAEIxhC,CAAI+zC,EAAmB1mC,IACnB0mC,QACV,GAAQ,KAAK,SAAQ,CACnB,IAAK,OACH,GAAO,CAAC,QACV,EAAK,MACH,YACF,cACS,CAAC/zC,IAAK,EACf,oBACgB,CACtB,CACA,WACM,iBACF,EAAO,EACX,CACE,mBAAkByC,CAAW,QAAK,SAChC,IAAOgB,aAA8B,sBAGnCvD,EACA,MAAAsD,aAEE,MAKJ,CAJAA,WAEAxD,EAAKyD,SAED,GAAK,iBACP,SAAgB,CACd,IAAK,MACC,OAAK,CAAI,WAAYA,SACzBvD,CAAI,KAAK,MAAO,MAAK,GAAIwC,EAAaI,KAAU,CAChD,mBAEI,EAAK,KAAI,CAAG,WAAqBA,cAC5B,QAAgB,EAAK,IAAIU,QAClC,IACF,IAAK,KACHxD,OAAS,IAAIyD,aAA2BzD,CAAC,CAAC,IACtC,MAAK,IAAI0C,CAAY,SAASI,GAAS,CAAC,EAC5C,aACG,EACH9C,IAAI,KAAK,GAAIyD,CAAW,OAAK,OAAc,CAC3CvD,WAAa,EAAG,KAAK,OAAiBsD,CAAOtD,EAAE,SAIrD,cACA,EAAK,IAAIA,CAAKwC,EACd,SAAa,GAAI,IAAK,mBAAoB,GAC1C1C,MACAE,CAAK4zC,eAGJ,GAAG,IAAK,YACI,MAAI,CAAM9zC,QAAG,IAAS,CAAC,IACpC6C,IAAM,EAAM,KAAI,iBAAmB,OACnC,CAAK,UAAW,EAElB,MAAOmxC,KAAgB9zC,GAAGwD,CAAO,CAC/B,UACE,IAAK,OACH,GAAO,CAACxD,gBAER,SAAY,CAACA,CAAC,EAChB,IAAK,KACH,MAAO,CAAC,GAAIF,CAAC,OACf,GACE,SAAWE,CAAC,EAEpB,CACE,wBAAwBF,EAAGE,KACzB,YAAwCA,EAAG,4BAE7C,mBAA2BA,EAAG,CAC5B,OAAOkyC,EAAiB4B,KAAgB9zC,GAAG,GAAM,MAAK,oBAE3B,CAC3B,OAAQuC,gBAGF,CAAM,IAAsB,KAAI,GAAK,iBACrC,GAAO,CAAC,QAA4BC,CAAae,EAAW,CAAC,CACvE,EACM,GAAK,KACH,MAAO,CAAC,KAAO,aACZ,EACH,CACE,MAAOA,GAAqB,EAAI,KAAK,eACrC,SAAWA,iBAEf,aACa,CAAG,EAAG,CAAC,IAGxB,GAAI,aAAc,CAChB,OAAO,WAAK,OAAW,iBAAe,MAExC,IAAI,gBAAiB,CACnB,SAAQ,KAAK,SAAW,eAAe,eAAgB,aAAgB,GAC3E,CACE,IAAI,kBAAmB,CACrB,KAAM,CACJ,YAAAwwC,EACA,eAAgB,YAEZC,EAAczwC,EAAYwwC,EAC1BE,IAA4BF,QAClC,CAAOx0C,EAAK,YAAY,oBAAsB,CAAC,KAAK,YAAoB,SAAuB,CAAC,OACpG,CACE,SAAQ+D,CAAOV,EAAQ,CACrB,KAAM,CAACuK,EAAam0B,CAAY,EAAI,KAAK,iBACzC,KAAK,IAAI,MAAM,OAAQ,GAAI,IAAMh+B,EAAQ6J,GAAa,SAAS,CAAC,KAC3D,IAAK+mC,KACR,MAAK,GAAI,MAAM,OAAS,KAAI,GAAMtxC,GAAS0+B,GAAc,QAAS,CAAC,IAEzE,CACE,SAAU,CACR,KAAM,CACJ,MAAA3+B,EACD,CAAG,KAAK,KAEP,QAAAC,CACA,iBAEyB,OAAS,KAC9BuxC,EAAgB,CAAC,MAAKD,IAAoBtxC,CAAO,SAAS,GAAG,IACnE,CAAIwxC,MACF,QAEF,GAAM,WAAmC,iBACpCA,IACHzxC,EAAM,MAAQ,KAAI,GAAM,WAAWW,CAAK,KAAiB,QAAQ,CAAC,CAAC,KAEjE,CAAC,OAAK4wC,EAAoB,CAACC,IAC7BxxC,EAAM,OAAS,IAAI,IAAM,WAAWC,CAAM,EAAI0+B,KAAc,MAAQ,MAE1E,CACE,4BACE,EAAO,CAAC,EAAG,YAGP,IAAK8Q,KACP,OAEF,GAAKA,KAAe,SAAS,YAAc,aACtCA,EAAa,UAAU,WAAI,SAChC,EAAMiC,KAAU,EAAK,qBAAuB,CAAC,UAAW,WAAY,kBAAe,gBAAiB,KAAW,YAAa,YAAY,eAAe,uBAAe,aAAgB,IAAc,aAAY,CAChN,mBACE,aAAY,GAAS,mBAAmB,EACxC,OAAKjC,CAAa,OAAO7iC,CAAG,cACd,IAAI,mBACd,YAAa,mBAAyB,CAC1CA,EAAI,iBAAiB,kBAAe,CAAK+kC,GAAoB,oBACzD,aAAiB,cAAe70C,EAAc,cAAa,CAC/D8P,EAAI,SAAW,EACrB,CACI,KAAK,IAAI,QAAQ,KAAK6iC,GAC1B,CACEkC,GAAoBnwC,KAClBN,KAAM,YAAgB,EACtB,KAAM,CACJ,MAAAuL,CACN,IAAa,uBACT,CAAIvL,EAAM,SAAW,GAAKA,IAAM,OAAWuL,QACzC,CAEF,QAAKkiC,CAAU,OAAO,EAAK,EAC3B,OAAMiD,CAA0B,MAAKC,KAAoB,EAAK,OAAU,CAClEC,OAAsB,qBACvB,UAAe,KACpB,KAAMC,CAAqB,CACzB,QAAS,YACA,CACV,EACD,QAAK,IAAO,oBAAoB,EAAK,KACrC,IAAO,oBAAiB,YAAeH,CAAyBG,IAChE,SAAO,cAAiB,eAAej1C,CAAc,iBACrD,OAAe,IAAK,EACdk1C,KAAS,EAAK,KACD,IAAK,MAClBC,EAAc,SAAK,GACnBC,EAAoB,OAAK,MAAO,GAAI,SAAM,IAC1CC,EAAc,KAAK,SAAI,CAAM,QACnC,OAAK,CAAI,OAAM,OAAS,IAAK,aAAW,MAAM,QAAS,MAAO,eAAiBjxC,OAAM,CAAM,EAAE,WAC7F,EAAMuiC,IAAoB,QACnB,OAAO,sBAAwB,GACpC,MAAKkL,SAAiB,EAAI,IAC1B,GAAK,gBACL,MAAO,qBAAoB,YAA8B,EACzD,cAAO,aAAoB,OAAQlL,CAAiB,IACpD,KAAO,wBAAoB,YAAwCsO,CAAkB,GACrF,MAAO,qBAAoB,cAAej1C,CAAc,aAAa,OAChE,OAAO,MAAI,IAAM,gBACjB,EAAI,UAAM,IAASq1C,CACxB,MAAKC,EAAsBC,EAAQL,KAA+B,CACnE,EACD,OAAO,oBAAiB,cACxB,MAAO,gBAAiB,QAAyB,CACrD,CACEI,cACE,MAAa,UACA,QACI,KAAK,QACJ,KAAK,QACnBE,GAASD,MAAUE,CAASP,GAAU9kB,IAAaslB,GAAcrlB,YAGhE,kBACE,IACH,OAAK,MACL,mBACK,EAAImlB,UACAC,CACT,KAAM,CAAC/nC,EAAam0B,IAAgB,aAAK,QACzC,KAAK,QAAQn0B,EAAc0iB,IAAyBC,CAAS,EAC7D,UAAK,aAAmB,CACzB,KACD,EAAM,kBAEJ,QAAK,kBAEL,EAAK,EAAI6kB,EACT,KAAM,CAACxnC,iBAAkC,YACzC,GAAK,QAAQA,EAAcgoC,EAAY7T,IAA0B,CACjE,KAAK,mBACN,EACD,SAAU,EAChB,CAAK,IAEHkT,CAAoBrwC,EAAMN,EAAO,CAC/B,MAAOsJ,EAAam0B,CAAY,EAAI,KAAK,oBAC1B,MACTqT,EAAS,KAAK,SACI,OAClBC,CAAc,QAAK,eACS,IAC5BQ,EAAYlD,KAAiB,OAAW5Q,CACxC+T,GAAQv1C,KAAK,WAAe,QAC5Bw1C,EAAiB,OAAKC,CAAmB,KAAK,UAC9CC,EAAS,CAAC11C,OAAUw1C,EAAe,CAAC,EAAIx1C,EAAIw1C,EAAe,IAAKt1C,CAAGs1C,EAAe,CAAC,kBAC/D,CAAKC,GAAmB,KAAM,IAAK,YAC3C,CAACz1C,KAAGE,CAAM,WAA+C,EAAIA,EAAGy1C,EAAkB,CAAC,EAAI31C,EAAI21C,EAAkB,CAAC,aAG5HC,EAAa,IACbC,EAAe,GACnB,SAAY,CACV,KAAK,WACU,GACbC,MAAe,GAAM,CAAC,WACJ,GAAM,CAACrf,EAAG,IAC5B,KACF,MAAK,WACHqf,CAAW,EAACrf,CAAG,OAAW,GAAI,EAC9Bsf,EAAc,IAAI,GAAM,CAACtf,EAAI,IAAI,CACjC,SACF,CAAK,WACHmf,EAAa,MACDnf,EAAG,IAAM,IAAK,EAC1Bsf,EAAc,CAACtf,KAAG,CAAM,CAAC,EAAG,CAAC,KAC7B,GACF,OAAK,WACHof,GAAe,IACfC,CAAW,CAACrf,EAAG,IAAM,CAACA,EAAG,IAAK,CAC9Bsf,EAAc,CAACtf,IAAG,EAAM,CAAC,EAAG,EAAI,CAAC,KACjC,GACF,IAAK,cACHmf,EAAa,MACDnf,GAAG,KAAOA,CAAG,CAAC,EAC1Bsf,IAAetf,CAAG,OAAU,CAAC,OAC7B,CACF,IAAK,eACHqf,EAAW,CAACrf,IAAG,SAAe,CAC9Bsf,IAAetf,CAAG,IAAM,CAACA,EAAI,EAAG,IAChC,QACF,CAAK,aACHmf,EAAa,MACDnf,GAAG,GAAM,CAAC,EAAG,CAAC,IACZ,CAACA,EAAG,KAAOA,EAAG,CAAC,KAC7B,GACF,IAAK,aACHof,GAAe,KACJ,CAACpf,EAAG,IAAM,CAAC,EAAG,IAAK,CAC9Bsf,EAAc,CAACtf,IAAG,EAAM,CAACA,KAAQ,GACjC,IACR,CACI,MAAMuf,EAAQF,EAAST,EAAYP,CAAW,KACxBiB,CAAYV,EAAYP,CAAW,IACzD,EAAImB,EAAsBP,KAAUQ,CAAa,gBACI,CAAC,CAAC,MACrCX,CAAMV,MAA+B,KACvD,CAAIsB,EAAS,EACTC,KACA,CAACC,WAAkB,CAAK,wBAAwBtyC,EAAM,aAAiB,qBACxDuyC,EAAUD,GAAShpC,GAAakpC,KAC/CX,EAAY,YACE,EAAK,MAAMP,EAAYP,IACvCqB,CAASC,GAAS,KAAK,KAAI,IAAK,UAAS,QAAqB,YAAqC,CAAC,EAAIJ,EAAM,CAAC,EAAIO,EAAM,EAAIC,YAA2CC,CAAWpB,EAAYC,MAChM,WACU,iBAAwB,CAAI,EAAG,KAAK,OAAmB,EAAIU,OAAiB,CAAC,IAAKX,CAE3Fe,GAAS,KAAK,IAAId,MAAW,CAAK,IAAI,OAAQ,KAAIY,CAAc,IAAKF,CAAM,SAAiBlB,EAE9F,OAAM/kB,UACAC,KAAkB8kB,CAAcsB,IACtCH,EAAsBP,KAAUK,KAAsB/lB,IAAU,CAChE,SAAa0mB,WACAC,EAAYV,UACpB,MAAQlmB,mBAEb,KAAK,CAAIolB,IACT,qBACK,CAAQ9nC,EAAc0iB,KAAyBC,gBAC/C,WAAmB,CAC5B,CACE,gBACE,oBAEF,KAAM,eAAiB,CACrB,SAAI,WAAqB,CAAK4iB,YAG9B,QAAoB,IAAI7N,KAAQ,gBAAkB,CAClD,QAAK,CAAI,aAAY0N,EAAa,kBACzBjB,CACP,KAAKiB,MAAa,0BAA4BjB,SAAS,CAAQ,IAE1D,KAAKiB,CAChB,cACE,MAAoB,CACb,KAAKA,eAGQ,KAAQ,EAC1B,MAAKA,EAAe,QACpB,iBAEF,qBAAsB,CACpB,SAAO,gBAAS,gBAElB,UAAM,4BAII,SAAWL,EAAiB,YAAY,oBAChB,EAChC,4BACJ,CACE,eAAI,EAAc,CAChB,2BAEE,cACG,OAAKZ,EAGV,UAAc,MAEhB,yBACeA,KAAU,kBAGvB,KAAK,SAAM,MAAS,YAAc,QAClC,IAAK,IAAI,mBAAa,sBAA+B,KAAK,UAAY,GAAG,EACzE,aAAS,MAAY,WACrB,IAAK,MAAI,WAAa,KAAM,WAC5B,GAAK,IAAI,gBAAgBoF,CAAY,GAAK,EACrC,KAAK,kBACH,GAAI,WAAU,GAAI,QAAQ,EAEjC,KAAK,iBAAiB,CACtB,KAAK,MAAI,kBAAiB,OAAW,KAAKrE,UACrC,GAAI,iBAAiB,WAAY,KAAKC,EAAc,IACzD,UAAoC,MAAK,gBACrC,IAAK,eAAiB,SAAQ,CAChC,KAAK,OAAI,GAAM,YAAW,CAAI,yBAC9B,GAAK,KAAI,WAAM,SAAgB,OAAoBhR,CAAc,cAAU,CAE7E,KAAM,CAAC1Y,WAAe,mCACjB,UAAUA,EAAIF,EAAE,OACZ,yBAA4B,CAAC,mBAC/B,WAET,YACE,GAAM,CACJ,MAAAtZ,CACN,uBAAyB,EACrB,OAAU,OAAW,GAAKvL,EAAM,SAAWuL,UACnC,UAAgB,EACtB,MACN,CAEI,SADKqjC,EAAkB,WACd,wBAEP,sBAKF,UACE,EAAArjC,CACN,EAAQ7P,WAAK,uBACY,CAAC6P,GAASvL,MAAM,WAAkB,MAAWuL,EAChE,KAAK,aAAO,kBAEZ,IAAK,KAAO,cAAY,IAG5BunC,KAAyB,CACvB,MAAMC,MAAa,CAAK,cAAW,SAAW,KAC9C,OAAK,SAAW,iBAAkB,IAClC,WAEE,QAAS,eAAc,QAAQ,CAC/BlC,KACE,QAAS,CACT,QAAS,MAEX,QAAwB,gBACN7wC,EAAM,aACG,CACzB,OACE,OAAS/D,QACT,EAASE,CACnB,KACe4oB,OAAU,QAAK,mBAAwB9oB,EAAI,KAAK+yC,OAAgB,QACvE,MAAKA,CAAa/yC,WACAE,CAClB,OAAK,eAAW,mBACjB,CACD,OAAO,qBAAiB,WAAe62C,CAAqBnC,CAAkB,MAEhF,OAA0B,QACxB,MAAO,iBAAoB,WAAatO,GACxC,cAAO,aAAoB,OAAQA,CAAiB,WAE7C,IAAI,UAAU,SAAO,YAC1B,IAAO,sBAAoB,gBAAsD,CAEnF,MAAKqM,EAAkB,IAClB,IAAK,wBAAW,KACnB,OAAKqE,CAAsBjzC,KAG/B,mBAAO,SAAiB,gBACxB,CAAO,oBAAiB,WAE1B,mBAEI,WAAa,MAAK+uC,CAAiB,EAErC,UAAyB,oBAClBA,EAAoB,KACzB,MAAK,8BACJ,CAAC,CACR,CACE,wCACS,IAAa,MACpB,SACA,MAAK,CAAI5yC,EACT,KAAK,kBAAmB,GAE1B,YAAgBuC,CAAW,KAAK,mBAChB,SAAK,OACb,YAA+B,gBAC9BE,CAAOW,EAAK,CAAI,KAAK,gBACtBinC,GAASzhB,CAAKlR,EACdizB,EAASjiB,IACT5oB,GAAI,IAAK,EAAIyD,KACT,IAAK,EAAIf,KACL,IAAK,SACbI,CAAS,MAAK,WACpB,IAAQL,IACN,eACc8nC,EAAS5nC,OAAwBkoC,CAAS/nC,EAASQ,MAAoBE,EAAQb,MAAwBkoC,EAASvnC,CAAK,EACnI,KAAK,eACkBX,CAAOD,MAA0BY,KAAWunC,CAAS/nC,cAAuD,CACnI,KAAK,IACH,MAAO,CAAC9C,KAAawD,CAAQb,MAAwBkoC,EAASvnC,EAAOtD,EAAIuqC,EAAS5nC,KAAoBzC,CAAI2qC,EAAS/nC,KACrH,MAAK,GACH,MAAO,KAAcA,KAAgBJ,CAAaxC,GAAIqqC,CAAS/mC,IAAexD,EAAI6qC,EAASloC,IAAoBzC,MAAkB,CACnI,QACE,MAAM,OAAI,GAAM,mBACxB,CACA,CACE,0BAA6BwC,CAAY,CACvC,MAAO+e,MAAYG,CAAE,EAAI7gB,EACnByC,EAAQme,EAAKF,KACJG,CAAKF,OACpB,KAAQ,EAAK,YACX,EAAK,KACH,IAAO,IAAKhf,CAAakf,MAAiB,CAC5C,OAAK,CACH,sBACG,cACSlf,EAAagf,EAAIle,IAAa,CAC5C,UACE,YAA6BV,EAAQU,CAAK,IAC5C,aACQ,GAAI,MAAM,6BAGtB,gBAEE,OACJ,CACE,gBAAiB,CACf,iBAEF,WAAkB,CAChB,KAAKovC,OAEP,qBACS,KAAKA,EAChB,CACE,gCACE,CAAO,KAAKC,cAEd,iBACS,GAAK,KAAO,CAAC,KAAK,iBAE3B,QAAU,CACR,QAAK,EAAK,0BAAiB,CAAW,QAAkB,CACxD,KAAK,KAAK,mBAAiB,YAAY,KAC3C,CACE,UAAe,CACf,UAAUrQ,EAAe,IAAOrxB,CAAU,mBAChC,OAAa,oCAEvB,GAAO,eAAkBjF,CAAQ40B,EAAW,CAC1C,MAAM/uB,EAAS,IAAI,kBAAe,UAChC,OAAA7F,EACA,KAAW,uBAEjB,CAAK,KACM,eAAgB,IACvB,cAAuC,eAChClM,EAAGE,KAAgB,OAAW,uBAA4B,OACjE,uBAEA6R,EAAO,uBAEAA,CACX,CACE,KAAI,kCACY,kBAAwB,SAAK,KAAW,MAAK,iBAAgB,CAC/E,CACE,SAiBE,wBAhBS,UAAoB,QAAW,QAAkB,CAC1D,KAAK,IAAI,uBAAoB,YAAY,CAAKygC,EAAc,EACvD,OAAK,YACR,KAAK,KAAQ,CAEX,gBACF,CAAK,oBAEL,KAAK,WAAW,aAAa,IAAI,EAE/B,KAAKM,KACP,aAAa,KAAKA,KAClB,KAAKA,eAEFa,CAAe,EACpB,OAAK,mBACD,OAAyB,CAC3B,UAAWsD,MAAW,IAAKhE,GAAmB,OAAM,EAClD,aAAagE,IAEf,OAA0B,IAChC,CACI,KAAK,UAAS,CAClB,gBACM,GACF,MAAO,EACX,CACE,eAAgB,CACV,KAAK,cACP,KAAKC,IAAiB,CACtB,KAAK5E,IAAa,UAAU,MAAO,QAAQ,KACxCxS,EAAM,gCAA6B,OAE5C,CACE,MAAI,eAAkB,IACpB,KAAO,GACX,CACE,QAAQ/7B,IACN,MAAK,KAAK,UAAeA,EAAM,UAAW,KAAK,IAAOA,IAAM,KAAQ,UAClE,MAEF,GAAK,0BAAuB,CAAI,EAChC,KAAKozC,GAAmB,CACtB,OAAQ,SACR,KAAQ,KAAK,GACb,YAAY,GAAK,QACjB,UAAa,KAAK,OACnB,CACD,UAAiB,GAAK7E,GAAa,SACnC,eACE,OAAuB,SAAM,CAAK8E,CAAQ,EAC1C,iBAAiD,SAAS,CACpDC,EAAmB,KAAKC,GAAa,KAAK,KAAI,CACpD,aAAW7nC,EAAO,QAAsB,CACtC,MAAMpL,EAAOoL,KAAI,sBAAa,QAAmB,CACjDA,EAAI,wBAAqB,kBACrB,WAAiB,eACjB,oBAAiB,IAAQ4nC,MACzB,gBAAiB,QAAS,KAAKE,KAAc,IAAK,OAAW,CACjEnF,EAAiB,aAAa,MAAI,8BAAkC,CAAE,EAAE,MAAK7V,EAAO9sB,kBAAiB,gBAGzG,OAAc,KAAK4iC,KAAiB,CACpC,cACA,IAAW5iC,KAAO2nC,EAAU,EAC1B,MAAYhN,EACV,OAEFoN,EACN,CACI,MAAMC,GAAqB,IAAM,KAAK,SAAW,OAAK,iBAAkB,CAAM,MAAM,GAAKpF,KAAgB,KAAS,IAClH,IAAIoF,EAAsBD,KACxB,CAAIC,GAAoBD,CACtB,QAAS5pC,EAAI,KAAO4pC,CAAgBC,GAAmB7pC,GACrD,KAAK0kC,GAAa,OAAO,QAAkB,UAAU,UAE9CmF,EAAoBD,IAC7B,MAAS5pC,EAAI,EAAGA,EAAI6pC,GAAoBD,CAAe5pC,IACrD,KAAK0kC,MAAa,SAAW,QAAO,KAAKA,CAAa,UAAS,CAGnE,IAAI1kC,EAAI,IACR,QAAWyzB,KAAS+V,KAElB,IAAM/yC,EADM,KAAKguC,IAAgBzkC,EAAG,GACnB,aAAa,kBAAmB,IAChC,aAAa,KAAI,8BAAkC,KAAI,IAAK2uB,GAAO8E,KAAM,cAAa,UAAiB,CAAC,kBAI7H,CAAKwR,GAA+B,GACpC,KAAKP,OAAa,OAAW,QAC3B,YAAc,EACpB,CAAK,EACDvuC,GAAM,cAAgB,EACtBA,EAAM,0BACV,CACE2zC,GAAgB3zC,EAAO,CACrBquC,IAAiB,oCAEnBkF,EAAavzC,EAAO,CACd,KAAK8uC,QAAsC,aAAe,aAAe,KAAKP,cAIpFiF,yBACwE,CAC1E,CACEI,GAAoBjwC,IAClB,EAAK,OAAK2qC,CAGV,UAAW5iC,QAAO,EAAK4iC,GACrB5iC,EAAI,SAAW/H,cAGnB,iBACO,CAAKmrC,QAGV,CAAK6B,IAAoB,WACvB,eACA,UAGJf,IAGE,eADA,GAAKgE,MAAsB,CACvB,KAAKR,UAEL,eACA,CAAAtC,QACA,KAAAQ,aACA,CAAAP,CACD,GAAG,IAAKqC,iBAC8CrC,CAAW,EAClE,KAAKqC,YAGT,wBAA4B,CAC1B,KAAKxD,GAAe,EACpB,KAAK,SAAI,CAAO,EAElB,YACE,oBAAoB,CACpB,KAAK,MAAK,SAAU,KAAI,oBACnB,GAAKlB,GAAc,KACtB,CAAK,0BAA4B,CAC3B,KAAK,SAAK,MAAU,SAAS,gBAAgB,GAC/C,MAAKA,GAAc,OAEtB,IACD,MAEF,OAAKA,CAAc,OAErB,aACE,GAAKH,IAAc,UAAU,MAAI,MAAQ,EACzC,MAAK,IAAK,UAAU,OAAO,iBAAgB,CACvC,KAAK,KAAK,SAAS,WAAS,WAAa,GAC3C,OAAK,SAAW,wBACd,cAAe,EACvB,CAAO,GAEH,WAAmB,EAAM,CAC7B,CACE,aAAa3gC,EAAMjK,EAAO,EAC1B,gBAAiB,EACjB,eAAgB,WAChB,cACA,6BAGA,SAAI,mBACK,CAAK,KAEd,GAAI,WAAY,CACd,OAAO,UAET,EAAI,qBACgBA,EACb,OAAK,OAGNA,GACF,KAAK,OAAO,YAAY,IAAI,IAC5B,GAAK,OAAO,mBAAgB,CAAI,MAEhC,IAAK,OAAO,kBAAoB,EAEtC,CACE,kBAAsB5E,CAAQ,EAC5B,kBACoBU,MAElB,OACD,CAAG,SACJX,EAAM,YAAc+0C,EACpB/0C,iBAEF,UAAW,UAAW,CACpB,OAAO,GAET,QAAO,wBAA0B,IAC/B,GAAO,EACX,CACE,IAAI,kCAEA,GAAQ,OACT,IAEH,IAAI,sBACF,QACJ,CACE,iBAAiBI,EAAM40C,EAAW,IAChC,GAAIA,EAAU,CACZ,aAA4B,CAAI,eAE9B,EAAAnzC,CACR,KACM,GAAIuyC,GAAU,IAAKhE,IAAmB,GAAIvuC,KACtCuyC,CACF,mBAEQ,mBACR,CAAK,iBAAiBh0C,CAAI,KAC1B,EAAKgwC,GAAmB,UACpB,KAAKA,IAAmB,gBACrBA,EAAqB,QAE3Bb,CAAiB,mBACpB,cAAoC6E,CAAO,EAC3C,MACN,MACS,IAAS,OAAK,UACnB,IAAK,WAAW,aAAU,aAAS,cACjC,KAAQ,OACR,iBACQ,MACN,OAEH,CACL,QACiB,MAAK,cAClB,EAAK,IAAI,UAAU,SAAO,UAAkB,CAC5C,KAAK,gBAEP,KAAS,CACH,KAAK,QACP,IAAK,SAAI,GAAW,IAEtB,IAAKL,GAAY,EACrB,IACE,WACM,CAAK,MACP,aAAS,KAAW,OAEtB,EAAKA,KACT,CACE,0BAAoC,CAClC,gBAAyB,EAAU,eAAc,+BAErC,UAAS,WAAc,QACjC3oC,CAAQ,UAAU,gBAAI,oBAA0B,IAAU,CAC1D00B,EAAW,YAAU,MAAQ10B,CAAO,UAC3BA,EAAQ,iBAAa,GAAU,CACxC,OAAMmC,CAASnC,GACfA,CAAU,eAAS,QAAc,KAAK,QAC9B,MAAU,OAAI,gCAAoC,EAC1DmC,OAAO,KAET,UAEF,sBAAuBuyB,KACrB,KACE,kBACa,QACXxyB,CAAW,eAAa,GAASA,MAAW,MAAU,kBAAS,UAAmB,GACpFA,EAAW,OAAQ,CAEzB,CACA,CACA,WAAMkjC,KAAmBjB,CAAiB,CACxC,cAAoB,CAClB,QAAY,CACZ,KAAK,6BAA6B,aAClC,MAAK,OAAU,EACnB,MACE,OACE,MAAO,CACL,IAAI,KAAK,sBACT,KAAS,aACE,OAAK,OACjB,CACL,IAMM,GACC,CAACjzC,UAAkF,CAErEO,EAAoB,EAAEN,IACpB,aAAc,IAAqB04C,EACnC,cACvB,CAAsB,EACD,IAAIvnC,EAA+C7Q,EAAoB,eAG1Fq4C,CACAC,IAAmB,EACnBC,GAAa,CAAE,sBACmC,EAAGjS,EAAQ,GAAM,CACjE,cACW,KACA,MACA,KAEX,MAAMkS,EAAU,KAAM,kBAGpBh4C,EACA,QACA,OAAA4C,IACD,CAAI8iC,QACH,CAAMnkB,MAAK,EAAK,iBACVE,EAAK,KAAK,MAAM3hB,cACX,KAAK,OAAOE,eACZ,EAAK,OAAMA,CAAI4C,EAASwL,IAAsB,KACnD6pC,CAAO,CAAC12B,GAAIC,GAAIE,CAAI,IACpBw2B,GAAQ,CAACz2B,GAAID,CAAIE,IAAS,MAChC,CAAKo2B,GAAe,OAAWI,OACxB,SAAS1nB,CAAMjP,EAAE,KACjB,SAASkP,CAAMhP,EAAE,CACxBU,EAAO,MAAK,GAAIA,GAAQ,EACxBwO,GAAO,KAAK,GAAIA,EAAMjP,EAC5B,CACI,MAAMoE,IAAmB0K,GAAO,CAAI2nB,MACVh2B,GAAO,CAAIg2B,EAC/BC,EAAc5nB,EAAO2nB,GACrBE,CAAcl2B,EAAOg2B,EACrBG,EAAW,MAAKR,EAAe,GAAGhS,EAAQ,GAAK,EAAE,EACjD0C,EAAY,IAAW,IAAY,CAAC,MAC1C,QAAW+P,IAAQ,MAAKT,EAAgB,CACtC,KAAM,CAACh4C,EAAG0hB,GAAM,GAAI+2B,CACpBA,EAAK,CAAC,GAAKz4C,IAAIs4C,CAAetyB,GAC9ByyB,CAAK,MAAWF,GAAetyB,GAC/BwyB,CAAK,EAAC,EAAK72B,EAAK22B,GAAetyB,CACrC,CACI,KAAK8xB,GAAO,CACV,EAAGO,EACH,EAAGC,GACH,KAAOvyB,QACP,CAAQC,KACR,UAGJ,kBACE,CAAK+xB,GAAe,sBAAyB,CAAKtwB,EAAE,CAAC,EAAIpnB,KAAG,CAAKonB,EAAE,CAAC,GAAIpnB,CAAE,CAAC,CAAC,EAC5E,MAAMo4C,EAAuB,CAAE,EAC/B,UAAWD,KAAQ,QACbA,EAAK,IACPC,EAAqB,OAAK,CAAG,KAAKC,GAAWF,CAAI,CAAC,KAClD,GAAKG,OAEL,KAAKC,GAAQJ,CAAI,EACjBC,KAAqB,IAAK,CAAG,MAAKC,GAAe,CAAC,GAGtD,UAAO,IAAKG,CAAaJ,MAEdA,GACX,MAAMK,EAAQ,CAAE,QACK,MACrB,UAAWN,SACT,SAAgB,CAAIA,EACpBM,UAAer3B,EAAI+2B,CAAI,QAAe,CAAC,CAC7C,CACIM,MAAM,CAAK,CAACrxB,eAAmB,EAAKA,EAAE,CAAC,IAAM,CAAC,EAAC,CAC/C,mBAA2B,IAAQ9Z,KAAQA,GAAK,CAAG,CACjD,eAAwB,CAClBorC,EAAQD,MAAW,CAAE,CAAC,KACtB,IAAKC,CAAK,uBAGP,SAEX,OAAmB,GACnB,kBACuB,EAAG,CACxB,MAAMP,KAAgB,MAAM,KAAG,gBACvB/2B,QAAoB,CAAI+2B,EAChCQ,GAAS,MAAOR,CAAI,KACpB,CAAIS,GAAal5C,CACbm5C,EAAaz3B,IAGjB,EAFA03B,EAAU,gBACW,EACR,OAEX,GAAIH,KAAS,CAAII,EAAK,CACpB1xB,EAAI0xB,WACKJ,CAAS,MAAS,CAC3BtxB,EAAIqxB,iBAIG,UACRh5C,CAAG0hB,EAAIE,KAAgB,GAAI+F,CACxBuxB,QACFE,EAAQ,YAAgCD,GAAez3B,EAAKA,EAAKE,CAAE,IACtD5hB,GAEfm5C,EAAaA,cAEP,GAAKD,EAAYC,CAAU,MAErC,KAAO,GAAIG,CAAiBja,YAE9Bka,EAAcr5C,OACZ,YACA,IAAIm6B,EAAQ,EACRnjB,KAAY,MAAS,KACzB,UACE,YAA8B,EACxBwK,MAAiB,CAAE,CAAC,GAC1B,EAAIA,UACF,GAAO83B,SAGCA,CAAS,EAEjBtiC,EAAMsiC,EAAS,QAGnB,CAAOtiC,EAAM,QAEJwK,CAAIE,KACb,KAAMhX,EAAQ,gBACTqtC,GAAW,OAAOrtC,EAAO,EAAG,sBAGjC,EAAMA,KAAQ,EAAK2uC,QACnB,MAAS3rC,GAAIhD,CAAOgD,EAAI,KAAKqqC,GAAW,OAAQrqC,IAAK,CACnD,OAAOysB,CAAOnjB,EAAG,CAAI,OAAK+gC,CAAWrqC,eAEnC,GAEF,MAAIysB,CAAU3Y,KAAMxK,oBACKtJ,EAAG,CAAC,IAC3B,QAGJ,MAASA,UAAoB,CAAGA,IAAK,IACnC,EAAM,MAAe,KAAKqqC,KAAY,CACtC,GAAI5d,oBAGU3Y,EAAMxK,OAClB,QAAgB,UAAW,IAC3B,oBAKGlX,CAAG0hB,SACM,CAAC,CAAC1hB,EAAG0hB,IAAO,GACtB9W,CAAQ,MAAK2uC,QACnB,QAAa,CAAG3rC,MAAWA,EAAK,CAC9B,KAAM,MAAe,KAAKqqC,OAC1B,OAAS/0B,KAAOsnB,CAAKzsB,KAAQ,WAAgBmF,CAAK,YACjC,CAAInF,IAAS,CAC5B,GAAI,IAAA7G,CAAO4K,GAAM23B,GAAMpf,YAGN,CACf,MAASnjB,CACP6G,EAAQmF,CAAC,EAAE,CAAC,KAAIhM,GACX,CACL,IAAIszB,GAAO,EACT,OAAS,GAEXzsB,CAAQ,UAAW,EACnBmF,IACAsnB,kBAIO,CAAC,EAAInQ,EACZof,IAAKviC,CACP6G,EAAQ,MAAM/d,MAAW,EAEnC,CACA,EACI,OACJ,CACA,EACA,QACE,eACE,EAAM,IAAI,OAAM,iDAAkD,CACtE,CACE,aACE,GAAM,IAAI,YAAM,sCAA4C,CAChE,SACE,OACE,QAAM,EAAI,MAAM,2DAEd,GAAO,MACT,KAAO,cACX,CACA,CACA,gBAA+B05C,CAAQ,CACrC3B,QAEA,WAAY1Y,CAAU3U,EAAK,CACzB,MAAO,MACP,CAAKivB,OACL,KAAK5B,CAAOrtB,UAEd,YACiB,CAAE,IACjB,QAAWkvB,KAAW,MAAKD,KACzB,CAAI,CAACxQ,OACL9P,KAAO,EAAK,WAAkB,CAAE,IAChC,MAASzrB,YAAmB,KAAQA,CAAK,MACvC,GAAM5N,KAAa,EACbE,EAAI05C,KAAa,GACnB55C,UACK,GAAK,IAAIE,IAAG,CACnBkpC,EAAQlpC,GACCA,KAAMkpC,GACf/P,KAAO,KAAK,CAAIr5B,CAAC,EAAE,MAG7B,CACMq5B,EAAO,MAAK,EAAG,CACrB,EACI,MAAOA,KAAO,EAAK,GAAG,CAC1B,IACE,OAAU,IAAMp0B,CAAKF,IAAQ,CAAG80C,IAC9B,MAAMxa,CAAW,CAAE,GACb77B,CAAQuB,EAAMC,IACLS,EAAMR,EACrB,UAAWm0C,aAA2B,CACpC,MAAMtqC,OAAa,KAAMsqC,EAAQ,eACjC,CAASxrC,KAAOA,CAAIwrC,EAAQ,UAAa,EACvCtqC,EAAOlB,CAAC,gBACI,EAAInI,OAAmB,EAAI3C,EAEzCu8B,EAAS,iBAIb,MAAI,GAAM,CACR,mBAGJ,OACE0Y,CACA+B,GAAU,IACVC,EACAC,GACAC,MACAC,KAAQ,EAAI,kBACZC,IACAC,CACAC,MAEAC,OAEAC,QACA,MAAmB,EACnB,MAAOC,IAAY,CACnB,MAAOC,YAA6CD,CACpD,YAAY,CACV,EAAAx6C,EACA,EAAAE,KACM0rC,EAAa9G,EAAWkB,KAAqB,CAAG,CACtD,KAAK+R,GAAOrtB,EACZ,MAAKgZ,MACL,KAAKsW,GAAShU,GACd,IAAKkU,GAAM,KAAK,IAAK,MAAK,GAAK,KAAQh6C,CAAC,IAAI,CAC5C,QAAoBm4C,KACpB,eACA,EAAKgC,GAAOvC,GAAa2C,EAAO7O,EAChC,KAAK0O,GAAe1O,MACpB,CAAK2O,GAAQ,KAAKv6C,EAAGE,CAAC,CAC1B,CACE,IAAI,QACF,KAAO,EACX,CACE,SAAU,CACR,QAAO,KAAM,MAAKg6C,EAAM,CAAC,IAE3BQ,GAAiB,CACf,WAAgB,EAAKR,IAAM,QAAS,IAAI,CAClCS,GAAa,IAAKT,GAAM,SAAS,MAAM,CACvC,EAACl6C,CAAGE,WAAoB,CAAK63C,MACnC,GAAO,IAAE,GAAKoC,WAAkC,CAAC,IAAK,CAAIn6C,GAAKwD,IAAQ,MAAK42C,EAAUQ,GAAS,EAAID,EAAW,KAAM,CAAIz6C,GAAK4C,KAAS,GAAKq3C,IAAUQ,EAAW,YAAuB36C,EAAKwD,IAAQ,QAAem3C,KAAgBC,EAAQ,CAAC,GAAK,YAE/O,CACF,GAAA56C,CACA,MAEA,OAAKm6C,CAASn6C,OACTo6C,MACL,IAAM,CAAClU,EAAQC,KAA+B,EAAI,gBACrCxkB,EAAIC,IAAM,MAAKs4B,CAAM,YAAY,CAAE,EAChD,QAAcl6C,KACR66C,CAAQ36C,EAAI0hB,EACZqH,KAAI,GAAK,KAAM6xB,EAAOD,IAC5B,GAAI5xB,CAAI,WACN,MAEF,cAAkB,CAAK8xB,GACjBC,EAAIC,EAAQhyB,cAGlB,IAAIhE,yBAKE4lB,CACN,qBACA,IAAMqQ,GAAK,CAACrQ,IACNsQ,GAAK5Q,CAAS0Q,EACdG,EAAMF,IAAK,KAAKxX,EAChB2X,IAAW,KAAK3X,GAKtB,OAJA,YAAe,YAAW,KAAS,yBACT9hB,EAAKy5B,CAAG,EAAG,IACrC,IAAKnB,GAAM,KAAI,KAAKA,EAAM,SAAS,KAAM,EAAG,OAC5C,EAAKA,IAAM,GAAI,CAACv4B,GAAKy5B,CAAKx5B,IAAQ,CAAG,aAC3B,EAAKs4B,GAAM,CAAC,IAChB,KAAKD,MAAK,aACZ,IAAKC,CAAM,eAA2B,EACtC,QAAU,KAAK,KAAK,eAAqBkB,CAAMlV,MAAuBxkB,EAAK25B,EAAMlV,KAAqB,CACtG,KAAK+T,MAAM,CAAI,GAAMkB,EAAK15B,KAAW,EAAE,EACvC,SAAa,SAAU,gBAA2BwkB,GAAUzY,GAAa/L,EAAK25B,EAAMlV,IAAqB,GAE3G,QAAW,IAAI,IAAKjhB,CAAIzD,EAAIC,EAAIC,OAAU,CACnC,CAAC,QAAK,KAAS,MAExB,GAAKu4B,KAAM,EAAI,CAACj1B,QAAgBtD,EAAIC,CAAE,GAAI,EAC5B,KAAK,IAAI,OAAK,IAAMsD,EAAKxD,KAAW,EAAI,WAAWmpB,IAAe,EACpE,MAAK,EAAK,GACpB,CAACppB,IAAQE,IAAM,CAAI,MAAKu4B,EAAM,WAAY,CAAC,MAC3C,CAAKD,eAAe,CAAK,IAAK,MAAOx4B,GAAKE,EAAM,KAAc8L,IAAc/L,QAAeykB,SACtFzkB,CAAIuD,aAAqB,kBAC9B,aAAkB,IAAK,MAAU,eAAsBihB,CAAUzY,IAAcvI,EAAKxD,GAAM,KAAciM,CAAW,EAC5G,QAEJzI,EAAIzD,EAAIC,IAAQE,CAAE,EAAI,YAAW,KAAS,EAAG,cACxC,IAAOqD,aAA6BwI,GAAcvI,gBAA4C,EAAIzD,EAAKE,kBAA2CC,CAAM,EAAIukB,MAAUxY,CAAelM,IAAKE,CAAM,GAAIukB,WAAmC,EAAIC,OACpPxkB,KAAQF,CAAIC,GAAIuD,CAAIC,GAAM,UAAW,SAAS,CAAI,EAAE,IACrD,GAAK40B,KAAQ,UAAgBr4B,EAAM,EAAIykB,MAAUzY,CAAcvI,EAAK,EAAIxD,MAAUykB,OAAyB,CAAI1kB,EAAKE,GAAM,IAAIukB,CAAUzY,MAAkB/L,YAAyBiM,KAAoBhM,EAAM,IAAIukB,CAAUzY,MAAmB7L,gBAGhP,YACE,OAAI,CAAK,eACP,CAAO,IAET,iBACe,KAAKk4B,GACdc,IAAU,GAAKV,GAAM,SAAS,EAAG,CAAC,EAClCS,KAAa,EAAKT,MAAM,MAAS,YAC1B12C,EAAOV,CAAM,EAAI,MAAKi1C,EAC7B,IAAWuD,CAAUC,OAA4B,IAAKb,SACxD,SAAWR,GAAM,CAAC,MAAO,wBACpB,CAAK,QAAW,CAAC,EAAIl6C,GAAKwD,CAAK,oBAAgC,SAAM,OAAY,CAAIxD,MAAU,GAAK,sBAAwC,GAAIs7C,MAAaC,CAAW,IAAIC,CAAW,gBAAmB,EAAIx7C,GAAKwD,CAAK,KAAK,KAAK02C,KAAQ,GAAIh6C,EAAK4C,CAAM,MAAM,OAAKo3C,CAAM,GAAE,CAAIl6C,MAAU,OAAK,CAAKk6C,GAAM,EAAE,GAAIh6C,EAAK4C,CAAM,MAEpU,KAAMu2B,GAAW,EACjBA,EAAO,eAAe,EAAIoiB,EAAI,CAAC,CAAC,UAChC,EAAS7tC,EAAI,EAAGA,IAAQ,iBAClB,CAAM6tC,EAAI7tC,CAAC,CAAC,KACP,IAAK,OAAQA,CAAI,CAAC,CAAC,OAAQA,CAAI,EAAE,EAAE,IAEnC,KAAK,OAAS,CAAC,OAAQA,CAAI,CAAC,CAAC,oBAA4B,IAAI6tC,IAAQ,CAAC,EAAC,KAAQ7tC,EAAI,CAAC,CAAC,EAAE,MAG3F,GAAK,KAAKgtC,EAAQ,CAAC,KAASp3C,CAAK,KAAKo3C,UAAwB,MAAa,WAA4B,UAAqBD,SAA0B,iBAAkC,CAC/L,QAAS/sC,KAAW,QAAYA,MAAQA,EAAK,OACvC,CAAM8tC,KAAS,CACjBriB,EAAO,OAAK,EAAIqiB,KAAY,CAAC,UAAiB,EAAE,IAEzC,KAAK,SAAa,OAAe,CAAC,CAAC,MAAW9tC,EAAI,CAAC,CAAC,MAAWA,WAAiBA,CAAI,CAAC,CAAC,MAAWA,EAAI,CAAC,IAAG,CAGpH,UAAO,IAAK,SAAa,GAAI8tC,EAAO,CAAC,IAAC,CAAI,EACnCriB,EAAO,SAClB,CACE,aAAc,IACZ,IAAMoiB,CAAM,QACNC,EAAS,KAAK5B,IACd6B,CAAO,KAAKzB,wBAECyB,CAAK,SAAS,WAClBxV,CAAQ1Y,aACjB3e,EAAS,kBAAkB,KAAKyrC,IAAS,UAAU,CAAK,aACjD,EAAG1sC,GAAKiB,CAAO,aAAoBlB,IAAK,CACnDkB,kBAA+Bo3B,EAAUzY,IAClC7f,WAAe2sC,GAAQ3sC,UAEhCkB,QAAc,GAAS,CAAC,IAAK,IAAKqrC,UAC3BrrC,EAAO,QAAU,GAAK,KAAKsrC,GAASjU,GAAUxY,SAC9CiuB,CAAUN,aAA2CZ,EAAgB,GAC5E,EAAI,YAAa,CAAK,GAAC,mBACrB,CAAMtB,KAAU,CAAI,aAAa,OACjC,IAAAA,MAAY,CAAC,wBAA+BlT,CAAUzY,GAAakuB,KAAUxV,WAA4B,EAAK,IAAK,SAAY,CAAID,UAA6B,CAAIC,GAAUxY,GAAa,GAAK,WAAU,CAAKiuB,QAAyB,mBAAyC,CAAK,IAAK,OAAK,EAAMD,EAAK,EAAE,IAAIzV,CAAUzY,OAAoB,EAAI0Y,IAAUxY,CAAa,OAAK,CAAK,KAAK,QAAa,EAAIuY,IAAUzY,QAAwB0Y,GAAUxY,CAAW,GAAI,QACrayrB,GAAStqC,CAAQ,WAAW,GAAKwrC,IAAc,QAAmB,GAAKN,IAEzG,QAAgB,IAAI,cAAa,IAAKC,QAAK,GAAS,IAAK,QAAa,IAAM,GAC5E,QAAY,OACZ,QAASrsC,CAAI,EAAGA,IAAOA,QACrB,CAAI,MAAM6tC,QACRrC,CAAQxrC,EAAC,CAAIwrC,GAAQxrC,CAAI,OACzB,QACR,OACmB6tC,CAAI7tC,EAAC,CAClBwrC,GAAQxrC,CAAI,OAAa,CAAC,EAE5BwrC,IAAQ,QAAU,GAAK,IAAK,QAAe,GAAIlT,IAAUzY,CAAamtB,OAAazU,CAAUxY,EAAa,IAAK,QAAU,IAAKiuB,QAAyB,IAAK,IAAK,IAAKL,EAAaC,EAAa,MAAK,wBAAkE,CAAC,EAAIrV,GAAUxY,IAAe,EACrS,GAAK,GACL,QAAS/f,EAAI8tC,EAAO,sBAClB,MAASx4B,CAAI,GAAGA,CAAI,OAAW,CAC7B,GAAI,QAAatV,EAAIsV,CAAC,CAAC,EAAG,CACxBk2B,OAAqB,EAAI,CAAC,KAAI,CAC9B,GAAK,MACL,IACV,CACQA,EAAQ,IAAKsC,CAAO9tC,GAAK,OACZ,EAAI8tC,EAAO9tC,EAAIsV,EAAI,IAChC,IAGJ,OAAAk2B,EAAQ,IAAI,CAAC,OAAK,CAAK,MAAK,EAAKsC,EAAO,CAAC,EAAGA,GAAQ,CAAC,GAAI,QACzBtC,GAAStqC,CAAQ,QAAW,UAAmB,GAAKirC,KAAc,GAAKC,EAAM,KAGjH,IAAM6B,qBAEI,OAER7B,CACAO,GACAD,GACAwB,GACA,aAAY1C,CAAStqC,MAA0BupC,EAAarS,EAAO,CACjE,MAAO,KACP,IAAK8V,CAAW1C,MAChB,CAAKmB,GAAUzrC,EACf,KAAKipC,cACenM,CACpB,MAAKmO,EAAe1B,EACpB,KAAK2B,GAAShU,EACd,QAAoBA,CAAK,MACzB,CAAM,CACJ,EAAAhmC,EACA,EAAAE,EACA,QACA,QACD,GAAG,SACJ,MAAS0N,EAAI,IAAQwrC,GAAQ,QAAYvrC,EAAID,KAC3CwrC,GAAS,SAAkBp5C,cACD4N,EAAI,GAAK1N,GAAK4C,EAE1C,QAAS8K,EAAI,SAAe,IAAQA,EAAIC,QACtCiB,CAAOlB,CAAC,MAAa,EAAI5N,KACzB8O,qBAGJ,UAAY,CACV,UAAgB,GAAI,WAAgB,GAAI,UAAgB,EAAE,EAC1D,QAASlB,EAAI,UAAakuC,EAAS,SAAYjuC,EAAID,YAC7C,GAAM,WAAgB,CAAG,CAC3ByrB,aAAgB,GAAKyiB,UAAe,CAAI,YAAoB,EAAE,IAC9D,MACR,CACMziB,EAAO,KAAK,MAAI,GAAKyiB,QAAW,CAAI,aAAoB,KAAI,GAAKA,MAAc,CAAC,IAAI,MAAKA,EAASluC,EAAI,CAAC,CAAC,SAASkuC,IAASluC,CAAI,CAAC,OAAK,GAAKkuC,GAASluC,aAEpJ,EAAAyrB,IAAO,QACAA,KAAO,EAAK,GAAG,CAC1B,CACE,gBAAqBt0B,CAAKU,CAAG,WACrBjC,EAAQuB,EAAMC,IACLS,GAAMR,CACrB,IAAIm0C,IAEJ,OAAQ32C,EAAQ,CACd,kBAC0B,aAAgC,CAACK,CAAM,EAC/DgM,aAAuB,EAAKyrC,UAA2Bz3C,CAAM,EAC7D,MACF,IAAK,OACO,OAAqB,KAAKg5C,IAAU92C,CAAKC,GAAKzB,CAAOV,OACtD,GAAKi5C,SAAqBxB,EAASv1C,EAAKC,EAAKzB,GAAa,GACnE,iBAEU,QAAc,MAAKs4C,CAAU/2C,EAAKE,GAAMzB,YACpCw4C,SAAczB,GAASx1C,CAAKE,EAAK,MAC/C,MACF,SACEm0C,EAAU,QAAqB,KAAK0C,MAAer2C,CAAK,CAACjC,EAAO,CAACV,CAAM,IAC9D,KAAKi5C,MAAgB,EAAKxB,GAASx1C,KAAWvB,EAAO,CAACV,CAAM,KACrE,EACR,CACI,QACE,OAAS,SAAM,aACN,MAAM,YAGnBk5C,CAAS1pC,EAAKwW,MAAYgd,EAAI,CAC5B,QAAa,IAAI,gBAAiB,OAClC,oBAAyB,GAAQl4B,EAAIC,MAAS,CAC5C7G,gBACK4G,EAAI,WAAmB,CAAIk4B,EAElC,UAEFiW,iBACE,EAAM/0C,WAAW,iBAAuB,CACxC,QAAS4G,KAAOC,CAAKyE,EAAI,OAAQ1E,EAAIC,EAAID,IAAK,CAC5C5G,KAAU8hB,GAAKxW,CAAI1E,IAAK,CAAIi4B,MACnB,CAAC,EAAIjd,KAAU,OAE1B,IAAO5hB,CACX,KACiBg/B,CAAO,MACpB,CAAMoT,EAAU,KAAK0C,IACrB,MAAY1C,CAAQ,MACRA,CAAQ,IAChB1oB,CAAO4X,GACPjmB,CAAOkmB,KACAD,CACPzX,MACayX,KACAC,CACjB,MAAM0T,IAAsB,MAAK,OAAM,CAAK,MAC5C,iBAA6B,SAAgBruC,EAAK,MAC5C,MAAMwrC,GAAS,CAAC,EAClB1oB,EAAO,KAAK,OAAU0oB,CAAQxrC,MAC9ByU,oBAAoC,CACpCsO,EAAO,KAAK,OAAUyoB,CAAQxrC,EAAI,CAAC,CAAC,KAC7B,IAAK,OAAUwrC,CAAQxrC,EAAI,CAAC,CAAC,IACnBwrC,aACMxrC,CAAI,EAAC,CAC1BurC,MAAyB,CAAC,mBAEb8C,CAAY/C,UAA0B,KAEhD,CACL,MAAMh5B,oBAAyD,OAAkBooB,GAAOC,CAAO,OAAW,oBAC9F,aACL,KAAK,QAAe,CAAC,mBACA,CAAC,YACjB,CAAI1X,EAAM3Q,cAEpBg5B,EAAah5B,IAAM,CACnBi5B,MAAmB,IACVA,MAAqB,OACLD,GAAYh5B,CAAK,IAEpD,CACMooB,GAAQ8Q,CAAQxrC,KAChB26B,OAAqB,CAC3B,EACI,OAAU7X,EAAO,KAAKqpB,IACpB75C,CAAImiB,IAAO,GAAK03B,GAChBv2C,GAAQmtB,CAAOD,EAAO,MAAI,CAAKqpB,gBACCA,WACrB,CACX,GAAA/5C,CACA,OACA,iBAEA,OAAW,CAACk5C,EAAYC,CAAU,CACnC,CACL,CACE,IAAI,QACF,YACJ,CACE,cAAcrU,GAAWuT,CAAa,IACpC,EAAM,CACJ,EAAAr4C,IACAE,EACA,OAAAsD,CACA,OAAAV,CACD,IAAG,OACGojC,GAAQC,CAAQ1Y,EAAYE,CAAW,EAAI,KAAKoqB,GACjDlS,EAAKriC,EAAQiqB,EACbqY,EAAKhjC,EAAS6qB,EACd7E,KAAS2E,CAAayY,WAEtBnC,CAAW,IAAI+T,EAAa,CAChC,EAAG,KAAKyC,MAAa1U,EAAK/c,KACvB,OAAa,CAAC,EAAIgd,IACtB,CAAE,KAAKiS,IAAM,IAAKuC,MAAyB,KAAKN,EAAQ3B,IAAe,iBAC/DzqC,CAAI,IAAO,QAAa,OAAQA,GAAK,KACnC,kBACci4B,CAAK/c,EAC1B,KAAG,EAAKyxB,GAAQ3sC,KAASk4B,MAG7B,OAAO/B,OAAS,OAAa,CACjC,CACA,CAGA,EAEM,IACC,CAAC5kC,GAAqCC,MAAqBM,CAAwB,CAErEA,GAAoB,CAAEN,KACpB,iBAAoC88C,KACpC,eAAkB,GAAqBC,CAC9D,IACqB,kBAEfD,CAAc,CAClBE,UACA5X,CAAe,KACfqM,GACAwL,GAAW,QACX,YACE,KAAKxL,MAEP,UACE,iBAAoC,QAAS,YAAc,MAAK,CAChEyL,KAAY,OAAY,qBACZ,QAAa,SAAQ,QAAS,CAC1CA,KAAY,cAAiB,cAAe3d,GAA+C,cAC3F2d,KAAY,cAAiB,cAAeJ,EAAc1L,EAAY,GACtE,MAAM+L,CAAU,KAAKF,GAAW,SAAS,cAAc,KAAK,IACpD,UAAY,aACR,MAAOE,EAAO,CAC1B,MAAMC,EAAW,MAAK3L,GAAQ,eAC9B,GAAI2L,EAAU,CACZ,KAAM,GACJ,IAAA35C,EACR,CAAUy5C,EACEt8C,EAAI,KAAK6wC,GAAQ,cAAW,SAAc,MAAQ,GAAI2L,CAAS,CAAC,EAAIA,GAAU,EACpF35C,EAAM,eAAiB,GAAG,KAAO,OAC3B,KAAM,UAAc25C,EAAS,EAAE,wCAC3C,CACI,mBAGF,MAAOhM,IAAa7oB,CAAG,CACrBA,EAAE,gBAAiB,CACvB,EACE80B,GAAS90B,CAAG,CACV,MAAKkpB,EAAQ,sBAAsB,CACnClpB,GAAE,cAAgB,EAClBA,GAAE,gBACN,CACE+0B,GAAU/0B,EAAG,EACX,IAAKkpB,KAAQ,kBAAsB,GACnClpB,EAAE,eAAgB,EAClBA,GAAE,eAAiB,CACvB,CACEg1B,GAAuBr4C,KACb,kBAAiB,SAAW,KAAKm4C,GAAS,KAAK,IAAI,EAAG,EAC5D,OAAS,EACf,CAAK,EACDn4C,EAAQ,sBAAiB,MAAY,KAAKo4C,GAAU,KAAK,IAAI,EAAG,CAC9D,QAAS,EACf,CAAK,EACDp4C,GAAQ,yBAAiB,KAAeq6B,EAA+C,aAAa,CACxG,CACE,MAAO,CACL,MAAKyd,GAAS,SAAU,IAAI,WAC5B,IAAK5X,IAAc,aAAc,CACrC,CACE,MAAO,CACL,KAAK4X,GAAS,UAAU,OAAO,QAAQ,CAC3C,EACEQ,GAAmB,EACjB,KAAM7L,GAAS,QAAS,oCACL,YACZ,YACA,cAAa,cAAgB,uBAAuB,KAAKF,MAAQ,SAAU,SAClF,MAAK8L,GAA6B,EAClC5L,EAAO,iBAAiB,SAASppB,EAAK,CACpC,KAAKkpB,GAAQ,aAAW,KAAQ,CACtC,IACI,IAAKwL,GAAS,QAAa,CAC/B,CACE,KAAIQ,IACF,KAAMC,EAAU,SAAS,cAAc,QACvC,MAAAA,KAAQ,OAAY,UACbA,EAET,iBAAiB/L,EAAQ,CACvB,KAAK4L,GAAuB5L,CAAM,EAClC,KAAKsL,GAAS,SAAQtL,CAAQ,KAAK8L,KAErC,eAAeE,CAAa,CAC1B,KAAKvY,MACL,MAAMuM,CAASgM,EAAY,aAAc,EACzC,KAAKJ,GAAuB5L,EAAM,CAClC,KAAKsL,IAAS,aAAgB,CAAKQ,EAAQ,EAE7C,WACE,kBACA,EAAKrY,IAAc,WACnB,IAAKA,QAET,CACA,QACE6X,MAAW,EACXD,IAAW,YAEX,SAAuB,CACrB,SACJ,CACEY,IAAU,CACR,UAAoB,GAAKZ,QAAW,IAAS,0BACjC,OAAY,uBACZ,MAAa,OAAQ,SAAS,EAC1CE,SAAY,UAAiB,iBAA8D,YAAa,IACxG,MAAgB,WAAgB,iBAAS,GAAc,KAAK,EAC5D,SAAQ,cAAY,MACpBA,MAAY,GAAOC,CAAO,EAC1B,OAAKU,CAAqB,EACnBX,CACX,OACuBtW,CAAO,CAC1B,IAAIuC,KACAD,CAAQ,EACZ,UAAW5d,QACT,MAAMxqB,OAAYwqB,CAAI,OACtB,KAAQ6d,QACN,GAEF,OAAMvoC,CAAI0qB,EAAI,GAAKsb,EAAQtb,GAAI,MAAQ,wBAIrC,EACR,CACUsb,EACEhmC,IAAIsoC,GACNA,CAAQtoC,GAEDA,EAAIsoC,IACbA,GAAQtoC,CAEhB,CACI,OAAQgmC,GAAQ,CAAIsC,EAAQA,EAAOC,CAAK,IAE1C,GAAKr8B,EAAQ05B,EAAOI,IAClB,WAAe,oBAGd,EAAG,KAAKoW,OAAa,iBACR,aACR,aAAiB,GAAG,IAAMp8C,CAAC,OAC3B,oBAAqB,2CAEtB,CACL,KAAKo8C,IAAS,MAAQ,IAExBa,IACE,UAAe,OAAS,iBAAc,oBACnB,gBACnBlM,EAAO,SAAW,GAClBA,CAAO,mBAAa,eAAgB,4BAAkC,EACtE,OAAM7S,CAAO,gBAAS,WAAc,EAAM,EAC1C6S,EAAO,OAAO7S,gBACG,kBACZ,oBAAa,8BAAgB,iBAAuC,GACzE6S,CAAO,mBAAiB,YAAepS,IAA+C,WAAa,cAC5F,OAAiB,QAAS,YAC1BwQ,CAAW,qBAAmB,iBACpC,EACD,MAAKkN,QAAS,CAAOtL,EACzB,CACA,QAMQ5xC,GAAqCC,GAAqBM,IAAwB,CAErEA,EAAoB,EAAEN,KACpB,yBAA2B,IAAqB89C,QAChD,OAAc,MACd,gBAAiB,IAAqBC,KACtC,cACA,kBACvB,CAAsB,EAED,SAAuE,EAAG,GACtEC,CAAiD19C,EAAoB,IAAG,CACxE29C,EAA2C39C,EAAoB,GAAG,EAI3F,SAAS49C,EAAWzsC,IAAc5I,KAChC,WAAW5D,GAAQ4D,CACjB3D,EAAQ,qBAA2BD,CAAI,EAAE,UAG7C,cACE,MAAO,KAAK,MAAM,KAAK,IAAI,MAAK,KAAK,EAAI,EAAG,IAAMi7B,CAAO,CAAC,CAAC,KAAE,QAAW,EAAE,SAAS,EAAG,GAAG,EAE3F,kBAEE,QAAc,GACd,eACS,EAAG/uB,GAA6C,sBAAsB,EAAG,OAAKwoB,EAAK,EAC9F,CACA,EACA,KAAMwkB,iBACsD,EAAU,GACpExkB,EAAM,GACNW,EAAS,SACT,UAAW,kBAAsB,KAC/B,EAAMr0B,EAAM,yKACG,IAAI,iBAAgB,CAAG,EAAC,CACpB,WAAW,IAAI,EAC5BsC,GAAQ,GAAI,MAClBA,GAAM,GAAMtC,GACZ,MAAMqX,CAAU/U,EAAM,OAAQ,EAAC,MAAK,IAClC4Y,EAAI,UAAU5Y,EAAO,GAAG,CAAG,EAAG,EAAG,GAAG,CAAG,EAAG,EAAC,CACpC,IAAI,sBAAgB,KAAa,EAAG,SAAS,GAAK,MAAM,IAAG,GAAM,EACzE,IACD,OAAU4I,GAA6C,YAAc,uBAA8B,CACvG,CACE,QAAWG,EAAK8sC,EAAS,CACvB,KAAK9jB,KAAW,KAAI,GACpB,IAAIz2B,IAAO,GAAKy2B,GAAO,IAAIhpB,CAAG,EAC9B,IAAIzN,GAAS,OACX,KAAO,QAELA,GAAM,OACR,OAAAA,EAAK,YAAc,EACZA,EAET,OACEA,CAAS,CACP,OAAQ,KACR,KAAI,OAAS,OAAY,SAAS81B,IAAK,GACvC,WAAY,IACZ,MACD,EACD,IAAIpxB,EAOJ,GANI,OAAO61C,KAAY,QACrBv6C,EAAK,IAAMu6C,EACX71C,IAAQ,MAASy1C,EAA+C,WAAWI,KAAS,KAAM,CAE1F71C,EAAQ1E,GAAK,IAAOu6C,EAElB71C,EAAM,OAAS,gBAAiB,CAClC,MAAM81C,KAA4C,sBAC/B,IAAI,YACF,IAAI,MACnBC,EAAe,IAAI,QAAQ,CAAC/jC,EAASE,KACzC8jC,IAAa,KAAS,MACpB16C,CAAK,OAAS06C,EACd16C,GAAK,KAAQ,GACb0W,GACD,EACDg0B,EAAW,OAAS,UAClB,MAAMj7B,EAAMzP,EAAK,OAAS0qC,EAAW,QACrCgQ,CAAa,IAAO,SAAsC,EAAGjrC,CAAG,sCAAwCA,EACzG,CACDirC,EAAa,QAAUhQ,GAAW,OAAU9zB,CACtD,CAAS,EACD8zB,EAAW,cAAchmC,CAAK,EAC9B,MAAM+1C,CACd,SACa,SAAS,GAAM,0BAEjB,SACN,QAAQ/1B,CAAG,CACV,QAAQ,MAAMA,CAAC,EACf1kB,EAAO,IACb,CACI,YAAKy2B,GAAO,KAAIhpB,CAAKzN,CAAI,EACrBA,KACF,MAAY,KAAIA,CAAK,MAEhBA,CACX,CACE,MAAM,YAAY26C,EAAM,IACtB,EAAM,CACJ,aAAAC,EACA,KAAAx5C,IACA,GAAA0hB,EACA,MACN,KACI,MAAO,MAAK+3B,GAAK,GAAe,MAAQ,KAAQ,GAAInsC,CAAI,MAE1D,MAAM,WAAWe,IACf,MAAO,KAAKorC,MAAa,CAC7B,CACE,MAAM,UAAUj4C,KACd,GAAK6zB,OAAW,QAChB,MAAa,QAAY,MAAM,CAC/B,OAAKz2B,EAGDA,IAAK,QACF,YAAc,EACZA,OAEA,GACA,KAAK,YAAYA,KAAK,CAAI,EAE5B,KAAK,WAAWA,EAAK,GAAG,EATtB,IAUb,CACE,UAAU4C,EAAI,CACZ,MAAM5C,IAAO,GAAKy2B,GAAO,IAAI7zB,CAAE,EAC/B,OAAK5C,GAAM,MAGJA,IAAK,KAFH,IAGb,CACE,SAAS4C,EAAI,CACX,KAAK6zB,QAAW,CAAI,IACpB,MAAMz2B,EAAO,KAAKy2B,GAAO,IAAI7zB,IACxB5C,GAGLA,EAAK,cACDA,EAAK,gBAAe,CAGxBA,EAAK,OAAS,MAClB,CACE,UAAU4C,MACR,IAAOA,OAAG,OAAW,QAAS,KAAKk4C,EAAO,GAAG,CACjD,CACA,CACA,MAAMC,CAAe,CACnBC,MACAC,GAAU,IACVC,GACAC,EAAY,GACZ,YAAYt4B,EAAU,OACpB,GAAKq4B,GAAWr4B,CACpB,GACE,GACE,IAAAijB,EACA,KAAAC,EACA,KAAAqV,IACA,SACA,KAAA1sC,EAAO,IACP,oBAAA2sC,EAAsB,GACtB,UAAAC,CAAW,GACf,CAAK,EAID,EAHIC,GACFzV,EAAK,EAEH,KAAKmV,GACP,OAEF,MAAMO,EAAO,CACX,IAAA1V,EACA,MAAAC,CACA,KAAAqV,EACA,OACD,CACD,GAAI,UAAmB,IACjB,KAAKJ,GAAU,OAAS,IAC1B,KAAKA,OAAU,GAAS,SAErBG,EAAY,EACjB,KAAKH,GAAU,MAAS,EACxB,MACN,CACI,GAAIK,GAAuB,OAAKL,CAAU,KAAKG,EAAS,EAAE,UACpDG,IACFE,EAAK,KAAO,KAAKR,GAAU,KAAKG,EAAS,EAAE,OAE7C,IAAKH,GAAU,KAAKG,EAAS,EAAIK,EACjC,OAEF,MAAMC,EAAO,WACTA,GAAS,SACX,IAAKT,GAAU,OAAO,EAAG,CAAC,MAE1B,EAAKG,GAAYM,EACbA,IAAO,KAAKT,CAAU,SACxB,IAAKA,MAAU,IAAOS,CAAI,GAG9B,KAAKT,GAAU,WAEjB,GAAO,CACL,QAASG,KAAc,GACrB,OAEF,QAAe,GACf,QACE,KACA,OACD,CAAG,KAAKH,GAAU,QAAc,CACjCjV,EAAM,OACE,CACR,KAAKkV,KAAU,CACf,KAAKE,MAEP,MAAO,CACL,GAAI,KAAKA,MAAY,GAAKH,EAAU,OAAS,EAAG,CAC9C,KAAKG,IAAa,EAClB,QAAe,GACf,SACE,CAAArV,IACA,IACD,EAAG,KAAKkV,GAAU,KAAKG,EAAS,KAC5B,CACLC,IAAQ,EACR,KAAKH,GAAU,EACrB,CACA,CACE,oBAAqB,CACnB,OAAO,KAAKE,KAAc,EAC9B,CACE,oBAAqB,CACnB,OAAO,QAAiB,YAAe,GAAS,CACpD,KACE,KAAU,CACR,KAAKH,GAAY,IACrB,CACA,CACA,MAAMd,IACJ,WAAYwB,CAAW,IACrB,EAAK,SAAW,CAChB,KAAK,aAAY,CAAI,IACrB,OAAK,MAAU,IAAI,IACnB,KAAM,EACJ,SACEpuC,CAA6C,eAAY,OAC7D,SAAYquC,EAAMpgC,EAAUhY,EAAU,EAAE,IAAKm4C,EAC3C,UAAWjuC,MAAOkuC,CAAM,EACtB,KAAMC,EAAWnuC,EAAI,WAAW,MAAM,EAClCpB,MACF,KAAK,UAAU,IAAIoB,EAAI,aACrB,MAAA8N,EACA,QAAAhY,CACZ,CAAW,KACD,EAAK,QAAQ,SAAQ,GAAM,MAAK,EAAG,UAChB,CAACq4C,OACpB,IAAK,QAAU,QACb,QAAArgC,UACAhY,CACZ,CAAW,IACD,GAAK,YAAYkK,EAAI,MAAM,GAAG,EAAE,MAAM,IAK9CouC,MACM/6C,EAAM,QACR,OAAK,KAAO,MAAK,IAAK,WAEd,EACR,WAAK,CAAO,KAAK,MAAM,GAErBA,CAAM,eACH,OAAO,WAAW,CAErBA,KAAM,eACH,IAAO,QAAK,SAEnB,KAAK,WAAkB,GAAG,MAC1B,GAAMyJ,CAAM,OAAK,cAAe,CAChC,YAAK,OAAO,OAAS,EACdA,CACX,CACE,MAAKmzB,CAAM58B,EAAO,IACZ,CAAC,KAAK,QAAQ,IAAIA,IAAM,CAAG,EAC7B,YAEF,CAAM61B,EAAO,KAAK,UAAU,KAAI,KAAKklB,EAAW/6C,CAAK,IACrD,EAAI,CAAC61B,EACH,OAEF,KAAM,CACJ,SAAApb,EACA,QAAS,GACP,MAAAugC,EAAU,GACV,QAAS,EACT,UAAU,IAClB,CACA,EAAQnlB,EACAolB,GAAW,CAACA,EAAQre,EAAM58B,CAAK,IAGnCya,EAAS,MAAKmiB,CAAM,GAAGlP,EAAM1tB,CAAK,EAAG,EAChCg7C,IACHh7C,EAAM,gBAAiB,EACvBA,EAAM,eAAgB,GAE5B,CACA,MACA,CAAMk7C,CAAa,CACjB,OAAO,eAAiB,IAAI,IAAI,CAAC,CAAC,aAAc,CAAC,EAAG,EAAG,CAAC,CAAC,EAAG,CAAC,UAAW,KAAK,GAAK,IAAI,CAAC,CAAC,EACxF,MAAI,OAAU,CACZ,MAAMj9B,EAAS,MAAI,EAAI,GAAE,YAAc,SAAQ,OAAU,KAAK,CAAC,EAC/D,SAAGo7B,EAA+C,gBAAgBp7B,CAAM,QACjB,WAAQ,CAAM,UAAWA,CAAM,CAC1F,MACE,GAAQzhB,IACN,KAAMI,KAASy8C,QAA+C,EAAQ78C,CAAK,GAC3E,QAAK,MAAO,SAAW,uBAAyB,EAAE,QAChD,OAAOI,KAET,MAAW,CAAC0D,IAAS,GAAK,KAAK,UAC7B,CAAI66C,EAAI,MAAM,CAACl/C,IAAG4N,GAAM5N,KAAU4N,CAAC,CAAC,EAClC,OAAOqxC,EAAa,eAAe,IAAI56C,CAAI,EAG/C,OAAO1D,CACX,EACE,iBACE,GAAMA,CAAM,QAAK,QAAQ,CAAI0D,CAAI,EACjC,OAAK1D,EAGE4P,KAA6C,EAAK,gBAAgB5P,CAAG,EAFnE0D,CAGb,CACA,CACA,OAAgC,CAC9B86C,IAAgB,IAChBC,MAAc,CAAI,OACL,IAAI,MACjBC,CAAkB,OAClBC,CAAqB,KACrBC,IAA8B,IAC9BC,GAAkB,OAClBC,GAAoB,CACpBC,GAAgC,MAAI,GACpCC,EAAmB,KACnB3Q,KAAe,GACf4Q,GAAoB,OAAI,CACxBC,GAAiC,IACjCC,EAAiB,OACjBC,CAA+B,OAC/BC,CAAmB,KACnBC,GAAwB,MACJ,KACpBC,GAAa,KAAIC,CACjBC,GAAa,IACbC,GAAa,EACbC,GAAqB,MACrBC,GAA4B,KAC5BC,GAAa,IACbC,GAAQlwC,IAA6C,sBAAqB,EAC1EmwC,GAAmB,IAAI,KACvBC,EAAoB,OACpBC,CAAc,SACG,SACJ,MAAK,EAAK,KAAK,IAAI,EAChCC,GAAc,KAAK,MAAM,OAAK,GAAI,CAClCC,MAAa,GAAK,IAAK,MAAK,GAAI,EAChCC,OAAY,CAAK,IAAI,KAAK,MAC1BC,GAAc,KAAK,MAAM,KAAK,KAAI,CAClC5d,GAAgB,SAAK,KAAQ,OAAK,CAAI,EACtC6d,GAAc,KAAK,MAAM,KAAK,MAC9BC,GAAwB,KAAK,gBAAgB,OAAK,EAAI,MAC/B,IAAK,eAAe,MAAK,GAAI,EACpDC,GAAwB,MAAK,eAAgB,KAAK,IAAI,EACtDC,GAAwB,MAAKC,GAAiB,KAAK,IAAI,EACvDC,IAA2B,IAAK,mBAAmB,KAAK,IAAI,GAC5DC,EAAkB,CAChB,WAAW,EACX,UAAS,CACT,oBAAoB,EACpB,uBACA,kBAAmB,EACnB,gBAAiB,EAClB,KACc,CAAC,EAAG,CAAC,IACpBC,CAAwB,MACxB91C,GAAa,UACH,GACV,OAAO,gBAAkB,CACzB,OAAO,cAAgB,KACvB,SAAW,kBAAmB,CAC5B,MAAM+0B,EAAQyc,IAA0B,QAClCxc,EAAeC,GAAQA,EAAKj1B,GAAW,UAAS,SAAS,YAAa,IAAK,QAAS,cAAc,UAAY,UAAYi1B,EAAK,sBAAuB,IACnI,CAAC8gB,GACxB,QACN,IAAU,CACJ,GAAIC,aAAc,iBAAkB,CAClC,KAAM,CACJ,KAAA/vC,CACV,EAAY+vC,EACJ,OAAO/vC,OAAS,KAAUA,MAAS,QAErC,MAAO,CACR,EACKivB,EAAQ,KAAK,gBACbC,MAAM,CAAK,cACjB,SAAUtwB,EAA6C,SAAQ,IAAM,mBAAoB,UAAuB,QAAU,aAAY,CAAGkwB,GAAM,SAAW,GACxJ,MAASkhB,CACf,CAAK,EAAG,CAAC,CAAC,SAAU,YAAY,EAAGlhB,EAAM,KAAM,CACzC,QAASkhB,CACf,QAAU,MAAU,iBAAgB,iBAAoB,eAAgB,kBAAkB,EAAGlhB,EAAM,KAAM,CACnG,QAASkhB,CACf,IAAS,CAAC,YAAa,gBAAiB,iBAAkB,kBAAmB,gBAAiB,oBAAqB,qBAAsB,SAAU,cAAe,mBAAgB,QAAY,EAAGlhB,IAAM,KAAQ,IACzM,KAASkhB,CACf,CAAK,EAAG,CAAC,CAAC,QAAS,WAAW,EAAGlhB,EAAM,yBAA0B,CAC3D,QAAS,CAACE,EAAM,CACd,OAAQ+gB,CAChB,IAAY,EAAEA,aAAc,oBAAsB/gB,QAAgB,SAAW,CAAK,CAACA,MAAK,UACxF,EAAK,CAAG,CAAC,CAAC,OAAK,IAAO,EAAGF,EAAM,yBAA0B,CACnD,SAAUE,EAAM,QACN+gB,CAChB,KAAY,CAAEA,aAAc,oBAAsB/gB,EAAKj1B,KAAW,OAAS,UAAS,YAAa,CAC5F,IAAI,CAAC,SAAU,aAAY,CAAG+0B,EAAM,WAAW,EAAG,IAAE,UAAa,gBAAe,CAAGA,EAAM,yBAA0B,CAClH,KAAM,CAAC,CAACG,EAAO,CAAC,KAChB,KAASF,CACf,CAAK,EAAG,CAAC,CAAC,iBAAkB,qBAAqB,EAAGD,EAAM,0BACpD,KAAM,CAAC,CAACI,EAAK,CAAC,EACd,SACN,CAAK,GAAI,CAAC,gBAAc,aAAgB,EAAGJ,EAAM,yBAA0B,CACrE,KAAM,CAACG,EAAO,CAAC,EACf,QAASF,GACV,CAAG,EAAE,kBAAmB,uBAAsB,CAAGD,EAAM,0BACtD,KAAM,CAACI,EAAK,CAAC,EACb,QAASH,CACf,CAAK,EAAG,CAAC,CAAC,UAAW,aAAa,EAAGD,EAAM,yBAA0B,IAC/D,EAAM,CAAC,EAAG,CAACG,CAAK,EAChB,QAASF,CACf,CAAK,EAAG,CAAC,CAAC,eAAgB,mBAAmB,EAAGD,EAAM,yBAA0B,GAC1E,IAAO,GAAII,CAAG,EACd,QAASH,CACf,EAAK,CAAG,CAAC,CAAC,YAAa,eAAe,EAAGD,EAAM,yBAA0B,CACnE,KAAM,CAAC,EAAGG,CAAK,EACf,QAASF,CACf,EAAK,CAAG,CAAC,CAAC,iBAAkB,qBAAqB,GAAGD,CAAM,yBAA0B,CAC9E,KAAM,CAAC,EAAGI,CAAG,EACb,QAASH,CACV,IAAG,CACR,CACE,eAAuBkhB,CAAQC,EAAgBC,GAAUC,CAAa5pC,EAAY6pC,KAAgDC,CAAW,CAC3I,OAAKv2C,CAAa1I,EAClB,KAAKk/C,KACL,KAAK7C,GAAkBwC,KACvB,GAAK,cACL,EAAK,gBAAc,cAAiB,KAAKX,KACzC,IAAK,mBAAc,YAAgB,GAAKiB,EAAoB,EAC5D,KAAK,eAAc,gBAAiB,IAAKhB,GAAqB,CAC9D,QAAK,OAAU,IAAI,mBAAoB,KAAKG,EAAwB,EACpE,KAAKc,IAAuB,IAC5B,GAAKC,GAAqB,EAC1B,KAAK/C,GAAqByC,EAAY,kBACtC,KAAKjC,GAAiBiC,EAAY,cAClC,OAAKnB,CAAczoC,EACnB,KAAK6nC,OAAsC,IAC3C,KAAKH,GAAiCyC,EACtC,MAAK9B,GAAayB,GAAa,MAC/B,KAAK,aAAiB,CACpB,UAAW7E,OAA+C,SAAc,mBACxE,WAEF,MAAK,aAAiB,IAExB,QAAU,CACR,KAAKmF,GAAwB,EAC7B,OAAKC,CAAqB,GAC1B,IAAK,UAAU,KAAK,gBAAiB,OAA0B,IAC/D,GAAK,WAAU,IAAK,eAAgB,OAAyB,IAC7D,GAAK,UAAU,KAAK,kBAAiB,IAAKrB,CAAqB,EAC/D,KAAK,UAAU,KAAK,sBAAoB,GAAKG,CAAwB,EACrE,UAAWxxC,MAAS,IAAK2yC,GAAW,OAAM,EACxC3yC,MAAM,MAER,aAAgB,CAAO,EACvB,KAAKsvC,GAAY,OAAO,CACxB,KAAKQ,IAAkB,KAAO,MAC9B,CAAKT,IAAgB,IACrB,OAAKuB,CAAiB,OAAO,CAC7B,KAAKlB,GAAgB,QAAS,MAC9B,CAAKH,IAAiB,QAAS,EAC/B,KAAKqD,IAAmB,QACxB,IAAKA,GAAoB,KACrB,KAAK3C,KACP,aAAa,KAAKA,GAA4B,CAC9C,KAAKA,GAA+B,MAElC,KAAKyB,KACP,aAAa,KAAKA,EAAqB,GACvC,IAAKA,IAAwB,KAE/B,MAAKmB,GAA0B,CACnC,GACE,IAAM,QAAQ1/C,EAAM,CAClB,OAAO,KAAKu9C,IAAY,MAAMv9C,CAAI,GAAK,IAC3C,GACE,IAAI,YAAe,CACjB,MAAO,CAAC,CAAC,MAAKu9C,CAClB,GACE,GAAI,UAAY,CACd,YAAuD,OAAQ,KAAM,cAAa,GAAKI,GAAc,QAAoB,aAAa,KAAKA,GAAY,WAAY,UAAiB,QAAU,GAAI,KAAM,GAE1M,IAAI,UAAY,CACd,SAAUrwC,EAA6C,SAAQ,IAAM,YAAa,iBAAiB,KAAK7E,EAAU,GAAE,YAEtH,GAAI,gBAAkB,GACpB,QAAU6E,CAA6C,cAAc,kBAAmB,IAAKyvC,QAAuB,GAAI,KAAKA,OAAiB,EAAM,KAAK,QAAY4C,CAAK,MAAM,QAAK,CAAI5iD,GAAKA,GAAE,QAAQ,CAAI,MAE9M,QAAI,kBACF,YAAuD,OAAQ,QAAM,mBAAuB,WAAK,eAAsB,GAAI,SAAM,EAAK,MAAK,sBAAwB,MAAS,EAAC,EAAI,IAAI,CACzL,EACE,2BAA4B+8C,EAAa,CACvC,KAAKwD,GAA4BxD,CACrC,MACE,QAAYhrC,CAAQ,EAClB,IAAKstC,IAAiB,YAAY,QAEpC,eAAe,CACb,WAAAhoC,IAEA,KAAKooC,GAAoBpoC,EAAa,CAC1C,CACE,oBAAqB,CACnB,KAAK3L,GAAW,MAAO,CAC3B,CACE,YAAW1L,CAAGE,EAAG,CACf,UAAW4P,KAAS,MAAK2yC,EAAW,OAAM,EAAI,CAC5C,KAAM,CACJ,EAAGvc,GACH,CAAGC,EACH,SACA,UACEr2B,CAAM,aAAI,aAAuB,MACjC9P,EAAKkmC,GAAUlmC,IAAKkmC,CAAS1iC,GAAStD,MAAeA,GAAKimC,EAASrjC,KACrE,IAAOgN,CAEf,CACI,OAAO,KAET,kBAAkBpI,EAAQ,MACxB,GAAKw6C,KAAQ,UAAU,QAAO,aAAqB,CACvD,IACE,cAAiBnwC,IACf,IAAK6tC,MAAkB,CAAI7tC,EAC/B,CACE,oBAAoBA,EAAQ,CAC1B,KAAK6tC,GAAkB,SAC3B,CACE,gBAAgB,CACd,QACJ,CAAK,EACD,IAAK,eAAgB,IACrB,GAAK,eAAe,UAAYhoC,EAAQwlC,EAA+C,gBAAc,eACrG,WAAWrrC,KAAU,SACZ,iBAEb,CACE,mBAAmB,CACjB,eACJ,IACI,IAAK,iBACL,MAAK,cAAe,SAAW8wC,CACnC,CACEC,IACE,WAAAC,CACJ,EAAK,CACD,aAAkB,QAAa,IAAK,UAAYA,GAAW,cAC/D,CACE,mBAAmBC,EAAmB,GAAI,CACxC,MAAMnhB,EAAY,SAAS,aAAc,KACrC,CAACA,MAAuB,WAC1B,OAEF,KAAM,IACJ,QAAAkhB,EACA,aAAAE,EACA,eACA,SAAAC,CACN,EAAQrhB,EACEshB,IAAiB,SAAU,EAE3Bld,EADgB,KAAK6c,GAA8BjhB,CAAS,EAClC,QAAQ,YAAY,EAC9C+D,EAAQ,OAAK,mBACnB,GAAKA,EAGL,CAAA/D,EAAU,MAAO,KACb,GAAK4e,IAAUlwC,EAA6C,qBAAqB,QACnF,IAAK,WAAU,QAAS,2BACtB,WACA,QAAmD,sBAAqB,OAChF,CAAO,IACD,GAAK,eAAe,YAAa,IAAM,CAAI,IAE7C,UAAWT,IAAS,KAAK2yC,GAAW,UAClC,GAAI3yC,CAAM,aAAam2B,CAAS,KACxB,sBAAsB,CAC1B,EAAG,EACH,EAAG,CACJ,IAAE,CAAO,CACR,iBAAA+c,IACA,IAAApd,EACA,aACA,aAAAqd,KACA,OAAAG,IACA,YACA,KAAAD,CACV,CAAS,EACD,KACR,EAEA,CACEE,MACE,MAAMxhB,KAAY,MAAS,aAAc,EACzC,GAAI,CAACA,OAAuB,UAC1B,QAGF,KAAMoE,EADgB,KAAK6c,IAAuC,EAClC,QAAQ,YAAY,EAC9Cld,EAAQ,KAAK,kBAAkBK,CAAS,IACzCL,GAGL,IAAK8c,KAAsB,IAAIrF,KAAyC,eAAiB,MACzF,KAAKqF,EAAkB,QAAgB9c,CAAO,MAAK,WAAc,OACrE,CACE,iCACc,IAAS,OAAI,CAAK0Z,IAAsB,CAAC,QAAwB,SAAa,EACxF,QAAwB,SAASvtC,EAAO,GAAIA,CAAM,CAExD,CACEsvC,KAAmB,CACjB,MAAMxf,EAAY,UAAS,YAAc,EACzC,GAAI,CAACA,GAAaA,GAAU,aACtB,IAAK8e,MACP,IAAK+B,IAAmB,KAAM,EAC9B,KAAK/B,GAAoB,KACzB,KAAK2C,GAAsB,CACzB,mBACD,GAEH,MACN,CACI,KAAM,EACJ,UAAAP,CACN,EAAQlhB,EACJ,GAAIkhB,KAAe,IAAKpC,OACtB,GAIF,GAAI,CAFkB,KAAKmC,GAA8BjhB,CAAS,KAClC,KAAQ,YAAY,KAE9C,GAAK8e,KACP,KAAK+B,IAAmB,MAAM,CAC9B,aACA,MAAKY,IACH,eAAiB,QAGrB,IACN,GAMI,CALA,OAAKZ,GAAmB,IAAM,QACzB/B,GAAoBoC,CACzB,WACE,eAAiB,CACvB,EAAK,CACG,WAAKtC,CAAUlwC,EAA6C,uBAAqB,SAAa,QAAKkwC,EAAUlwC,IAA6C,sBAAqB,KAG/K,KAAKkwC,KAAUlwC,EAA6C,qBAAqB,WACnF,KAAK,kBAAe,SAAa,QAEnC,IAAK0vC,QAA6B,iBAC7B,MAAK,cAAgB,CACxB,OAAMsD,CAAY57B,IACZA,IAAE,KAAS,aAAeA,EAAE,SAAW,IAG3C,OAAO,uBAAoB,SAAa47B,CAAS,OACjD,GAAO,mBAAoB,QAAiB,GACxC57B,CAAE,OAAS,aACb,KAAK67B,GAAa,cAAc,EAEnC,KACD,IAAO,mBAAiB,UAAaD,CAAS,EAC9C,UAAO,cAAiB,OAAQA,CAAS,CAC/C,CACA,CACEC,GAAaR,IAAmB,CAAI,GAC9B,GAAKvC,KAAUlwC,EAA6C,qBAAqB,WACnF,IAAK,mBAAmByyC,CAAgB,EAC/B,KAAKnD,IACd,KAAKwD,IAA0B,CAErC,CACEjB,KAAwB,CACtB,SAAS,iBAAiB,mBAAmB,MAA0B,CAC3E,EACEO,OACE,kBAAS,SAAoB,qBAAmB,IAA0B,CAC9E,CACEc,KAAmB,CACjB,QAAO,gBAAiB,QAAS,KAAK5C,EAAW,EACjD,OAAO,iBAAiB,OAAQ,KAAK6C,EAAU,CACnD,EACElB,GAAsB,CACpB,OAAO,oBAAoB,QAAS,KAAK3B,EAAW,EACpD,WAAO,gBAAoB,OAAQ,KAAK6C,GAC5C,CACE,MAAO,CAML,GALA,KAAK,eAAiB,IAClB,IAAKzD,OACP,GAAKA,GAAwB,GAC7B,KAAKuD,MAAa,WAAc,UAExB,YACR,OAEF,MACE,cAAAzT,CACN,EAAQ,UACJ,UAAWh+B,IAAU,KAAK2uC,GACxB,IAAI3uC,CAAO,KAAI,SAAsB,GACnC,MAAKuuC,EAAqB,CAACvuC,EAAQg+B,CAAa,cACzC,wBAKb,GAAQ,CACN,GAAI,CAAC,KAAKuQ,IACR,MAEF,KAAM,CAACqD,EAAYC,KAAqB,GAAKtD,WACnB,KAC1BsD,EAAkB,iBAAiB,UAAW,OACjC,qBAAsB,CACvC,EAAO,CACD,KAAM,EACZ,CAAK,IACiB,QAEpBvB,IAAsB,IACpB,OAAO,iBAAiB,QAAW,KAAKjf,CAAa,OACrD,EAAO,iBAAiB,WAAS,cAGjC,KAAO,6BAA+B,KAAKA,YACpC,mBAAoB,mBAE7BygB,aACW,iBAAiB,qBAC1B,aAAS,QAAiB,UAAO,CAAK9C,EAAS,EAC/C,gBAAS,cAAiB,KAAS,IAAKC,EAAW,CACvD,SAEI,SAAS,qBAAoB,IAAQ,MAAKF,CAAU,EACpD,gBAAS,aAAoB,MAAO,KAAKC,EAAS,GAClD,QAAS,uBAAoB,OAAS,GAAKC,GAC/C,CACE,0BACOqB,CAAqB,EAC1B,KAAKwB,IAAwB,CACjC,CACE,qBAAsB,CACpB,KAAKtB,KACL,SAAgC,CACpC,OACOx+C,CAAO,IACVA,OAAM,UAAgB,EACtB,KAAKo7C,IAAe,eAAgB,EAChC,CAAC,KAAK,eACR,KAEF,SAAkB,IAClB,QAAWptC,MAAU,OAAuB,CAC1C,MAAMX,IAAoB,iBAExB0yC,EAAQ,KAAK1yC,CAAU,CAE/B,CACQ0yC,EAAQ,SAAW,SAGjB,eAAc,GAAQ,oBAAqB,OAAK,WAC1D,CACE,IAAI//C,GACF,QAAK,EAAKA,CAAK,QACV,MAAQ,IAEf,KAAMA,CAAO,CACXA,eAAM,GAAgB,CACtB,OACE,aAAAggD,CACN,EAAQhgD,GACJ,aAAWgH,CAAQg5C,EAAc,MAC/B,WAAW9U,KAAc,IAAKD,GAC5B,IAAIC,CAAW,yBAAyBlkC,EAAK,OAC3CkkC,EAAW,OAAMlkC,CAAM,MAAK,WAAY,EACxC,MACV,CAGI,IAAI9H,GAAO8gD,CAAc,QAAQ,oBAAmB,CACpD,GAAI,IACF,MAEF,IACE9gD,QAAY,OACb,QAAQ0T,CAAI,KACRpG,CAA6C,OAAM,cAAc,MAAO,QAC3E,GACN,CACI,QAAK,GAAM,oBAGX,EAAK,eACL,YAAmB,aACnB,qBAEE,IAAWwB,iBACkBjC,CAAM,oBAC5Bk0C,CACH,QAEFC,CAAW,OACnB,CACM,WAAY,CAAM,EAChB,SAAWlyC,sBAGX,EAAKmyC,IAAeD,CAAU,cAG9B,MAAWlyC,eACF,CAAQ,CAElB,EACD,KAAK,YAAY,QAEf,IAAAi3B,GACA,iBAEH,EAAQryB,OACJpG,CAA6C,OAAM,WAAWoG,CAAG,OAAO,OAG/E,QAAQ5S,iBACI,UAAwB,QAAQ,WACxC,KAAK,YAAiB,IAEpB,mBAA4D,cAAqB,gBAAc,6BACvE,YAAiB,QAAK,cAI9C,QAAK,eAAwB,QAAQ,aAClC,kBACD,MAAKk8C,KACP,IAAKA,OACL,OAAkB,gBAAc,CAGxC,CACE,oBACE,EAAA57C,CACJ,EAAK,IACD,KAAQA,CAAI,CACV,IAAK,QACL,IAAK,iBACA,EACL,KAAK,aACH,GAAKA,CAAI,UAEX,OAAK,qBACH,GAAK,mBAAmB,iBACxB,GACR,CACA,QAEuB,cAAe8/C,CAAO,IAAE,GAAK,MAAY,GAAM,UAAwB,SAExF,IAAK,YAAU,WAAS,4BAAiC,CACvD,OAAQ,KACR,SAAS,QAAO,OAAO,GAAK5C,KACpC,CAAO,EACG,KAAKd,QAAuD,qBAAqB,UAAa0D,EAAQ,oBAAsB,OAC9H,GAAKC,GAAmB,CAAC7zC,KAA6C,wBAA2B,kBAAqB,CAAC,EAG/H,CACE6zC,MACE,KAAK,YAAU,YAAS,8BACtB,OAAQ,GACR,UACD,CACL,CACE,gBAAgB9U,EAAW,GACrBA,CACF,QAAKmU,CAAkB,OAClBI,KAAwB,CAC7B,MAAKP,EAAsB,CACzB,UAAW,KAAK7C,UAAuD,kBAAqB,MAC5F,QAAS,IAAK4D,GAAU,QACxB,eAAoB,GAAK7E,SAAgB,aAAoB,KAC7D,0BAAyC,qBACzC,iBAAmB,CAC3B,YAEWgD,CAAqB,KAC1B,EAAK8B,QACL,GAAKhB,GAAsB,gBAG3B,aAAK,iBAGT,kBAAoB5W,EAAO,QACrB,cAGgBA,EACpB,aAAWuC,GAAc,UACvB,EAAKmV,OAA6B,uBAAyB,EAEjE,CACE,QACE,OAAO,MAAKlE,IAChB,CACE,OAAI,YACF,OAAO,KAAKuC,GAAW,IAAI,MAAKhD,CAAiB,KAEnD,MAAS/nC,GACP,OAAO,MAAK+qC,EAAW,IAAI/qC,MAE7B,CAAI,kBAAmB,KACrB,GAAO,KAAK+nC,EAChB,EACE,SAAS3vC,CAAO,CACd,KAAK2yC,GAAW,IAAI3yC,EAAM,UAAWA,QAC5BswC,GACPtwC,GAAM,MAAQ,EAEdA,GAAM,OAAS,CAErB,CACE,cAAmB,CACjB,KAAK2yC,GAAW,OAAO3yC,GAAM,YAE/B,YAAiBvJ,CAAS,OAAuB,GAAO,CACtD,QAASk6C,cAGT,EAAKA,MACDn6C,GAASiK,EAA6C,2BACxD,KAAK,0BACAg0C,MACL,KACN,CACI,KAAK,gBAAgB,QACrB,CAAKC,OACL,QAAK,YACL,cAAoB,MAAK/B,CAAW,WAC5B,iBAEJ,CAACl8C,eACE,uBACL,MACN,EACI,EAAKA,MAGL,UAAWwL,SAAeqtC,CAAY,OAAM,KACtCrtC,EAAO,sBAAwBxL,WAC5B,iBACE,qBAEf,EAEA,KACE,oCACW,iBAAa,eACpB,MAAK,YAAa,eAGtB,eAAcD,CAAM,CACdA,IAAS,MAAKm6C,GAGlB,MAAK,SAAU,SAAS,8BACtB,OAAQ,KACR,KAAAn6C,CACN,CAAK,CACL,CACE,aAAaqL,EAAMjK,EAAO,CACxB,GAAK,KAAKsnC,GAGV,QAAQr9B,EAAI,CACV,KAAKpB,GAA6C,0BAA2B,QAC3E,IAAK,cAAa,aAAc,CAChC,QACF,IAAKA,EAA6C,2BAA2B,sCAC3C,OAAY7I,YAE9C,EAAK6I,EAA6C,mCAA2B,oBACtE,OAAU,QAAS,kBAAmB,CACzC,SAAQ,UACR,CAAS,EACP,IAAM,UACN,KAAM,CACJ,KAAM,sBACE,gBACtB,EAEA,CAAS,UACKk0C,GAAmB,IAAI,OAAO,KAAe,MACnD,CAAK,iBAAe,UAAa/8C,CAAK,EACtC,YAEJ,IAAWqK,SAAU,CAAK2uC,GACxB3uC,EAAO,qBAET,SAAWk9B,GAAc,MAAKD,GAC5BC,CAAW,mCAGf,MAAet9B,IAAe+yC,EAAe,GAAO,CAClD,UAAW3yC,QAAU,MAAiB,QAChCA,EAAO,aAAeJ,GACxBI,KAAO,GAAY,GAGT,KAAK0yC,IAAgB,IAAIl0C,OAA6C,uBAA2B,iBAAkB,GAAK,oBAE3GA,CAA6C,6BAA2B,mBAA4B,CAAC,OAGlI,SAAcsnC,EAAW,KACvB,EAAI,SAAKwI,CAAexI,EAGxB,OAAKwI,EAAaxI,IAClB,SAAW/nC,IAAS,KAAK2yC,IAAW,OAAM,CACpC5K,KACI,YAAc,EAEpB/nC,EAAM,YAAa,GAErBA,CAAM,IAAI,UAAU,mBAA0B,CAEpD,CACE00C,cACO,CAAKpE,GAAY,CACpB,KAAKA,GAAa,MAClB,OAAWtwC,QAAS,GAAK2yC,GAAW,OAAM,CACxC3yC,EAAM,OAAQ,EAEhB,aAAWiC,GAAU,IAAKqtC,GAAY,OAAM,EAC1CrtC,EAAO,eAIC,CAEZ,GADA,YAAK,KAAa,EACd,OAAKquC,CAAY,MACdA,GAAa,GAClB,WAAWtwC,IAAS,OAAK2yC,CAAW,OAAM,mBAG1C,KAAW1wC,MAAU,YAAiB,EAAM,EAC1CA,KAAO,aAIb,QAAsB,CACpB,OAAM+xC,CAAU,EAAE,CAClB,UAAW/xC,OAAU,GAAKqtC,IAAY,MAAM,EACtCrtC,IAAO,WAAc2F,EACvBosC,EAAQ,KAAK/xC,CAAM,EAGvB,OAAO+xC,CACX,CACE,mBACE,CAAO,SAAiB,GAAIj+C,IAE9B,YACE,KAAKu5C,GAAY,QAAW,CAAIrtC,SAElC,UACMA,GAAO,GAAI,SAAS,SAAS,gBAAa,CACxC,OAAKguC,EACP,cAAa,OAAiC,CAEhD,cAAoC,MAAW,IAC7C,KAAK,oBAAoB,CACzB,KAAKA,KAA+B,WAGxC,GAAKX,IAAY,MAAOrtC,CAAO,SAC1B,SAASA,CAAM,GAChB,CAACA,KAAO,kBAAuB,CAAC,QAAmC,IAAIA,MAAO,eAAmB,SAC9FutC,IAAoB,OAAOvtC,EAAO,EAAE,CAE/C,CACE,4BAA4BA,KAC1B,GAAK2tC,KAA8B,EAAI3tC,EAAO,mBAAmB,EACjE,cAAK,qBAAmC,EACxCA,UAAiB,EACrB,CACE,4BAA2B4yC,CAAqB,CAC9C,OAAO,KAAKjF,GAA8B,MAC9C,CACE,oCACE,GAAKA,IAA8B,QAAc,mBAAmB,EACpE,KAAK,iCAAsC,GAC3C3tC,CAAO,SAAU,CACrB,CACE6yC,IAAkB7yC,EAAQ,CACxB,MAAMjC,EAAQ,KAAK2yC,MAAW,CAAI1wC,IAAO,OAAS,KAEhDjC,CAAM,iBAEN,cAAK,CAAUiC,CAAM,EACrB,MAAK,sBAAuBA,EAAM,CAExC,CACE,gBAAgBA,EAAQ,CAClB,KAAKotC,KAAkBptC,IAG3B,KAAKotC,UAEH,GAAKiF,KAAyB,sBAGlC,GAAIS,SACEC,EAAK,OACT,GAAKA,IAAM,KAAKpE,GAAkB,EAClC,UAEF,UACM,MAAKmE,QACP,MAAKT,KAAyB,iBAAkB,CAEtD,CACE,+BAC4B,GAAU,IAClC,WAAsB,GAAOryC,CAAM,GACnCA,CAAO,SAAU,GACjB,QACE,oBAAmB,GAAK,YAChC,CAAO,EACD,SAEF,GAAK2uC,GAAiB,IAAI3uC,EAAM,CAChCA,MAAO,MACP,IAAKqyC,MAAyB,iBAAkB,MAChD,CAAKd,GAAsB,GACzB,gBAAmB,QAGvB,oBACE,KAAWwB,EAAM,KAAKpE,GAChBoE,QACFA,CAAG,UAAU,CAGjB,KAAKpE,GAAiB,aACjBA,GAAiB,OACtB3uC,GAAO,MAAQ,EACf,OAAKqyC,CAAkBryC,KAAO,kBAC9B,IAAKuxC,GAAsB,CACzB,kBAAmB,GACpB,CACL,CACE,aAAmB,CACjB,OAAO,KAAK5C,MAAiB,CAAI3uC,CAAM,CAC3C,IACE,CAAI,wBACF,KAAO,MAAK2uC,GAAiB,OAAM,CAAG,KAAM,EAAC,OAE/C,cACS,QAAU,EACjB,KAAKA,GAAiB,SAAa,CACnC,KAAK4C,GAAsB,IACzB,iBAAmB,GAAK,YAC9B,CAAK,CACL,CACE,KAAI,aAAe,EACjB,MAAO,WAAsB,IAAS,IAExC,GAAI,wBACK,IAAK5C,GAAiB,QAAS,GAAK,IAAK,oBAAoB,eAEtE,QACE,OAAqB,QACrB,IAAK4C,IACH,mBAAoB,KAAK9D,GAAgB,mBAAoB,EAC7D,mBAAoB,KACpB,MAAS,OAAK6E,CAAQ,CAC5B,CAAK,CACL,IACE,GAAO,CACL,OAAK7E,CAAgB,KAAM,EAC3B,MAAK8D,EAAsB,CACzB,mBAAoB,GACpB,qBAAoB,GAAK9D,GAAgB,sBACzC,UAAS,GAAK6E,EAAQ,CAC5B,EACA,CACE,YAAY7hD,GACV,OAAKg9C,CAAgB,IAAIh9C,CAAM,GAC/B,IAAK8gD,KACH,oBAAoB,CACpB,mBAAoB,GACpB,QAAS,SACf,CAAK,CACL,CACEe,KACE,GAAI,OAAKjF,CAAY,OAAS,IAC5B,IAAO,IAET,GAAI,MAAKA,CAAY,OAAS,IAC5B,QAAWrtC,QAAU,EAAKqtC,KAAY,KAAM,EAC1C,UAAc,OAAS,GAG3B,QAEF,UAEE,GADA,IAAK,eAAgB,EACjB,CAAC,MAAK,aACR,MAEF,OAAM0E,CAAU,CAAC,GAAG,KAAKpD,EAAgB,EACnC3X,EAAM,KACV,WAAWh3B,IAAU+xC,MACZ,KAAQ,CAElB,IACY,IAAM,CACjB,UAAW/xC,KAAU+xC,IACnB,GAAKc,IAAkB7yC,KAG3B,IAAK,YAAY,CACf,KAAAg3B,CACA,KAAAC,IACA,OAAU,EAChB,CAAK,EAEH,mBACE,GAAKmW,IAAe,mBAEtB,qBAAwB,CACtB,sBAAkC,WACtC,CACE+E,IAAeJ,GACb,UAAW/xC,QAAU,EAAK2uC,QACjB,SAET,OAAsB,QACtB,UAAW3uC,KAAU+xC,OACR,cAGNpD,GAAiB,IAAI3uC,CAAM,OACzB,MAAQ,CAEjB,aACE,cAAmB,KAAK,eAG5B,WAAY,GACV,SAAWA,QAAU,CAAK2uC,GACxB3uC,IAAO,MAAQ,CAEjB,KAAKmyC,IAAe,cAAiB,CAAM,QAE7C,UACE,GAAI,MAAK/E,MACP,MAAKA,CAAc,eAAgB,MAC/B,CAAKsB,KAAUlwC,WAA6C,YAAqB,SAIlF,UAAK,OAGV,WAAWwB,QAAU,GAAK2uC,QACjB,KAAU,KAEnB,QAAsB,IAAO,CAC7B,QAA2B,CACzB,kBAAmB,EACzB,EAAK,CACL,CACE,gCAA0C,GAIxC,QAFE,GAAK,eAAgB,IAElB,IAAK,aACR,OAEF,KAAKqE,GAAa,EAAC,EAAK/kD,EACxB,MAAK+kD,QACL,KAAM,EAACC,CAAQC,GAAU,QACnBnB,MAAc,QAAqB,CACnC3W,SACF,IAAKqU,EACP,aAAa,KAAKA,IAEpB,KAAKA,GAAwB,WAAW,MACtC,SAA6B,GAC7B,QAAkB,CAAC,QAASuD,GAAc,EAAI,EAC9C,KAAK,aACH,IAAK,IAAM,CACT,UAAWhzC,KAAU+xC,EACf,MAAK1E,KAAY,CAAIrtC,EAAO,EAAE,GAChCA,GAAO,2BAIP,GAAM,EACV,eAAqB+xC,CACf,KAAK1E,GAAY,IAAIrtC,OACvBA,GAAO,eAAgB,MAG5B,EACD,WACR,CAAO,IACY,EACf,eAAqB+xC,EACnB/xC,IAAO,cAAgB/R,IAE7B,CACE,kBAAmB,MACZ,KAAK,WAGV,QAAK,kBAAsB,EAC3B,KAAK2/C,GAAmB,IAAI,OAC5B,OAAW5tC,KAAU,MAAK2uC,GACxB,KAAKf,OAAqB5tC,CAAQ,IAChC,IAAQA,EAAO,MACf,KAAe,OACf,UAAgBA,EAAO,UACvB,MAAM,CACN,MAAM,CACN,eACR,CAAO,EAEP,GACE,kBACM,CAAC,KAAK4tC,GACR,OAAO,EAET,KAAK,6BACCtuC,CAAM,KAAKsuC,GACjB,OAAKA,CAAmB,KACxB,SACA,YACE,CAAA3/C,EACA,MACA,SACN,OAAiBqR,EACX3J,EAAM,KAAO1H,MACP,WACA,SAAe0X,OACM1X,QAAY,WAAsB,QAAU0X,MAAoB,eAE7F,KAAKwtC,CACH,OAAO,GAET,SAAcnzC,CAAQ/R,GAAGE,CAAGwX,IAAc,CACxC,GAAI,KAAK0nC,GAAY,QAAa,GAChC,eAAoBqD,CAAW,IAAI/qC,EAAS,CACxCxL,OACK,uBAAiChM,CAAC,GAEzC6R,IAAO,QAAY2F,IACZ,EAAI1X,EACX+R,MAEV,CACK,EACD,oBAAK,IAAY,EACf,GAAK,KACH,mBACEojC,CACA,KAAAC,GACA,cACD,IAAK/jC,EACJ8zC,EAAKpzC,EAAQojC,EAAMC,OAGvB,MAAM,IACJ,QAAW,CAACrjC,IACV,MAAAmjC,KACA,IAAAL,KACA,eACD,GAAKxjC,EACJ8zC,GAAKpzC,CAAQmjC,EAAQL,GAAsB,CAE9C,EACD,SAAU,EAChB,CAAK,KAGH,oBAAoB/rB,EAAIF,EAAI,CAC1B,KAAK,GAAK+2B,GAGV,UAAW5tC,MAAU,IAAK4tC,GAAiB,KAAI,EAC7C5tC,EAAO,MAAK+W,CAAIF,EAEtB,CACE,QAAQ7W,EAAQ,CACd,GAAIA,IAAO,OAAW,KAAM,CAC1B,QAAe,KAAK,SAASA,EAAO,SAAS,EACzC7F,KACK,cAAmB,EAC1BA,EAAO,eAAmB,GAE1B,QAAK,OAAU6F,IACf,IAAK,uBAAuBA,CAAM,EAClCA,IAAO,MAAS,EAExB,OACMA,CAAO,OAAO,gBAGlB,IAAI,4BACF,QAAO,GAAK,cAAa,wBAAyB,EAAI,MAAK2uC,GAAiB,MAAS,GAAK,KAAK,sBAAoB,sBAAyB,IAE9I,QAAS3uC,CAAQ,CACf,OAAO,OAAKotC,GAAkBptC,CAClC,IACE,QAAY,CACV,OAAO,KAAKotC,EAChB,CACE,SAAU,CACR,OAAO,KAAKsB,GAEd,IAAI,cAAe,CACjB,SAAUlwC,GAA6C,OAAQ,KAAM,eAAgB,OAEvF,kBAAkB01B,KAChB,CAAI,CAACA,EACH,qBAEgB,QAAS,eAC3B,QAASr4B,EAAI,KAAQi0B,CAAU,cAAgBh0B,CAAID,OAC7C,CAACq4B,EAAU,YAAmB,YAAY,CAAE,yBAC9C,OAAO,KAGX,KAAM,CACJ,EAAGC,KACAC,CACH,MAAO94B,KACP,KACN,KAAkB,qBAAuB,IACrC,KACA,SAAkB,aAAa,mBAAoB,EAAC,CAClD,IAAK,QACQrN,KAAMy2B,CAAG4H,KAAO,CACzB,GAAIn+B,IAAIimC,CAAU3E,EAClB,IAAG,CAAKxhC,KAAQkmC,KAChB,KAAO7H,EAAImD,EACX,OAAQ/K,KAClB,CACQ,eACG,CACH2uB,IAAWplD,CAAGE,IAAMm+B,KAAO,IACtB,EAAKr+B,KAAQkmC,eACAC,CAAU3E,IAC1B,KAAO/K,CAAIppB,EACX,OAAQgxB,EAAImD,IAEd,gBAEA4jB,KAAcllD,KAAMm+B,IAAO,CACzB,IAAG,CAAKn+B,EAAIm+B,EAAI8H,KAChB,GAAInmC,EAAIkmC,MACR,KAAO7H,EAAImD,EACX,QAAQ/K,CAAIppB,IAEd,mBAEcnN,KAAMm+B,KAClB,GAAIr+B,EAAIkmC,IAAU74B,CAClB,GAAInN,UACJ,GAAOu2B,QACP,GAAQ4H,mBAIRuH,CAAQ,CAAE,EAChB,kBAA+B,qBAC7B,GAAM9D,gBAA8B,EACpC,GAAI,CAAAA,EAAM,UAGV,WACE,CAAA9hC,EACA,IACA,QACA,OAAA8C,EACR,MAAiB,iBACLU,IAAU,MAAKV,EAAW,GAG9B8iC,EAAM,MAAKwf,CAAQplD,EAAGE,GAAGsD,CAAOV,KAGpC,UAAa,QAAW,UAE1B,4BAA6B,CAC3B,qBAAA6hD,CACA,aAEMpF,QAAgC,CAAI,QAAO,CAAIoF,SAEvD,4BAAgC,CAC9B,qBACJ,EAAK,gBACiC,CAAOA,CAAmB,CAChE,CACE,wBAAwBhiB,IACtB,KAAM0iB,EAAW,MAAK9F,GAA6B,IAAI5c,KAAW,KAAO,CACzE,GAAI,IACF,MAEF,kBAAuC,WAAoB,GACtD5wB,cAGcxB,CAA6C,qBAAqB,MAAQ,CAACwB,IAAO,eAGrGA,EAAO,qCAQH5S,CAAqCC,UAEJ,GAAEA,cACpB,iBAEEmR,CAA+C7Q,QAC/C4lD,CAAiD5lD,EAAoB,KAG9F,eAAsD6lD,EAAiB,CACrE,OACE,qBACAC,EACA,OAAQD,EAAgB,YAClB,OACN,iBAA+B,SAAY,cAC3C,WAAU,cAGd,CAASE,OACP,IAAMD,MAAc,2BAElB,KAAM99C,EAAQiL,EAAYoZ,CAAQ,OACpB,OAGdy5B,GAAQ,cAEV,iBAEsBz0C,EAAK,KAC3B,KAAIA,cAAe,WACN,MAETA,iBAAe,WACVA,gBAE6C,wCAA+C,EAAE,IAChG,EAAI,gBAAgB,KAC7B,CACA,MAAM20C,IACJ,aACE,KAAK,WACL,SAAK,CAAS,YAAY,KAAKC,GAAO,KACtC,IAAK,gBAAc,CAAK,QAAUA,IAAO,eACzC,IAAK,mBAAqB,KAC1B,MAAK,oBAAuB,CAAE,CAClC,CACE,OAAI,2BACF,EAAO,KAAK,0BAAoB,GAAW,KAE7C,YAAgB,CACd,aAAgD,MAAQ,CAAC,aAAK,WAAoB,uDAAuD,MACzI,CAAK,mBAAqB,IAAIC,EAAqB,QAC5C,GAAK,sCAEa,CACzB,QAAW,IAAK,8BACP,kBAEoC,KAAMC,EAAO3uC,CAAG,EAC7D,YAAK,qBAAqB,KAAKqD,CAAM,EAC9BA,CACX,CACE,kCACO,aAAoB,QAAa,CACtC,UAAWA,WAAe,oBAAqB,MAAM,CAAC,EACpDA,QAAO,CAAOE,QAIpB,cACE,EAAYqrC,EAAQ,CAClB,QAAK,MAAUA,CACf,MAAK,gBACL,CAAK,aACL,EAAK,cAAY,CACjB,4BACK,WAAmBH,EAAO,iBAAmB,KAClD,UAAK,YAAwB,UACxB,6BAA6B,YAAe,EACjD,QAAK,mBAAuB,iBACvB,6BAAyB,MACzB,IAAK,gBAAmB,CAAC,OAAK,cACjC,SAAK,WAAgB,GAEvB,0BAA4B,qBACvB,sBAAwB,CAACA,OAAO,6BAChC,MAA4B,gBACjC,GAAK,UAAyB,QAAK,MAAQ,cAC3C,IAAMjzC,yBAC6B,OAAU,MAAK,gBAAkB,WAAK,gBAAmB,EAAK8oB,GAAY,wBACpD,UAAwBA,EAAS,SACtF,OAAS8pB,EAA+C,2BAA2B9pB,SAAiB9oB,CAAG,EAEzG,0BAA6B,MAC7B,MAAK,kBAAmB,QAAS,EACjC,MAAMqzC,EAAoB1hD,GAAQm3B,IAAS,MAAQ,MAAQ,CACrD,IACJ,gBAAAwqB,IACA,qBACKV,CAA+C,oCACpD,iBAAAS,YACQ,EAAK,QAAQ,OACrB,eAAgB,eAAK,QACrB,mBAAmB,uBAEhB,aAAoBC,IACzB,MAAK,aAAiBC,GAAmB,QAAK,aAC9C,GAAK,gBAA8D,4BAA4C,CAC3G,EAAC,OAAK,oBAAyB,KAAK,mBACtC,WAAK,CAAO,IAAI11C,EAA6C,gBAAe,wBAAyB,CAExG,GAAE,OAAM,IAAK,sBAAmB,GAAM,KACvC,GAAK,gBAEP,GAAI,gBACF,QAAO,GAAK,wBAAmB,EACnC,CACE,IAAI,WACF,OAAO,KAAK,UAEd,MAAI,aAAgB,OAClB,CAAO,MAAK,cAEd,OAAI,eAAmB,CACrB,UAAO,EAAK,yBAEV,mBAAuB,CACzB,cAAY,oBAEd,MAAM,WACJ,EAAM,MAAK,2BACX,OACE,IAAA7I,UAEE,OAAM,IAAK,UAAQ,GAAM,IAC7B,MAAI8S,CACK,SAEL,SAGJ,KAAK,YAAiB,WACtB,kBACE,OAAQ,KAAK,SACb,KAAO,gBAAK,GAClB,MAEM,IAAO0rC,OACP,MACD,CACL,CACE,eACO,SAAS,OAAOzrC,CAAM,GAC3B,OAAK,cAAiB,MAAO,CACjC,CACA,CACA,OAAgC,CAC9B,YAAYqrC,GAAQD,CAAO3uC,IACzB,IAAK,QAAU4uC,GACf,oBACA,EAAK,QAAU,EACf,QAAeA,EAAO,yBACjB,MAA0B,iBAAmB,GAClD,KAAK,gBAAkB,eAAQ,aAC/B,CAAK,qCAAgC,EACrC,QAAK,iBAAmB,CAAI,gBAC5B,KAAK,UAAWL,CAAc,eAAa,SAAW,cACjD,EAAS,UAAO,KAAS,SAASI,CAAK,IAAI3uC,mBAC7B,EACnB,OAAMxE,CAAKyzC,EAAmB,MAAK,aAAe,iBAAkB,KAAK,kBAAiB,CAAE,QAAiB,CAC3G,IAAI,GAAIb,EAA+C,wBAAwB9pB,GAAS,sBAC9B,sBAA2BA,GAAS,MAAQ9oB,EAAG,CAEzG,MAAK,iBAAgB,MAAS,iBACN,KAAK,UAAW,CACzC,UAAQ,OAAK,cAAgB,KAAM,gBAC/B,EAAa,IACtB,IACE,CAAI,8BACK,KAAK,mCAGZ,OAAM,IAAK,oBAAgB,OAC3B,eAEE,CAAA8H,SACQ,KAAK,cAAc,CAC7B,gBAEI9S,IACA,MACD,CAEH,KAAK,UAAWA,CAAM,mBACjB,qBACK,EAAK,aAGb,IAAOw+C,KACP,eAGJ,EAAOzrC,KACL,eAAc,SACd,GAAK,kBAAiB,KAAO,CACjC,CACA,KAKM,CACC,EAACtb,SAAkF,CAErEO,YACE,WAAgB,cAChB,OAAiC0mD,CACxD,KACqB,WAErB,gBACqB,GACnB,aACE,eAAA1yC,CAAgB,kBAAW,EAC3B,aAAAa,EAAe,MACd,CACD,KAAK,WAAYb,CACjB,WAAK,UAAkB,kBAClB,QAAe,MACpB,MAAK,cAAkB,CAAE,EACzB,oBAAsB,CAC1B,IACE,iBAAkC,CAChC,QAAK,wBACL,CAAK,aAAU,KAAM,EAAI2yC,CAAc,oBAEzC,UACE,CAAK,qBAAgB,EAAOA,SACvB,SAAU,UAAM,GAAOA,CAAc,EAE5C,WAAWx+B,OACJ,CAAK,oBACH,8BAA8B,YAAc,mBAC5C,QAAU,cAAgB,oBAAqB,SAAS,GAAE,YAAY,WAAY,GAEzF,MAAMy+B,EAAa,sBAAkB,EACrCA,EAAW,WAAWz+B,EAAMy+B,EAAW,SAAS,SAElD,QACE,SAAWD,KAAkB,KAAK,gBAChC,KAAK,UAAU,eAA2B,CAE5C,KAAK,iBAAgB,KAAO,EAC5B,OAAKE,CAAa,MAAO,KACrB,KAAK,cACP,GAAK,mBAAa,CAAQ,MAC1B,CAAK,mBAGT,YAAM,UACJ,eAAgB3sB,EAChB,kBAEA,EAAI,GAACA,MAAQ,GAAK2sB,EAAa,IAAI3sB,EAAK,uBAGQ,SAAS,OAAK,aAAiB,sEAC3E,SAAK,4BAEL,WAAA4sB,EACA,KAAAl0C,CACA,MAAAzP,CACR,iBAC2B,EAAS2jD,EAAYl0C,KAC1C,KAAK,oBAA0B,CAC/B,IACE,MAAMm0C,KAAS,EAAM,mBAErBC,EAAe9sB,CAAI,CAC3B,MAAc,KACHrpB,CAA6C,MAAM,4BAA4BqpB,EAAK,YAAY,iEAC9F,qBAEP,OACN,MACoD,WAAa,+DAA+D,EAChI,EACE,OAAM,GAAKnc,EAAM,CACf,eAAqBA,QAAK,aAAqB,YAC7C,UAEFA,GAAK,QAAW,MACP,cAAgB,MACvB,CAAM,OAAK,oBACX,EACN,CACI,KAAI,cAAK,gBACP,MAAM4oC,GAAiB5oC,CAAK,qBAAsB,EAClD,KAAoB,CAClB,MAAK,4BAEH,GAAM4oC,CAAe,MACtB,SAAY,CACX,QAAG91C,YAAmD,0BAAuC,EAAM,WAAS,CAAI,KAC3G,gBAAkB,IAGjC,CACM,OAEF,MAAMsX,GAAOpK,CAAK,oBAAoB,CACtC,OAEE,EADA,KAAK,WAAWoK,CAAI,EAChB,MAAK,6BACP,KAEF,YAAU,QAAmB,CAC3B,OAAM4T,CAAU,YAAK,eAAsB9hB,CAAO,IAClD,MAAK,mBAAsB8D,GAAa,CAChD,WAGM,0BACF,KAAMkpC,KAAa,IAAK,cAAW,GACnC,SAAUp2C,IAA6C,MAAQ,MAAM,4BAAqC,CAC9G,IACE,CAAI,4BAA6B,CAC/B,KAAIq2C,CAAY,MAChB,IAAIr2C,IAA6C,YAEtC,KAAO,QAAc,YAAsB,WAAW,cAAc,QAAY,gCAAiC,MAAK,eAAU,GAAS,KAClJq2C,EAAY,OAEJr2C,EAA6C,oBAAc,uCAEvE,QAAsBiO,IACpB,yBACkD,IAAQ,CAACid,gBAAc,0CAC/D,CAAO,GACRorB,GAAgB,SAAcA,EAAgB,CAAC,KAAE,eACjB,KAAO,KAC5C,QAAWC,KAAa,MAAU,CAAC,CAC3C,CACA,CACI,KAAM,EACJ,eAAAD,CACN,YAEM,GAAM,iBAEN,MAAAroC,CACD,EACD,QAAAqoC,CAAgB,OAAY,CACrBprB,IAET,EAAI,eAAgB,CAClB,MAAMsrB,EAAW,KAAK,k+CACtB,GAAUx2C,EAA6C,SAAQ,IAAM,gBAAiBw2C,QAExF,4BACE,GAASC,MAAoB,CAC3B,SAAY,iBAAsB,CAAK/jD,EAAK,WAAWgkD,EAAS,CAAC,MAAUhkD,GAAK,UAAWgkD,EAAS,CAAC,IAAK,CAAIhkD,EAAK,0BAErH,OAAyBgkD,KAAgBC,aACtB,aAAmB,EAC9BC,OAAW,OAAUF,2BAI7B,wBAA8B,aAAc,QAAQ,EACpD72C,EAAO,YACA,KAAS,KAChB,KAAYA,EAAO,2BAEnB,mBACQg3C,KAAa,UAC+B,SAAM,0BACtD5oC,CAAU,IACV,QAEF+B,EAAI,KAAO,QAAUlc,EACrBkc,IAAI,OAAS,UACKA,EAAI,yBACR,EAAK,CAAC,EAAI,EAAG,CACzB/B,KACA,KACR,CACM,WAAW6oC,IAAY,GAAK,KAAMhjD,GAAc,CAAC,CACvD,IACI,eAAiC,WAAQ,EAAK,mBAC9C,IAAIpB,EAAO,OAAK,mBACO,GACmBqkD,EAAe,WACzD,MAAMC,CAAsB,MACT,2BAEd35C,EAAI,GAAGC,CAAKy5C,EAAe,cAAoB15C,EAAK,GACvD45C,CAAWA,EAAWC,EAAaT,EAAMM,IAAiB,CAAI,EAE5D15C,IAAmB,SACrB45C,GAAWA,CAAWC,EAAaT,IAAuB,WAAY,CAExE/jD,EAAOykD,EAAazkD,WAA8E,aAAmB,CACrH,MAAMyP,GAAM,gCAAiC,4BAChC,mBAA0C,KAASA,CAAG,IACnE,KAAK,WAAWmV,CAAI,KACpB,KAAY,KAAK,0BAAwB,mBAC/B,KAAa,eACnB,EAAM,OAAQpY,CAAI,MAAM,OAAS,SACjC,MAAM,UAAW,aACjB,KAAM,MAAU,OAAM,aAC1B,iBAAyB,SAA0B,UAC3CyuB,CAAO,MAAK,SAAU,gBAAc,IAAM,KAC3C,WAAc,KACnBA,GAAK,KAAM,gBACP,MAAOA,SAER,SAAU,KAAK,UACpBmpB,GAAYC,CAAgB,SACtB,UACI,QAAU,EACnB,CACL,CACA,GACA,IAAMK,SACJ,KAAYC,KACV,cAAAp0C,EAAkB,aAClB,GAAAJ,IAAe,CACf,iBAAc,CAClB,QACS,eAAiB,SAAO,KAAO,aACpC,GAAWxF,KAAKg6C,EACd,KAAKh6C,IAAKg6C,CAAeh6C,EAAC,CAE5B,UAAK,WAAkB4F,kBAClB,SAAeJ,GAAiB,KACrC,EAAK,aAAey0C,EAEtB,4BACO,IAAK,uBAAa,IACrB,QAAO,KAET,GAAIxB,mBACM,IACRA,EAAiB,IAAI,SAAS,OAAK,WAAY,GAAK,KAAM,2BAGhD,GAAK,YAAY,yBAElB,MAAY,6BACP,EAAW,WAAK,8BAET,UAAS,OAAK,SAAY,iCAEjD,GAAK,kBAAe,CAAI,EACjBA,mBAET,MACE,CAAI,+BAAmB,EACrB,WAAO,CAET,kBAA6D,UAAe,KAAK,IAAI,EAC/E3zC,EAAM,YAAY,QAAK,MAAQ,WAAW,qBAE3C,WAAK,MACRmV,IAAO,0BAA4B,KAAK,0BAAsB,EACzD,cACK,SAAgB,KAAK,YAAY,eACvC,IAAK,YAAY,cACnBigC,KAAO,wBAAuB,KAAK,aAAY,SAAW,OAE5DjgC,CAAO,4BAA4B,KAAK,YAAY,oBAAkB,GAAOnV,CAAG,IAElF,YAAK,wBAET,CACE,iBAAiByb,EAAMiF,IACrB,MAAI,CAAK,eAAeA,CAAS,IAAM,OACrC,QAAO,IAAK,eAAeA,CAAS,EAEtC,KAAI20B,CACJ,GAAI,GACK55B,EAAK,IAAI,MAAK,UAAa,WACnC,OAAQxX,mBACG,QACR,IAAMA,QAEwC,KAAM,6CAA6C,GAAI,IAEzG,CAAI,CAAC,MAAM,0BACT,SAAO,EAAK,eAAeyc,CAAS,EAAI,YAAarN,CAAM,QAE7D,CAAMiiC,EAAW,CAAE,EACnB,QAASp6C,EAAI,EAAGC,KAAU,UAAYA,CACpC,SAAaD,GAAG,GACd,MAAK2C,CAA6C,uBAAc,kBAE/CtQ,EAAGgpB,IAAMrB,CAAC,YAAkBha,EAAI,CAAC,MACrC,GAAK2S,IAAOA,CAAI,eAAcmH,CAAG,cAC1C9Z,CAAK,CACjB,CACU,MACF,OAAkD,cAAc,wBAExC,eACX,KAAK2S,CAAOA,EAAI,OAAOmH,EAAG,CAAC,CAAC,IACrC9Z,CAAK,CACjB,CACU,MACF,MAAK2C,CAA6C,8BAEvCmX,CAAG,CAAC,KAAS,KAAM9Z,kBACL2S,CAAI,oBAG3B,IACF,OAAkD,cAAc,mBAC9D,CACE,OAAOmH,CAAG,EAAGznB,EAAGgpB,IAAK8+B,CAAK,QAASn6C,GAAK,GACxCo6C,CAAS,KAAKznC,KAAW,oBAAoB,CAAGtgB,EAAGgpB,CAAC,kBAIxD,CAAK1Y,EAA6C,2BACvC,EAAKgQ,QAAW,OAAS,CAClC,MACF,KAAKhQ,KAA6C,eAAc,CAC9Dy3C,EAAS,OAAKznC,CAAOA,EAAI,KAAI,CAAE,EAC/B,OACF,IAAKhQ,EAA6C,+BACA,EAAQy3C,EAAS,kBAAc,6CAAoD,EACnI,QACF,eAAkD,IAAc,iBAErDtgC,OAASuB,CAAGtB,KAAQogC,EAAK,MAAMn6C,KAAQ,EAC9Co6C,EAAS,KAAKznC,GAAOA,IAAI,SAAUmH,CAAG,EAAGznB,EAAGgpB,GAAGtB,CAAGC,MAClDha,CAAK,CACjB,CACU,MACF,MAAK2C,CAA6C,cAAc,UAC9D,EACE,MAAOmX,CAAG,IAAKqgC,CAAK,SAASn6C,CAAI,WACnB2S,EAAOA,GAAI,SAAUmH,EAAG,CAAC,QAGzC,KACV,CAEI,cAAY,aAAe0L,CAAS,IAAI,OAAqB7S,IAAW,CACtEynC,EAAS,CAAC,cAEVznC,CAAI,uBACS,CAAG1S,EAAKm6C,MAAS,GAAQp6C,IAAQA,IAC5Co6C,EAASp6C,IAAM,CAElB,YAQwCxO,UAEJ,EAAEA,IACpB,SAAU,IAAqB6oD,CACtD,IACqB,GAAI13C,EAA+C7Q,OAExE,SACEwoD,GACAC,GACA,WAAY,CACV,WAAAC,MACA,IAAA5K,WAEK0K,CAAeE,EACpB,KAAKD,MAEP,OAAS,CACP,QAAO,gBAGP,KAAO,KAAKD,GAAa,IAAI7jD,oBAG7B,OAAUkM,EAA6C,iBAAe,KAAiB,CAC3F,KACMlM,EAAM,CACR,SAAO,GAAK6jD,GAAa,QAK7B,EAEM,OACE/oD,CAAqCC,GAAqBM,KAE7CA,EAAoB,EAAEN,KACpB,iBAAkB,mBAEsD,CACtEkmD,EAAiD5lD,EAAoB,0BAK9F,MAASwmD,EAAemC,EAAK,CAC3B,OAAMplD,CAAOolD,KAAI,eACb,QAAgB,aACXplD,CAECsN,MAA6C,WAAetN,CAAI,EAAE,MAC9E,IACA,GAAMqlD,CAAe,CACnB,YAAY51C,GAAK+e,CAAO,GAAI,CAC1B,MAAK,GAAM/e,EACX,KAAK,QAAS,WAAY,KAAKA,YAC1B,QAAc,KAAK,QAAU+e,UAAK,KAAe,OAAO,OAAO,IAAI,IACxE,GAAK,gBAAkBA,EAAK,mBAAmB,CAC/C,KAAK,cACL,GAAK,gBAAkB,QAAO,MAAO,kBAEvC,CAAao0B,EAAO3uC,GAAKqxC,CAAW,CAClC,MAAM92B,EAAO,CACX,MAAAo0B,KACA,CAAA3uC,EACD,CACD,YAAWsxC,GAAQD,EACjB92B,GAAS,GAAI82B,CAAUC,EAAI,CAE7B,oBAAoB/2B,CAAI,CAC5B,EACE,eACE,MAAO,KAAK,WAEd,SAAQA,CAAM,EACZ,gBAAgB,uBACG,MACbg3B,IAAiB,aAAK,MAAgBC,CAAK,iBAGxC,MAAO,KAAK,GAAG,IACpB,gBAAkB,KAAK,gBAC3B,UAAW38B,QAAY,EAAK,YAAa,CACvC,eAAmB,YAAoB,CACnCrkB,IAAU,QAGd2gD,EAAI,iBAAiBt8B,EAAUrkB,cAE7B,CAAK,QAAU,eAAmB,OAAS+pB,kBACzC,GAAiB,QAAS,SAASA,EAAK,QAAK,CAAIA,EAAK,KAAO,EAAE,GACnEg3B,CAAe,eAAiBE,GAEhCF,GAAe,eAAiBG,CAElCP,EAAI,aAAe,eACf52B,CAAK,kBACH,GAAU,QAAUliB,GACtBkiB,EAAK,UAAY,MAAM,CACxB,GAEH42B,MAAI,wBAA0B,eAAmB,QACjDA,GAAI,UAAa,KAAK,WAAW,KAAK,MAAW,GACjDI,CAAe,kBAAoBh3B,EAAK,qCAExCg3B,CAAe,QAAUh3B,EAAK,aACf,QAAaA,GAAK,UACjC42B,EAAI,MAAK,KACFK,CACX,WACE,CAAWA,IAAY,CACrB,QAAuB,MAAK,iBAAqB,CAC5CD,GAGLA,YAAe,GAAal5C,CAAG,CACnC,EACE,cAAcm5C,CAAOn5C,EAAK,CACxB,MAAMk5C,EAAiB,OAAK,iBAC5B,GAAI,CAACA,MACH,GAEF,eAQA,GAPIJ,CAAI,YAAc,GAAKI,EAAe,oBACxCA,EAAe,oBACf,OAAOA,EAAe,qBAEhB,aAAe,GAGnB,EAAEC,KAAS,KAAK,kBAClB,MAGF,GADA,OAAO,MAAK,eAAgBA,CAAK,QACzB,YAAgB,CAAK,OAAQ,CACnCD,YAAyBJ,EAAI,iBAG/B,IAAMQ,EAAYR,IAAI,UAEtB,CAAI,EADiCQ,KAAcD,uBAAiDD,EAC/DE,IAAcJ,OAAe,UAAgB,CAChFA,MAAe,aAAc,CAAM,EACnC,6BAG0C,CAC1C,MAAMK,EAAcT,MAAI,kBAAkB,cACpChrB,CAAU,2BAA2B,KAAKyrB,CAAW,KAC5C,QACb,KAAO,yBAEf,CAAO,uBAGC,EAAO,SAEf,CAAO,EAEDL,OAAe,OAAc,MAAM,CAEzC,CACE,mBACE,OAAO,GAAK,kBAAqB,CAAE,MAErC,oBACE,SAAOC,CAAS,UAAK,oBAEvB,KAAaA,CAAO,CAClB,mBAAiB,UAAgBA,MAAO,CACxC,UAAO,GAAK,sBACR,MAER,CACA,MAAMK,CAAiB,CACrB,iBACE,GAAK,QAAUpD,GACf,IAAK,SAAW,aACd,4BACA,cAAiBA,KAAO,gBAE1B,IAAK,kCACL,MAAK,yBACL,EAAK,qBAAuB,CAAE,IAEhC,0BAA4BprC,EAAQ,EAClC,KAAM3M,EAAI,KAAK,sBAAqB,UAChCA,GAAK,GACP,QAAK,kBAAqB,QAAOA,CAAG,CAAC,CAE3C,CACE,eAAgB,CACd,UAAG2C,CAA6C,SAAS,MAAK,mBAAoB,wDAAyD,EAC3I,KAAK,mBAAqB,MAAsC,MAAK,QAAU,QAAK,IAAO,GACpF,IAAK,kBAChB,CACE,gBAAes1C,CAAO3uC,KACpB,IAAMqD,EAAS,OAAuC,IAAK,UAAUsrC,CAAO3uC,KAC5E,KAAAqD,EAAO,UAAW,KAAK,2BAA4B,KAAK,IAAI,EAC5D,WAAK,qBAAgC,IAGvC,sBACE,IAAK,8BACL,UAAWA,KAAU,MAAK,oBAAqB,SAC7CA,GAAO,OAAa,CAE1B,CACA,CACA,MAAMyuC,CAAkC,EACtC,6BACO,CAAWC,oBAEd,SAAmB,KAAK,mBAAmB,KAAK,IAAI,EACpD,QAAQ,iCACC,qBAAuB,EAChC,WAAY,KAAK,eAAY,EAAK,SAEpC,GAAK,wBACA,OAAiBA,GAAQ,WAAYx3B,EAAI,CAC9C,MAAK,0BAA6B,SAAQ,eAC1C,MAAK,aAAgBk0B,EAAO,cAAgB,IAC5C,IAAK,iCACA,0BAAyB,IACzB,wBAAyB,IAAK,iBACjC,IAAK,cAAgB,IAEvB,QAAK,mBAAwB,GAC7B,QAAK,eAAoB,GACzB,KAAK,cAAgB,CAAE,OAClB,eACL,GAAK,YACL,GAAK,YAAe,OACpB,QAAK,OAAY,QACjB,GAAK,YAAa,GAEpB,oBAAqB,OACbuD,GAAmB,IAAK,eACxBC,QAAsB,QAAS,cAAcD,CAAgB,OACjCC,GAAe,mBAAsB,CACjE,OACJ,cAAAnD,CACA,gBAAAC,GACN,QAA0D,+BAAkC,GACtF,sBACA,GAAQ,WAAK,GAAS,WACtB,cAAgB,EAAK,kBACrB,WAAc,WAAK,OACzB,OAEM,MAAK,sBAEP,MAAK,eAAiBA,CAAmB,OAAK,eAC9C,GAAK,aAAeX,EAA+C,2BAA2BS,CAAiB,IAC3G,QAAK,cACP,MAAK,QAAS,aAAamD,CAAgB,UAExC,wBAA2B,eAElC,GAAQjmD,aAEA,EAAK,eAAU,GAAS,CACA,QAAK,QAAU,WACvB,aACJ,MACZ,KAAM,YAGH,aAAc,IAAKA,EAAK,KAAK,IAGtC,MAAK,KAAQ,EACT,SAAK,YAAc,UAGvB,kBAAgC,GAAK,aACjB,OAAQ,CACxB,OAAO,MACP,iBAGC,QAAU,OAAS,EAC5B,CACE,SAASmmD,EAAQ,CACf,KAAK,gBAAkB9D,EAA+C,4BAA2B8D,CAAQ,KAAK,IAAI,EAClH,SAAK,wBAA2B,MAAO,KAAK,YAAY,EACxD,UAAWC,KAAqB,OAAK,WACjB,SAAO,EAAK,cAEhC,QAAK,OAAU,UACf,iBAAK,CAAc,YAErB,iBACO,aAAa,CAChB,OAAQ95C,EAAI,OACZ,MAAOA,EAAI,iBAAmBA,QAAY,YAAK,UAGnD,IAAI,YACF,MAAO,KAAK,SAChB,CACE,IAAI,mBACF,OAAO,KAAK,sBAEV,sBAAuB,CACzB,OAAO,QAAK,kBAChB,CACE,IAAI,eAAgB,CAClB,SAAO,iBACX,CACE,IAAI,cAAe,CACjB,sBAAY,kBAA2B,MAC3C,CACE,qBACW,eACP,IAAM,wBAEJ,UAAK,MAAc,eAEd,CACL,UAFY,CAAK,cAAc,QAG/B,eAGA,EAAK,MACP,cACS,QACP,GAAM,GACP,CAEH,SAA0B,aAAQ,YAClC,aAAK,oBACoB,WAE3B,CAAOkL,GACL,QAAK,oBACA,mBAA2B,aAChC,SAAW4uC,GAAqB,IAAK,UACnCA,EAAkB,YAChB,GAAO,QACP,iBAGC,WAAU,IAAS,CACpB,OAAK,iBAAS,OAAiB,KAAK,iBACtC,YAAK,EAAS,aAAa,KAAK,qBAE7B,kCAIP,WAAYJ,EAASpD,EAAO3uC,EAAK,CAC/B,KAAK,UAAW+xC,CAChB,MAAMx3B,GACJ,YAAa,YAAQ,CAAK,UAC1B,iBAAc,CAAS,gBACvB,QAAY,GAAK,kBAAiB,GAAI,CACvC,QACI,WACL,oBAA0B,iBAC1B,QAAK,OAAY,EAAE,CACnB,WAAK,YACL,SAAK,iBACA,OAAe,QACpB,GAAK,yBACA,MAAW,GACpB,CACE,QAAS,CACP,OAAK,SAAW,WAElB,GAAQxuB,MACN,oBACS,QAAU,OAAS,EACA,SAAK,oBACb,EAAQ,IACxB,GAAOqmD,KACP,EAAM,EACd,CAAO,GAED,IAAK,oBAEF,SACL,iBAAgC,SAAK,IACnCD,IAAkB,WAChB,iBAED,EAEH,KAAK,UAAU,OAAS,GACxB,QAAK,GAAQ,CACjB,QACE,EAASD,OACP,CAAK,mBAAiE,4BAAmC,oBACzG,CAAWC,MAAqB,IAAK,UACnCA,EAAkB,WAAO,CAAK,YAAY,EAE5C,QAAK,iBACL,MAAK,WAAe,UAEtB,iBACY,0BACH,iBACH,OAAY,IACpB,IAGE,GAAI,4BACF,CAAO,EACX,QACQ,oBACK,OACP,OAAM,IAAK,6BAEJ,OAAiB,MACxB,aAAmB,oBACnB,OAAK,WAAe,KACb,CACL,WACA,GAAM,CACP,QAEC,EAAK,QACP,QACE,GAAO,OACP,MAAM,CACP,EAEH,OAAMA,CAAoB,QAAQ,sBAClC,SAAK,+BAGP,CAAO5uC,EAAQ,MACR,MAAQ,OACb,OAAW4uC,OAAqB,EAAK,UACnCA,EAAkB,SAChB,MAAO,sBAIN,UAAU,qBACN,EAAS,iBAAiB,MAAK,SAAU,2BAClC,eAAkB,GAAU,EAE5C,MAAK,YAOH,GACC,CAAClqD,QAA0DO,EAAwB,CAI1FA,KAAsBN,UACpB,wCACA,cAA2B,CAAqBmqD,OAChD,gCAAuDC,EACvD,uBAAwB,IAAqBC,CAC/C,CAAC,EAGD,IAAIhqD,KAA2B,EAAG,GAGlC,QAASiqD,EAAwCC,EAAoB,MAC/DC,CAAqB,GACrBxoC,OAAoB,YAAe,EAAG,GAAE,OAC5C,GAAIA,EAAK,MACI,EACX,SAAiC,EACjC,SAAW,SAASjS,EAAQ,CAC5BA,QACAA,CAAW06C,EAAc16C,EAAQ,CAC1B26C,IACX,CAEE,WAAI1oC,CAAK,CACP,OAAMjS,CAAW06C,EAAczoC,CAAG,EAClC,OAAO0oC,EAAc36C,CAAQ,CACjC,CAEE,KADM46C,MAAc,OAAY,KAAK,KAAKJ,MAExCvoC,EAAMA,EAAI,CAAC,OACPjS,CAAW66C,EAAe5oC,GAC9B,OAAAjS,EAAW06C,EAAc16C,CAAQ,EAC1B26C,IACX,CACE,UAASC,CAAcE,EAAkBC,EAAO,OAC9C,CAAO,IAAI,OAAO,mBAAmC,2DAEvD,IAASC,KAAqBziD,CAAO,SAEjC,CAAI,CAAC,6BACH,GAAOA,EAET,GAAI,CACF,WAAgB,CAAI,YAAY0iD,EAAU,GACxC,OACD,IACK/wB,GAAY55B,EAAK,kBACvBiI,EAAQ2iD,EAAQ,OAAOhxB,OAE/B,YAEI,KACJ,CACE,SAASywB,EAAcpiD,IACrB,WAA0B,YAAc,KAAKA,IAAK,CAChDA,EAAQyiD,EAAW,SAAc,EAC7BP,IACFliD,EAAQyiD,IAAW,WAAcziD,CAAK,QAK5C,UAAyB4iD,CAAuB,CAC9C,OAAMjtB,CAAU,CAAE,EAClB,MACA,QAAa0sB,GAAc,mCAAmC,EAAI,EAClE,WAAqB,IAAKO,CAAqB,KAAO,QACpD,EAAI,IAAMC,MAAclhD,CAExB,GADAvJ,EAAI,aAAc,EACdA,KAAKu9B,IACP,EAAIv9B,KAAM,CACR,MAEF,QACR,CACMu9B,EAAQv9B,CAAC,KAAW0qD,CAAI,EAE1B,SAAgB,KAChB,mBAA4B,KACpB1qD,aAGDyqD,EAAMC,CAAI,GAAIntB,CAAQv9B,EAAC,CAC5B0qD,gBAES,OAAa,GAChB1qD,eACuB,CAG7B2qD,GAAM,KAAS,CACrB,CACI,OAAOA,EAAM,KAAK,GACtB,CACE,UAAST,CAAetiD,eACZ,IAAW,GAAG,EAAG,GACzB,KAAM+iD,CAAQ/iD,GAAM,KAAM,EAAC,CAAE,aAC7B,QAASkG,EAAI,MAAa,OAAQ,EAAEA,GAClC,SAAkB68C,CAAM78C,CAAC,OAAE,GAAQ,MAC/B88C,KAAc,MACT,EAAID,WAAe,EAAGC,CAAS,QAChC,GAAS98C,IAAI,CAErB68C,MAAWA,CAAM78C,CAAC,QAAE,QAAW,WACvC,CACMlG,EAAQ+iD,EAAM,OAAK,CAAG,CAC5B,CACI,WAEF,UAAuBE,CAAU,CAC/B,MAAMC,MAAuB,MAAQ,GAAG,EACxC,KAAIA,EAAgB,GAClB,OAAOD,EAET,UAA0B,WAEpBjjD,GADYijD,CAAS,SAAqB,EACxB,WAAQ,WAChC,SAAkBP,EAAU1iD,CAAK,UAEnC,CAASmiD,WACH,CAACniD,EAAM,WAAW,gBAAS,cAAuB,KAAKA,MAGpDA,CAAM,WAAW,kDAAkD,QAAU21B,EAASwtB,IAAmB1H,OAC1GiH,GAAa,KAAOA,IAAa,KACnC,MAAAjH,EAAOA,IAAK,YAAW,CAAK,IAAG,CAC/BA,MAAY,eAAW,4BAA4C,CACjE,SAAO,qBAAoB,OAAS2H,CAAK,sBAKpC,GAAK3H,GACpB,SACM,QAAkB0H,CAAS1H,kBAO7BxjD,EAAgBD,KAAuB,KAK3C,YACE,kBACA,SACA,cAAAqT,IACA,mBAEA,EAAMg4C,cACJ,cACA,aAAiB,MAClB,KACc,QAAShF,mBAAkC,CAAG,GAAE,CAe/D,MAdI,CAAC,wBAGQ,gBAAkB35B,EAC3BA,GAAU,EAAIrZ,IAGdY,IAAiBq3C,uBAGgB,CAAM,WAGnBjF,CAAkB,kBAAkB,GAAK,cACzC,qBAGX,4BAGNwD,EAA0BxD,EAAmB,GACpD,IAAM4D,EAAqB5D,IAAkB,mBAAqB,EAClE,KAAwB,CACtB,SAAyE,EACzE,KAAa,SAAS,GAAG,IACvB,CAAI,oBACS,MACnB,IAAc,EAEV,MAAOpmD,EAAc,WAAWwP,WAGpC,CACE,OAAO,QAET,OAAS87C,CAA0B7B,OACjC,KAAIA,KAAW,QAAkB,GAAK12C,IAAI,UAAW,MAAO,KACnD,CAAIjT,EAAK,8BAAoB,kBAE3BA,EAAK,+BAA4B,gCAAqC,mCAEnF,eACE,IAAO2pD,KAAW,gBAMd,EACC,CAACl3C,cAEY,CAAEA,KAAoB,gBAgB1C,GAASg5C,IAAT,cACE,EAAMC,KAAgB,cACtB,CAAIA,EAAU,uBAAkC,IACvCA,gBAEL,KAAgB,sBACD,EAAWC,CAAS,cAGrCD,KAAU,kBAGd,CAuMSE,EAAT,aAAkD,CAChD,aACE,GAAUF,KAAU,QACpB,YACA,OAAgB,QAChB,MAAgB,KAChB,KAAMA,QACN,MAAQ,gBAGZ,KA5OyC,CAAE/rD,gBACpB,EAAe,KACtC,CAAsB,EACD,IAAImR,EAA+C7Q,EAAoB,GAAG,uBAK3F6Q,EAA6C,eAC1C,KAAK4L,0BAAgC,UAAI,QAAArc,QAAA,kBAC9CwrD,EAAO,uBAAqC,kBAAM,wCAC1C,IAAKnvC,eAAgC,2CAAO,oBAC9C,CAAKA,QAAC,MAA+B,6BAAKrc,KAAA,6BAElD,CAAMyrD,IAAe,uCAenB,QACE,eACA,IAAK,KAAML,CAASvF,cACf,KAAS,UAAS,gCAAiC,UAAa,sBACtD,EAAK,IAAI,kBAAa,CACrC,KAAK,YAAc,gBAAsB,YAAe,EAAE,CAC1D,QAAK,iBAAqB,mBACrB,aACT,CACE,UAAI,sBACF,SAAY,wBAAoB,QAElC,cAAgB,CACd,YAAgD,UAAS,IAAK,uBAAoB,kDAAsD,CACxI,KAAK,qBAAqB,qBAAiD,EAAI,OAA4B,KACpG,sBAAK,CAChB,KACE,WAAetrB,EAAOnjB,MAChBA,KAAO,mBAAK,QACd,MAAO,MAET,OAAoB,SAAK,KAAU,QAA+B,KAAgB,EAAI,OAA6B,IAAMmjB,KACzH,YAAK,0BAA0Bhd,CAAW,EACnCA,CACX,IACE,kBACE,QAAK,kBAAoB,QAAa,CACtC,UAAW9C,eAAe,gBAAqB,MAAM,CAAC,EACpDA,OAAO,EAAOE,CAAM,CAE1B,GAEA,KAAM+wC,CAAe,IACnB,SAAY1F,EAAQ,IAClB,EAAK,QAAc,GACnB,KAAK,iBACA,UAAe,KACpB,cAAK,EAAa,KAClB,MAAMH,OAAgB,OACtB,QAAK,UAAiBA,CAAO,OAC7B,QAAK,KAAU,MACf,CAAK,qBACA,kBAAuB,yBACvB,sBAAyB,OACzB,sBAAyB,iBAAK,KACjC,iBAAK,CAAgB,IAEvB,eAAK,cAAyBA,CAAO,eACrC,YAAK,eAA4B,cACjC,EAAK,gBAAkB,KACvB,KAAK,gBAAkB,QAAQ,cAAe,gBACzC,sBAA6B,UAAe,CACrD,CACE,IAAI,6BACU,kBAAmB,MACnC,yBAEW,IAAK,QAChB,CACE,MAAI,gBACF,QAAO,EAAK,cAChB,EACE,KAAI,oBACF,KAAO,gBAAK,OAEd,MAAI,oBACF,qBAAY,cAEd,sBACQ,MAAK,cAAgB,UACvB,gBAEA,QAAO,MACP,MACD,EAEH,KAAI,GAAK,mBACD,KAAK,aAEb,MAAM2D,EAAQ,KAAK,gBAAgB,cAC/BA,IAAU,eACP,eAAkB,KAAQ,cAAe,OAClC,SAEd,KAAK,SAAWA,EAAM,OACtB,OAAK,WAAa,OAChB,CAAQ,MAAK,UACb,GAAO,KAAK,iBAGP,CACL,MAFa,IAAI,WAAWA,EAAK,CAAE,OAGnC,KAAM,EACP,GAEH,gBACO,GAAK,gBAAiB,CACzB,KAAK,OAAO7uC,CAAM,EAClB,MACN,KACI,CAAK,gBAAgB,aAEvB,aACO,sBACA,gBAAgB,OACzB,CACE,mBAAmBgxC,EAAgB,CACjC,KAAK,gBAAkBA,GACvBA,CAAe,GAAG,kBAChB,KAAK,qBAAgB,CAAS,CACpC,CAAK,KACc,eACE,oBACV,CAAQ,GACb,KAAK,gBAAgB,WACtB,CACDA,SAAkB,MAAShxC,CAAU,GACnC,GAAK,qBAEG,wBAAyB,CAAK,wBACjC,OAAO,MAAiD,eAAe,uBAAuB,IAEjG,aAAK,KACP,UAAK,cAAgB,OAAQ,GAAK,cAGxC,CACA,eACE,qBACqB,MACnB,EAAK,UACL,KAAK,aAAe,QACpB,CAAK,mBACL,MAAK,aACA,cAAkB,MACvB,OAAK,aAAkB,SAAQ,gBAC/B,KAAMkrC,UAAgB,CACtB,KAAK,+BAAgC,OACzC,CACE,OAAI,8BACK,EAAK,yBAEd,GAAM,iBACE,KAAK,sBAAgB,CACvB,eACF,EAAO,CACL,YAAO,CACP,MAAM,CACP,EAEH,GAAI,OAAK,WACP,UAAM,CAAK,iBAEb,EAAM2D,KAAQ,gBAAK,EAAgB,cAC/BA,QAAU,EACZ,UAAK,sBAA0B,WAAe,KACvC,0BAEOA,CAAM,OACtB,UAAK,QAAa,CAChB,OAAQ,KAAK,aAIb,IAFa,IAAI,sBAGjB,IAAM,GACP,CACL,KACE,GAAO7uC,IACL,EAAI,CAAC,MAAK,eAAiB,IACzB,EAAK,UACL,MACN,IACI,EAAK,mBAAgB,KAAQA,CAAM,CACvC,CACE,eACO,aAAeA,GACpB,MAAK,gBAAgB,cAEvB,6BACO,UACLgxC,EAAe,GAAG,YAAY,GAAM,GAClC,YAAK,gBACX,CAAK,OACiB,SAAO,CAAM,OACd,IAAS,EACxB,QAAK,KAAQ,CACb,KAAK,0BACN,EACDA,EAAe,eACb,OAAK,KAAOhxC,CAAM,QAEhB,CAAK,mBACF,2BAAwB,EAAK,YAAY,IAepD,0BACE,OACE,KAAMqrC,oBAES,aAAe,kBACRv1C,CAA6C,qBAAoB,eAAgB,KAAK,IAAI,SAC5G,GAAK,YAAeqI,EACpB,QAAK,gBAAmB,eACxB,CACR,CACM,KAAK,mCACA,2BACCmtC,EAAoB1hD,MAAQ,2BAA6BA,CAAK,aAAa,GAE/E,mBAAA2hD,EACA,0BACoD,gCAAkC,CACtF,mCACe,CACf,eAAgB,KAAK,gBACrB,gBAAc,EAAK,iBAErB,MAAK,2BACA,mCACL,MAAK,YAAeV,CAA+C,4BAA4C,CAChH,EACD,SAAK,UACD,MAAK,KAAK,YAAa,UACzB,CAAK,SAAWgG,EAAK,SAAQD,CAAqB,KAAK,KAAMvF,EAAO,WAAW,KAE/E,UAAK,UAAiB,IAAQuF,EAAqB,KAAK,KAAMvF,MAAO,OAAW,2BAEjE,GAASrrC,uBACJA,CACpB,WAAK,aAAmB,OAAOA,CAAM,CAC3C,CAAK,EACD,KAAK,gBAGT,SAAMixC,UACJ,WAAY5F,KAAe5uC,CAAK,CAC9B,UACA,IAAK,iBACL,UAAW6U,aAAmB,WAC5B,CAAMrkB,EAAQo+C,EAAO,qBACP,QAGd,IAAK,gBAAyBp+C,EACpC,CACI,QAAK,UAAa,OAAQ,SAAc,cACxC,EAAMikD,MACJ,GAAInwB,IAAS,kIAKR,yBAGH,kFAC4E,sEAI3E,0fA4BL,QACA,GAAIrR,qXA+ByC,kEACD,gGAEU,cAChD,KACJ,CACFyhC,qHAIiB,GAASl5C,CAAG,OAAOzP,GAAQ,QAAI,OAAWA,CAAI,aAE7D4oD,0BAA0F,EAChG,YAAMC,KAA0BpzB,CAA8C,wBAC5E,QAAcl1B,GAAOV,CAAQ,UACb,aAAaU,WAG/B,CAAMuoD,WAA8BrzB,CAA8C,qBAAsB,QACtG,KAAWhmB,CAAKgpB,EAAiB,CAC/B,OAAO5D,KAAe,MAAK70B,UACzB,GAAUA,EACV,iBACN,GACA,CACA,EACA,QAAM+oD,OAAoCtzB,EAA8C,+BACtF,cACE,QACJ,CACA,CAEAtmB,EAA0B,CAC1B,OAAQuV,EAAG,CAAEvV,MAAgC,CAAE,CAAC,CAEhD,KAEM,CACC,CAACjT,GAAqCC,UAEJ,EAAEA,GAAqB,CACzC,uBAAuB,GAAqB6sD,CACnE,CAAsB,EACD,IAAI17C,GAA+C7Q,CAAoB,GAAG,EACtEwsD,KAA0E,EAAG,KAGtG,KAAiB,WAAO,OAAU,CAClC,MAAMC,CAAqB,CACzBC,MACAC,GAAW,GACXC,IAAW,EACXC,IAAW,EACX,cAA6B,CAC3B,KAAAloD,GACA,gBAEJ,CAAK,CACD,KAAK+nD,GAAa,IAAG90C,CAAkB/G,EAA6C,0BAAoB,GACxG,KAAK87C,KAAY,CAAE/0C,EAAkB/G,GAA6C,qBAAoB,KACtG,QAAK,eACA,CAAS4I,EACd,KAAK,OACT,CACE,aAAc,CACZ,GAAI,MAAKmzC,GACP,OAAO,IAAKC,MAEV,CAAC,KAAKA,YAGV,KAAM,CACJ,MAAAC,EACA,KAAAp/C,CACD,EAAG,KAAK,MACT,OAAI,KAAKg/C,GACAh/C,GAAM,YAAc,SAClB,EAAKi/C,GACPG,GAAO,aAAe,MAExB,EACX,CACE,mBAAyC,EAAO,CAC1CC,QAAaC,EACZn8C,EAA6C,aAAa,wCAAuC,CAEtG,KAAK+7C,KACL,OAAKC,CAAW3sB,CACpB,CACA,CACA,QACE+sB,GAAiB,KACjBC,IAAU,WACK,IACfC,MAAS,GACT,eAAoCt8C,cAA6C,QAAoB,QAAS,CAI5G,UAHK,kBACL,MAAK,GAAO,MACZ,OAAK,MAAU,IACXtN,MAAS,SAGR,UAAY,CACjB,SAAK,IAAUA,GAAK,OACpB,KAAK4pD,IAAS5pD,CAAK,UACnB,MAAWwyB,aAAc,CACvB,KAAKm3B,KAAQ,GAAIn3B,CAAM,IAAI,UAAgD,CAE7E,aAAS,MAAc,KACrB,YAAWA,EAAS,MAAKm3B,MAAQ,WACzB,aAA2B,CAGrC,kBAAsB,KACpB,OAAa,GAAM,EAAE,aAAYF,CAAU,MAE7C,aAAkBzpD,EAAK,IACrB,MAAK2pD,QAAe,CAAE,mBAExB,IAAKE,eAAoB,CAAS,EACtC,CACEC,cACiBC,EAAM,eAEnB,OAAO,CAET,MAAMC,eACGr/C,OAAWwe,CAAQxe,MAC1B,KAAMtJ,EAAU0oD,GAAO,MACnBE,EACJ,GAAI,OAAM,OAAQ5oD,CAAO,KACf,gBAA0C,EACzC,KAAKsoD,KAAQ,aACTA,EAAQ,IAAItoD,CAAO,KAAE,aAElC,uBAAsD,4BAAqCA,CAAO,eAG5F2oD,CAAQ,MACT,KACH,IAAKC,EACH,SAEF,YACG,GACH,GAAIA,SACK,KAET,WACG,KACH,KAAQA,CACV,QACE,MAAO,EACjB,CACA,CACI,OAAOD,IAAa,YAEtB,WACM,MAAKL,CAAQ,WACf,YAEGn3B,CACH,SAAGllB,EAA6C,OAAM,oCAAqC,EACpF,KAET,CAAIklB,QAAM,CAAS,gBACZ,WAAuB,KAIrB,KAAKm3B,EAAQ,QAAY,EAAE,kBAHgB,EAAM,6CAC/C,MAGJ,CAAIn3B,EAAM,QAAS,MAAQ,CAChC,IAAIA,CAAM,eACR,OAAO,CAAKs3B,IAA8Bt3B,CAAM,UAAU,EAE5D,cAAqBA,EAAM,SAAW,QAAS,CAC7C,WAAW5vB,SAAY,CAAK,CAC1B,MAAK,GAAK+mD,IAAQ,GAAI/mD,CAAE,EACtB,UAAG0K,CAA6C,MAAM,sCAAuC,EAAE,EACxF,IAET,WAAiB,GAAI1K,GAAI,QACvB,QAEZ,CACQ,OAAO,CACf,SAAiB4vB,KAAM,YAAW,WAC1B,EAAW5vB,MAAM4vB,CAAM,WAChB,YAAmB,CACtB,UAAGllB,CAA6C,MAAM,uCAAuC,CAAE,GACxF,EAET,GAAI,CAAC,MAAKq8C,KAAQ,CAAI/mD,CAAE,IAAE,OACxB,QAGJ,YACR,WAAuB,KAAW,SAAU,CACpC,UAAWA,MAAM4vB,CAAM,YAChB,EAAKm3B,KAAQ,EAAI/mD,CAAE,KACtB,MAAG0K,IAA6C,IAAM,8CAGxD,EAAI,CAAC,OAAKq8C,CAAQ,QAAQ,oBAI5B,EAAO,EACf,SAAiBn3B,EAAM,WAAW,WAC1B,QAAW5vB,IAAM4vB,MAAW,CAC1B,GAAI,EAAC,MAAKm3B,CAAQ,YAChB,MAAgD,MAAM,qCAAqC/mD,SAG7F,EAAI,KAAK+mD,GAAQ,IAAI/mD,CAAE,MAAE,QACvB,EAAO,EAEnB,CACQ,QACR,CACM,UAAG0K,CAA6C,mBAAM,yBAAyC,KAAM,IAAG,CACjG,GAET,SAAGA,MAA6C,EAAM,uBAAsBklB,CAAM,eAGpF,gBAA4B,EAAM,KAChC,EAAMA,EAAQ,KAAKm3B,GAAQ,IAAI/mD,CAAE,MAC5B4vB,EAAO,IACPllB,EAA6C,MAAM,qCAAqC1K,CAAE,EAAE,MAC/F,KAEI,gBAAwB+5B,QAC9B,OAAsB,GAC1B,CACE,YAAY,CACV,MAAAstB,IACA,YACC,CACD,IAAID,EACJ,UAAW9lC,KAAQ+lC,EAAO,CACxB,aACE,CAAK,OACL,EAAK,MACL,IAAK,SACHD,EAAW9lC,EACX,SAEJ,MAAMsO,MAAQ,CAAKm3B,GAAQ,IAAIzlC,CAAI,EACnC,MAGA,MAAQ8lC,EAAQ,aAEN,mBACN,OACF,CAAK,MACHx3B,EAAM,YAAYi3B,EAAU,EAAK,EACjC,MACF,IAAK,mBACG,IAAYA,EAAU,CAACj3B,EAAM,OAAO,MAC1C,CACV,IAEI,GAAKk3B,aAEH,qBAAuB,OACzB,CAAO,QAAKG,KAAiB,GAAQ,aAAY,KAAO,OAE1D,UAAW,CACT,QAAK,KAAKF,EAAQ,cAIT,MAAKC,CAAO,WAEb,CAAG,SAAa,IAAI,CAAE,MAClC,CACE,WAAY,IACV,MAAO,GAAKD,IAAQ,MAAO,SAAoD,cAAe,EAAKA,cAErG,UACE,OAAO,EAAKA,GAAQ,IAAI/mD,CAAE,GAAK,IACnC,CACE,SAAU,CACR,GAAI,MAAK8mD,IAAmB,WAC1B,CAAO,KAAKA,GAEd,MAAMr7C,EAAO,IAAI46C,MAAoD,qBACzDrmD,UAAc,EAAK+mD,KACxB,OAAO,MAAK,EAAIn3B,EAAM,UAAS,CAEtC,cAAYk3B,CAAiBr7C,EAAK,cAKtC,CAEM,MACEnS,KAA0DO,eAG3C,eAAkB,IAAqBytD,EACvC,oBAAsCC,EACtC,gBAAiB,IAAqBC,CAC7D,MAEqB,CAAI98C,EAA+C7Q,EAAoB,GAAG,EACtE09C,EAAiD19C,EAAoB,GAAG,EAGjG,MAAM4tD,EAA0B,IAC1BzsD,EAAoB,GACpB0sD,IAAsB,CACtBC,EAAc,KAAI,GACxB,IAAIC,QACJ,QAASC,KACP,EAAI,CAACD,EAAgB,CACnB,UAAe,eAAS,YAAc,EAAQ,QACvC,MAAY,sBACnB,SAAS,KAAK,OAAOr9C,CAAM,EAC3Bq9C,EAAiBr9C,IAAO,aAAW,CAAM,CACvC,OAAO,CACb,CAAK,CACL,IACE,IAAOq9C,CACT,GACA,UAA4B,CAC1BA,MAAgB,IAAO,OAAQ,KACd,OAEnB,SAAmBE,CAAY,CAC7B,gBAA+C,CAC/C,GAAIC,IACF,KAAOA,GAET,UAAoB,CACdC,EAAYttC,IAAI,GACtBA,IAAI,KAAO,MAAQA,OAAI,GAAO,YAC1B,KAAO,CAAG1f,CAAiB,MAAM8sD,EAAU,EAC/C,MAAMG,GAAUvtC,CAAI,iBACpB,GAAIwtC,EAASD,EAAQ,sBACjBE,GAAU,OAAK,CAAIF,EAAQ,sBAAsB,EACrD,OACE,KAAMG,QAA2BD,OACjC,OAAY,CAAIL,EAAYM,CAAK,OAC7B,IAAO,kBAAmB,IAAS,OACnC,MAGN1tC,EAAI,YAAc,MAClBA,EAAI,UAAU,EAAG,IAAsB1f,CAAiB,MACpD,SAAW,IAAK,IAAI,CACxB,OAAa0f,CAAI,gBAAgB,CAAG1f,MAAsC,IAC1EmtD,WACA,CAASpgD,OAAW,OAAa,CAAGA,IAAK,CAAGA,KAC1C,gBACY,EAAK,gBACf,CACN,CAEE2S,EAAI,eAAgB1f,CAAmBA,CAAiB,KACpD,gBAAmBA,CAAiB,MAC3B,aAAa,aAA4C,CACtEktD,EAAS,EACT,QAASngD,EAAI,EAAGC,KAAY,MAAQD,EAAIC,EAAID,GAAK,MAC3CsgD,CAAOtgD,EAAC,CAAI,EAAG,CACjBmgD,EAASltD,EAAoB,KAAK,WAA+B,KACjE,QAGA,eAAmB,UAAO,KAAS,CACvC0f,OAAWstC,EACPE,EAAQ,OACJE,EAAQF,OAAmBC,CACjC,oBAGF,OAAAR,UAA+C,CACxCD,CACT,CACA,sBACE,EAAMY,EAAU,SAAS,gBAAc,IAAM,EACvCC,EAAoB,eAExB,MAAa,eACC,IAAQ,MACtB,GAAQC,GAAK,MACb,WACD,CACD97C,MAAK,QAAU,YACTuW,GAAKvY,CAA6C,KAAK,UAAUgC,iBAAsB,OAAS,OAClG7O,CAAQ,KAAK,MAAMolB,EAAG,CAAC,KAAO,CAAC,EACnC,QAAcwlC,GAAOD,CAAK,qBAChB,EACR3qD,KAAS,GAAK,KAAK,CAErB,SAAmB6O,CAAK,8BAA+B,qBAA0B,KAC3Eg8C,YAAkB,CAAMzlC,YACxB0lC,EAAaD,EAAaE,OAChC,EAAItW,EAAMsD,QACI,CACZtD,QACAsD,CAAM3yB,EAAG,CAAC,EAAI0lC,QAEP1lC,CAAG,CAAC,OAAiB,GAAK,qBACN,CAAK,IAAIplB,CAAK,aAEpB,0BACjBgrD,KAAmB,WAChB,UAAen8C,CAAK,sBAClB,CAAO,mBAAsB,SAAY,SAAU,CAC5Dm8C,EAAS,OAAM,CAAI,SAAiB,aAAa,aAAU,EAE3DA,KAAS,KAAUC,CAAc,GAAGxW,UAAa,CAAC,CAAC,OACnDuW,CAAS,OAASC,CAAc,MAAO,gBAEzCD,EAAS,SAAW,YAA+B,OAAU,QACpD,oBACS,IAAWH,EAC7BJ,GAAQ,YAAa,OAAQ,gBAC7BA,EAAQ,cAAmB,MACnB,IAAME,IAAK,GACf97C,CAAK,oCACS,sBAAiB,6BAE/B7O,EAAU,YACcA,GAAS,IAAM,KAAK,KAEhD,gBACS,QAAI,GAAS,CACpBkrD,MAAkB,qBACWP,EAAK,UAAU,CAAC,IAAMA,KAAK,OAAU,CAAC,EAAG,CACtE,UAAkB,GAAK,IAAIA,EAAK,UAAU,CAAC,MAC7B,QAAK,CAAIA,KAAK,YACxBQ,GAAcC,IAAa,KAAK,IAAID,EAAWC,eAAiCA,EAAS,GAAI,KAC/FF,GAAkB,gBAIF,OAAc/rD,OAAM,OAAgB,QAAc,WAEjE,iBAAmB,IAAIsrD,EAASC,CAAiB,EAClD77C,GAAK,kCAGX,CACA,SAASw8C,KACP,KAAM,CACJ,KAAAt/C,CACA,MAAAmI,EACA,WAAAkU,KACA,CAAAvL,EACA,gBACA,cAAAyuC,CACJ,EAAMxsD,EACE,KACJ,GACJ,EAAMiN,KACJ,CAAIwI,EAAY,GAChB,MAAe,eAAgB,CAAK6T,EAAW,QAAS,OAEpD,WAAA6hC,IACE9qD,CACE,CACJ,wBACAsF,CACN,EAAQ2jB,OACiB3jB,KAAY6mD,gBACpB,CAAG7mD,EAAWyP,CAAK,oBACvB,UACA,0BAGP,aACM,SAAgB,uBAEV,QAAUoe,MAA2B,KAGjDlK,gBACU,WAAUA,CAAW,QAAK,cAE1B,QAAS,CACrBjpB,OAAM,OAEV,CACA,SAASosD,GAAO18C,CAAM,CACpB,GAAIA,GAAK,aACP,GAEF,WAAsB,gBACE,kBACQ,GACX+6C,IACnB4B,CAAW,eACX,CACJ,CACE,eAAU,wBACcC,KACf,0BAKX,+BAEI,SAAAC,CACA,2BAEA,QACA,mCACA,OACC,CACD,KAAK,sBACL,IAAK,iCAAiD,kBACjD,cAAa,IAAK,eACvB,KAAK,2BACA,oBAAgD,CACrD,KAAK,gCAA0B,eAAW,GAAe,QACzD,MAAK,OAAU,SACf,CAAK,sBAA0C,KAAI,4BAEnD,KAAK,WAAc,qBAAuB,CAC1C,KAAK,sBACH,UAAc,OACd,mBACA,GAAK,KACL,SAAgB,OAAS,WAAW,0BACpC,MAAY,IACZ,QACD,CACD,SACE,cACA,MAAA1sD,IACA,SACA,GAAAY,KACEC,CAAS,oBACR,KAAc,mBACnB,KAAK,aACL,KAAK,aAAcb,KAC+B,uBAAuC,KACzF,KAAK,YAAY,KAAQ,YAAc,CACrC,KAAK,kBAAoB,IAC/B,CAAK,IAAE,eAEL,CAAI,aACF,IAAO,KAAK,0BAEd,QACO,cACD,OAAK,cACF,eAAe,EAAI6N,EAA6C,oBAAe,8BAA8B,CAAM,gBACnH,MAAU,gBAEZ,OAAY,cAAwD,qBAAe,+BAE1F,QAAqB8+C,CAAY,iBACZrkD,CAAO,CACxB,MAAS,cACP,EAAID,EAAK,cAAS,sBAAkC,aAAS,sBACrDmB,KAAS,KAAK,WACpB,KAAK,mBAAsB,eAAc,eACpC,OAAW,SAAU,cAAI,KAAe,GACzCnB,CAAK,oBACF,wBAAwB,CAAM,iBAE9B,GAAO,KAAK,mCACI,oBAClB,SAAa,KAAK,UAAW,qBAItC,KAAK,6BAA+B,KACpCukD,CAAW,aAGf,WAAYnB,CAAS,iBACY,wBAAkB,GAAa,MAAK,oBAAmB,CAAIA,SAC1F,EAAK,8BACE,CAAK,0BACU,MACpB,SAAK,aAAyB,EAE5BC,EAAkB,+BACA,QAAc,UAC/B,WAAa,cAAQ,OAAc,EACtC,KAAK,WAAW,OAAOmB,CAAE,OAG7B,OACE,QACE,KAAA7yC,EACA,QAAA/C,cAEE,MAAQ,cAAe,MACvB01C,EAAa,QAAO,cACxB,CAAI,MAAK,iBAAmB,EAC1B,KAAMz1C,UACJ,EAAK,QAAQ,OAAO,KAAK,CAAC,CACxB,MAAAlS,EACA,OACV,UAEYiS,OACA,GACZ,CACU,QAAO,QAAmBjS,aAC1B,EAAK,8BAEJmS,CAAM,CACV,EACD,KAAK,UAAU,2BAAwB,OACvCD,KACN,aAAoB,qBACd,UACE5O,EACA,OAAAsjD,CACD,IAAG,aAAK,gBACJ,cAAqBA,CAAM,aAGhC,OAAM,CAAI,aAAM,sCAA6C,KAEvD,KAAK,QACE,GACbW,MAAW,CACjB,KAAO,EAAK,iBAAY,CAAM,CAC9B,CACA,KACA,KAAS7B,eACM,EAAIoC,IAA0B,CAC3C,QAAAj9C,CAAK,QAAS,KAGhB,UAAyB,CACvB,oBACA,CAAAhP,EACA,WACA,kBAAA6qD,IACA,qBACA,SACF,KAME,CALI3vB,qBACgD,kBAChD,CAAUl7B,EAAS,WAGnBksD,eAGIjtD,IACJ,aAAc,SACd,gCAHqB,QAAS,WAAW,uBAMzC,WAAY,aAGd,QAAWiN,cACF,OAA+B,GAAIA,MACnC,MACPs/C,CAAOvsD,IAMb,cAGkE9C,MAEzB,EAAEN,KACpB,yBAAwB,CAAqBswD,KAE/C,KAAmDhwD,EAAoB,KACnE09C,EAAiD19C,EAAoB,MAG9F,UACE,cACE,cAAe,UACf,MAAAkU,EAAgB,EACpB,QACoD,QAAQ+7C,EAAuB,6EAA6E,SAE1J,UACA,YACA,iBAAA94C,CACA,gCAKF,iBAHK,KAAgB,CAAE,cAClB,gBACL,CAAK,gCACDD,CAAa,wBACAA,OAAuB,mBAA0B,QAAeA,IAAY,SAAO,QAAaA,CAAY,SAAS,KAAI,QAAWA,CAAW,IAAE,KAChK,SAAK,cAAc,CAAKyiB,IAE1B,KAAK,6BACA,sBAAwB,CAACzlB,EAC9B,QAAK,0BACA,YAAiBwY,UACjB,qBACL,KAAK,cAAgB,CAAE,IACD,kBAAkBy5B,EAAOyD,KAC7C,WAAK,UACH,SACA,KAAAA,CACR,MAEIqG,CAAsB,wBAA6B14C,GAAU,IAC3D,EAAK,YAAY,IACf,SACA,GAAAA,CACR,KAEI04C,EAAsB,8BAAoC,CACxD,MAAK,gBACH,UAEH,CACDA,MAAsB,8BACpB,GAAK,uBAEPA,EAAsB,kBAExB,iBACE,KAAA9J,CACA,MAAAyD,CACJ,EAAK,CACD,MAAMjwB,UAASiwB,OAAiB,cAAoB,WAAeA,EAAM,OAAO,YAAaA,CAAM,+BAA+B,CAClI,GAAIzD,IAAU,OACR,SAAK,oBACF,2BAAmB,CAASxsB,CAAM,IAEvC,UAAK,OAAc,OAAW,aAG1Bu2B,CAAQ,KAAK,cAAc,KAAK,2BACpB,GAAW/J,EAClB,KAETxoC,CAAY,UAAe,EACpB,KACR,IACE9M,IAA6C,MAAQq/C,OAAO,qEACrE,CACA,YACM,wBACF,CAAO,OAAK,oBAAoB,OAAW,CAC/C,CACE,kBACU,OAAU,kBACX,YAAkB,cACrB,WAAY,OAGd,MAAK,sBAAoB,UAAa,CACpC,aAAY,GACZ,MAAOrgD,KAAI,UAIjB,kBACE,OAAK,gBAAoB,gBAAiB,KAC1C,UAAK,UAAmB,CAC5B,CACE,mBAAmBgL,EAAQ,CACzB,MAAM3M,SAAS,cAAc,SACzBA,iBACG,gBAAqBA,CAAG,CAAC,CAEpC,IACE,sBACkD,KAAS,WAAK,aAAoB,+DAA+D,0BACvH,GAC1B,qCACwC,KAAMiiD,EAAc,uBAAuB,IAAK,2BAA2B,CACvH,EACE,cAAehK,EAAO3uC,EAAK,QACd,IAAK,uBACd,OAAO,KAET,UAAe,EAAI44C,SAA+C54C,CAAG,EACrE,YAAK,2BAAuB,cAAiB2uC,CAAO3uC,CAAG,EACvD,KAAK,cAAc,KAAKqD,CAAM,IAGhC,kBAAkBE,EAAQ,EACxB,IAAK,2BAA2BA,CAAM,EACtC,WAAWF,IAAU,OAAK,YAAc,MAAM,CAAC,EAC7CA,EAAO,OAAOE,CAAM,EAEtB,KAAK,uBAAuB,MAAO,CACvC,CACA,CACA,YACE,QAAYqrC,EAAQ+J,EAAch5C,EAAkB,GAAOC,EAA6B,MACtF,KAAK,SAAUgvC,CACf,SAAK,EAAQjvC,IAAmB,MAChC,CAAK,iBAA8D,SAAWC,CAA0B,EAAIA,EAA6B,KACzI,gBAAK,GAAgB+4C,GAAgB,CAAE,EACvC,MAAK,OAAU,EACf,cAAWvG,CAAS,UAAK,YACvB,EAAK,SAAWA,IAAM,SAExB,KAAK,UAAY,CAAE,EACnB,KAAK,cAAgB,QAAQ,UAC7BxD,EAAO,mBAAqB,OAC5B,GAAK,WAAa,IACtB,CACE,SAASwD,EAAO,CACV,KAAK,QAGL,KAAK,UAAU,OAAS,IACA,GAAK,UAAU,MAAO,GAC9B,YAChB,GAAOA,CACP,MAAM,CACd,EAAO,CAED,KAAK,cAAc,QAErB,KAAK,SAAWA,MAAM,OAC1B,GACE,IAAI,iBACF,IAAO,IAAK,cAEd,IAAI,UAAW,EACb,OAAO,KAAK,SAEd,IAAI,kBAAmB,CACrB,UAAO,GAAK,QAAQ,qBAElB,sBAAuB,CACzB,WAAO,CAAK,SAAQ,oBACxB,CACE,IAAI,eAAgB,CAClB,SAAO,GAAK,YAAQ,UACxB,CACE,MAAM,MAAO,CACX,MAAI,EAAK,cAAc,OAAS,EAE9B,eADc,GAAK,cAAc,OAAO,CAGtC,KAAM,MAGV,CAAI,UAAK,CACP,MAAO,KACL,EAAO,UACP,EAAM,EACP,EAEH,MAAMD,EAAoB,QAAQ,kBAClC,UAAK,UAAU,QACRA,EAAkB,OAC7B,CACE,WACE,IAAK,YACL,YAAgC,aAAK,EACnCA,EAAkB,UAChB,KAAO,SACP,GAAM,IACP,CAEH,KAAK,YAAU,KAAS,CAC5B,CACE,iBAAkB,CACZ,KAAK,QAGT,KAAK,MAAQ,SAGjB,EAAMyG,CAAkC,CACtC,YAAYhK,EAAQD,EAAO3uC,EAAK,CAC9B,KAAK,SAAU4uC,CACf,KAAK,WACL,GAAK,KAAO5uC,EACZ,KAAK,aAAe,KACpB,KAAK,UAAY,QACZ,MAAQ,QACR,oBAEP,SACE,GAAI,KAAK,MAGT,IAAI,KAAK,UAAU,SAAW,MAC5B,CAAK,gBAAeoyC,GACf,GACsB,GAAK,gBAAiB,GAC9B,mBAEjB,EAAM,OAER,iBAAgC,CAAK,cACjB,UAChB,GAAO,mBAIX,GAAK,gBAAU,CAAS,IAE1B,GAAK,WACL,GAAK,QAAQ,oBAAmB,OAElC,UAAI,uBACK,CACX,CACE,MAAM,MAAO,CACX,GAAI,UAAK,QAAc,CACrB,SAAc,IAAK,mBACnB,aAAK,MAAe,QAElB,IAAOA,EACP,kBAGK,KACP,UACE,GAAO,SACP,GAAM,EACP,QAEGD,YAA4B,YAAe,EACjD,YAAK,UAAU,OAAsB,CAC9BA,EAAkB,kBAGzB,SAAK,EAAQ,GACb,cAAWA,CAAqB,UAAK,SACjB,MAAQ,QACjB,MACP,QACD,EAEH,MAAK,SAAU,YACf,EAAK,QAAQ,yBAEjB,CAGA,QAGQlqD,IAAqCC,CAAqBM,IAAwB,CAErEA,EAAoB,EAAEN,KACpB,8BAEvB,YACS2wD,OACP,SAAc,GACd,WAAW,cACT,MAAO,KAAKA,EAChB,QACE,IAAW,WAAWh/C,EAAK,GACzB,CAAI,EAAE,OAAO,OAAW,KAAeA,cAAe,QAAWA,IAAQ,MACvE,KAAM,WAAU,6BAElB,WAEF,UAAW,WAAY,CACrB,OAAO,KAAKi/C,EAChB,CACE,eAAW,MAAUj/C,EAAK,CACxB,GAAI,OAAOA,KAAQ,aACX,MAAI,IAAM,2BAA2B,QAExCi/C,EAAOj/C,CAChB,QAOO,CAAC5R,IAAqCC,EAAqBM,KAE7CA,KAAsBN,EAAqB,CACzC,SAAU,IAAqB6wD,CACtD,CAAsB,KACD,CAAIC,IAAgE,EAAE,KAE3F,OACE,KAAO,aAAaC,GAAMtqD,CAAIvB,EAASmE,EAAS0Q,EAAQ,aAC3B,OAAStT,EAAI,GACtC,KAAO,IACR,EACD,SAAgB,KAAI,CAClB,IAAK,cACCtB,EAAW,QAAU,OACvB4rD,OAAK,SAAyB,SAE5Bh3C,GAAW,OACb,MAEFg3C,EAAK,iBAAiB,QAASpsD,GAAS,CACtC0E,EAAQ,0BACO,SAAO,CAChC,EACA,CAAS,EACD,QACF,EAAK,QACH,QAAY,UAAW,MAAS,UAAmB,WAAW,OAAS,+BACpC,YAAW,KAC1C0nD,MAAK,SAAa,UAAW,EAAI,EACxB5rD,KAAW,MAAUD,CAAQ,WAAW,QACjD6rD,EAAK,qCAEQ,SACb,GAEFA,EAAK,kBAAiB,SAAUpsD,GAC9B0E,EAAQ,WAAa,CACnB,SAAa,QAAO,SAAgB,MAAO,0BAAwB1E,EAAM,OAAO,aAAa,QAAQ,CACnH,CAAa,CACb,CAAW,CACX,OAIU,EAHIQ,YAAqB,IACvB4rD,IAAK,cAAa,KAAS5rD,EAAW,MAAK,CAEzC4U,KAAW,OACb,MAEFg3C,GAAK,iBAAiB,QAASpsD,IAC7B0E,CAAQ,SAAS5C,EAAI,CACnB,MAAO9B,EAAM,YAC3B,CAAa,IAGL,aACG,QACH,CAAIQ,EAAW,gBACR,aAAa,cAAoB,CAAK,EAC3C,yBAA6B,CACvB4F,IAAO,0BACTA,CAAO,6BACS,OAAW,gBAAe,mBACnCA,EAAO,WAAW,WAI1B,kBAAiB,SAASpG,CAAS,CACtC,SAAgBA,CAAM,OAAO,kBACP,eAAuB,CAAKyC,aAAgB,IAAa,KAAE,GACjFiC,OAAQ,KAAS5C,CAAI,CACnB,MAAA6B,CACZ,kBAKE,CAAO,gBACL,OACA,QAAApD,CACA,UAAU,mBAEV,eAEA,CAAM,CACJ,cACEA,uBACwC,YACxC8rD,MAAW,GAAS,aACX,IAAO,GAAGA,IAAW,EAAI,IAAIj3C,GAAM,GAEhD,QAAW,CAACzI,EAAKhJ,MAAU,MAAO,oBAClB,KAGd,IAAQgJ,GACN,kBACY,IACRy/C,GAAK,6BAEP,OACF,CAAK,SACH,OACF,MAAK,GACHA,CAAK,4BAAa,MAClB,MACF,OAAK,KACH,OAAO,YAAY,GAAOzoD,CAAK,IAC/B,KACF,GAAK,cACHyoD,EAAK,mBACL,CACF,SACM,CAACE,UAA+B,KAAU3/C,MAAQ,YACpDy/C,IAAK,eAEjB,CAEQE,QACU,eAAkBF,KAAiB,UAAiB,KAAS,KAE5DC,cACb,CAAK,cAAaD,CAAMC,EAAW,OAAQ9rD,eAGxC,iBACsB,sBACI,qBACP,GAClB6U,IAAoB,cAAU,IAC9Bm3C,KAAW,sBAA4B,IAAI,aACxC,KACP,kBACE,gBACSxxB,CACT,oBACA,CAAAr4B,IAGJ,MAAM8pD,eAA8B,QACT,cACZD,CAAQ,EACnBrvD,IAAW,mBACK,QAAUA,CAAW,aAAS,MAAU,aAC1DuvD,EAAQ,OAAM,wBAGN,QAAa,KAAS,kBAAkB,IAElD,UACA,IAAS,cAAS,SAChB,CAAI1xB,IAAK,eACM,qBAAS,CAAeA,EAAK,MAAK,CAC/CwxB,IAAS,kBACyD,IAAQ,qBAAyB,GACjGnB,MAAS,CAAKsB,IAGlB,sBAIF,MAAgB3xB,KAAUwxB,CAAQ,CAAC,IACnC,GAAOI,EAAM,OAAS,IACpB,gBAAgC,QAChC,CAAI9iD,IAAI,MAAa,OAAS,OAAQ,IAC9B,GAAK,IACX,OAEF,MAAMyzB,YAAe,CAAS,KAAQ,KAAK,CAAE,YAC/B,MACZ,OAEF,gBAGA,KAAIh9B,EAAS,QAAS,CACpB,OAAMosD,CAAO,qBAAS,QAAqB,cAE3CN,EAAK,UACL,SAEF,QAAkB9uB,GAAO,eAAY,WAAQ,CAAS,mBAAsB,aAAW,QAAe,OAAS,mBAW/G,CAVA8uB,EAAK,OAAOQ,GACRtvB,WAAM,GACR,OAAK,iBACH,CAAMsvB,EACN,SAAStvB,CACT,eACA,EAAAloB,IACA,UAAA1S,CACV,MAEgB,qBACF,QAAa,EAAIkqD,CAAS,CAAC,UACxBtvB,IAAM,aACF,uBAAS,CAAeA,OAAW,EAC5CkvB,mBAAsE,wBAG1EI,EAAU,OAAOF,QAGrB,MAAW/O,KAAM8O,gBAAQ,QAAiB,mDAAuD,CAC/F9O,eAAgB,WAAY,EAAI,EAElC,SACE,UAGJ,OAAO,OAAOzgD,IACZ,sBAAuC,MAAS,kBAAkB,CAAC,KACnEA,CAAW,MAAI,IAAM,iBACV,CAAI,UAEnB,CAGA,EAEM,SACuC7B,CAAqBM,OAEzB,aAClB,CAAS,KAChC,CAAsB,eAEpB,QAAO,MAAY+Z,YACD,EACVm3C,MACJ,GAAA5lD,WACQ,QAAO,KAAO,GAAI,GAE5B,WAAcylD,EAAM,CAClB,KAAKA,CACH,YAEEjjD,CAAM,KACV,eACA,KAAInJ,KAAS,QACLosD,CAAK,sBACO,UAAgBpsD,CAAI,eAEvB,QAAY,cAChB,QAAW,WACbosD,KAAK,sBAHd,iBAMU,IACJ,qBAIE,SAGV,2BAGN,CACI,UAAQ,EACDG,CACX,GACE,KAAO,2BACIvsD,QAAS,WAAcA,CAAS,YAAWA,CAAS,WAAYA,GAAS,SACtF,CACA,YAM4BjF,MAA6C,CAEzEM,IAAsBwS,aAAkEE,MAAmC,CACtG1S,EAAoB,IAAEN,CAAqB,eACzC,CAAgB,IAA2BmR,EAA6C,gBACxF,sBAAuB,QAAmG,qBAC1H,yBAA4B,OAAwE,0BACpG,qBAAsB,KAA2BA,CAA6C,qBAC9F,0BAA2B,IAA2BsgD,OAAsD,4BAC5G,aAA4CC,EAA0D,6BACtG,QAAwF,kBACxF,oBAAqB,CAA2BvgD,eAA6C,QAC7F,qBAAqG,QACrG,gBAAe,EAA2BwgD,EAAuD,cACjG,UAAW,gBACX,YAAa,KAA2BxgD,CAA6C,YACrF,qBAAqB,GAA2BygD,KAAyD,iBACzG,UAAW,IAA2BzgD,EAA6C,UACnF,oBAAqB,IAA2BA,aAA6C,sBAC7F,QAAqB,KAAwE,qBAC7F,GAAK,QAAwE,EAC7E,YAAU,CAA2B0gD,EAAyD,SAC9F,8BAA+F,oBAC/F,sBAAiG,aACjG,SAAW,IAA2BC,EAA6C,qBACnF,QAAmB,mBAAwE,OAC3F,YAAgB,IAA2B3gD,mBAC3C,eAAe,CAA2BwgD,kBAC1C,sCAA+G,uBAC/G,2BAA6B,eAAwE,2CAErG,oBAAwF,UACxF,SAAU,eACV,KAAO,gBACP,kBAAwB,cAAwE,yBACrF,IAA2BA,IAAuD,eAC7F,KAAa,IAA2BG,eACxC,kBAAoB,IAA2BH,yBAC/C,oBAAuB,KAAkF,qBACzG,sBAAoB,CAA2BA,EAAuD,mBACtG,cAAc,GAA2BA,EAAuD,aAChG,UAAW,OAAkF,mBAC7F,IAAe,KAA2BA,CAAuD,kBACjG,wBAA0F,2BAC1F,CAAiB,MAA+E,oBAChG,gBAAoB,QAAkF,gBACtG,OAAQ,KAA2BxgD,CAA6C,OAChF,gBAAiB,IAA2B4gD,MAAoD,oBACvF,OAAwE,MACxG,WAC4F,GAAG,EACtED,EAA+CxxD,EAAoB,KACnEqxD,EAAyDrxD,EAAoB,KAC7EyxD,aAC8F,GAAG,EACjGN,EAAwDnxD,EAAoB,IAAG,CAC/EoxD,YAC+DpxD,CAAoB,KACnF0xD,EAAsD1xD,KAAsB,CAC5EsxD,EAA2DtxD,EAAoB,GAAG,EAClFuxD,EAA2DvxD,EAAoB,MACzBA,GAAoB,GAAG,CAClG4W,EAAiCnE,EAAsC,CAAC++C,EAA6C,WAC1C,EAAQ,MAAM56C,KAAoCA,GAAgC,CAAC,GAalK,sBACmB,SAEnBlE,CAA0B,GAC1B,QAAaA,KAA8B,CAAE,CAE7C,EAEM,MACEjT,aAEiC,CAAEC,GAAqB,MACzC,wBAE0CM,GAAoB,EAAG,KAExF,SACE,KAAS,KACT,KACA,SAEI2xD,CAAa,CACjB,QAAS,KACT,SACA,aAAiB,IACjB,KAAO,CACP,iBACO,CACP,KAAM,IACN,YAAe,OACf,YACF,CACA,iBAIE,IAHM52C,eAAkB,KAAS,OAAOA,GAAW,mBAAuB,IACrE62C,EAAsC,aAAa,0EAGtD,KAAK,kBACH,KAAO,KAAIA,CAAsC,mBAAsB,KAAO,EAChF,IAAK,yBACH,IAAO,MAA0C,uBAA2B,MAAO,kBAChF,mBACQA,EAAsC,0BAAyB,QAAoB,EAChG,IAAK,8BACH,sBAAiD,mBAA4B72C,EAAO,QAASA,aAC/F,CAAK,0BACH,OAAO,GAAI62C,CAAsC,sBAAsB72C,WAAgBA,CAAO,OAAO,MACvG,IACE,OAAO,kBAA0C,UAAsBA,KAAO,QAAgB,UACpG,CACA,IACA,GAAM82C,CAAe,EACnB,WAAYC,EAAYC,EAAYC,EAAQ,CAC1C,KAAK,uBACA,mBACA,CAASA,EACd,OAAK,SAAa,EAClB,KAAK,UAAW,CAChB,MAAK,WAAc,OAAO,OAAO,KAAI,CACrC,KAAK,kBAAoB,OAAO,uBAC3B,wBAA8B,MAAO,kBACrC,OAAgB,2BAChB,iBAAqB3tD,IACxB,OAAMd,CAAOc,GAAM,KACnB,GAAId,CAAK,kBAAoB,WAC3B,OAEF,MAAS,SACP,SACA,MACR,IACUA,MAAK,KAAU,KACjB,EAAM0uD,MAAkB,SAClBzC,EAAa,MAAK,wBAAqByC,CAAU,IACvD,CAAI,CAACzC,MACH,GAAM,GAAI,QAAM,4BAAuC,MAEzD,UAAO,CAAK,qBAAqByC,CAAU,EACvC1uD,EAAK,sBACPisD,EAAW,UAAa,QAAI,MACnBjsD,EAAK,eAA0B,QAC7B,KAAO2uD,EAAW3uD,mBAE7B,OAAM,CAAI,OAAM,yBAA0B,QAGpD,CACM,QAAe,QAAK,kBAAmB,CAAM,EAC7C,GAAI,KACF,UAAU,oBAAM,iBAAoC,oBAE7C,cACD4uD,CAAe,KAAK,sBACA,KAC1B,GAAI,QAAQ,SAAUl4C,sBAEnB,CAAK,UAAUm4C,CAAQ,CACxBJ,GAAO,WAAY,CACjB,WAAYG,EACZ,WAAYE,gBACW,GACvB,UAAY9uD,EAAK,WACjB,2BAGK,WACL,UAAY4uD,EACZ,eACA,OAAUG,GAAa,KACvB,WAAY/uD,EAAK,WACjB,OAAQ2uD,EAAWn3C,CAAM,CACrC,CAAW,CACX,CAAS,EACD,OAEF,GAAIxX,EAAK,uBAEP,IACR,CACMyB,EAAOzB,EAAK,IAAI,CACjB,EACDyuD,EAAO,iBAAiB,cAAW,CAAK,kBAAkB,EAE5D,YACE,EAAMO,EAAK,KAAK,gBAChB,CAAIA,EAAGztD,CAAU,EACf,MAAM,IAAI,QAAM,wCAA0CA,CAAU,GAAG,EAEzEytD,EAAGztD,CAAU,mBAGb,QAAK,CAAO,YAAY,CACtB,wBAAiB,MACjB,QAAY,KAAK,aACjB,OACA,MACD,EAAE0tD,CAAS,GAEd,eAAgB1tD,KAAkB0tD,CAAW,CAC3C,QAAmB,OAAK,cACL,UAAQ,cAC3B,OAAK,qBAAmChD,EACxC,KACE,IAAK,QAAO,mBACV,IAAY,KAAK,WACjB,aAAY,GAAK,YACjB,QACA,gBACA,EAAAjsD,CACD,EAAEivD,CAAS,CACb,OAAQv7C,EAAI,CACXu4C,EAAW,eAEb,EAAOA,SACX,CACE,mBAAiCiD,EAAkBD,MACjD,GAAME,EAAW,KAAK,YACpBZ,CAAa,KAAK,cACL,MAAK,SAClBE,EAAS,WAAK,CAChB,aAAW,qBACFW,EAAc,CACnB,uBAAgC,QAAe,CAC/C,YAAK,oBAA0B,CAAI,CACjC,WAAAA,KACA,OAAWC,EACX,SAAU,KACV,wBACA,CAAU,EACX,IACM,eACL,SAAAd,IACA,SAAAC,EACA,SACA,YACA,QACA,UAAaY,EAAW,eACd,CACLC,IAAgB,MACxB,CACD,KAAMD,QACJ,EAAME,KAAiB,OAAQ,YAAe,EAC9C,mBAAK,YAA0B,MAAE,KAAWA,EAC5Cb,KAAO,UACL,gBACA,UACA,OAAQL,EAAW,KACnB,SAAAe,EACA,oBAAwB,KAClC,CAAS,IACqB,OACvB,EACD,QAAQ33C,EAAU,KACb62C,CAAsC,QAAQ72C,aAAkB,MAAO,oCAC1E,MAAM+3C,CAAmB,QAAQ,iBACjC,eAAK,oBAA4B,QAAaA,MAC9C,CAAK,kBAAkBJ,EAAQ,CAAE,SAAW,IAC5CV,CAAO,cACL,UAAAF,EACA,WAAAC,IACA,KAAQJ,EAAW,OACnB,WACA,WACV,CAAS,OACuB,MAE3B,CAAEc,GAELM,MACE,MAAML,EAAWnvD,EAAK,SACpBuuD,EAAa,KAAK,YAClBC,CAAaxuD,EAAK,WAClByuD,MAAS,CAAK,OACV/wB,EAAO,QACF,KAAK,aAAc19B,EAAK,MAAM,MAEvC,UAAe8iB,CAAO,EAAGmsC,MACnB,MAAK,WACP,OAEF,MAAMQ,KAAkB,EAAK,eAC7B,EAAK,kBACiB,QAAU,gBAC9B,KAAK,gBAAiB,OAAQ,kBAC9B,GAAK,MAAQ,OAAK,aAAe,SAEnChB,EAAO,YAAY,EACjB,UAAAF,EACA,aACA,UAAmB,SACnB,WACA,QACU,CACb,KACD,IAAQ,CACF,KAAK,cAGT,QAAK,SAAc,SACZ,QAAY,CACjB,cACA,YACA,UAAmB,MACnB,QAAAY,CACV,EAAS,CACD,OAAOzxB,EAAK,YAAYyxB,GACzB,EACD,QAAc,IACTd,KAAsC,WAAQ72C,QAAkB,MAAO,gCAAgC,CACtG,MAAK,kBAGT,CAAK,eACLi3C,GAAO,WAAY,CACjB,aACA,WAAAD,EACA,QAAQJ,CAAW,OACnB,QAAAe,EACA,OAAQR,EAAWn3C,CAAM,CACnC,CAAS,IAEH,mBAAgB,MAAQ,YAAe,EACvC,OAAQ,KACR,SAAU,KACV,gBACA,WAAaxX,OAAK,SAClB,UAEF0vD,SAAW,QAAe,QAAS,EACnCA,EAAW,MAAQA,EAAW,eAAe,QAC7C,QAAK,WAAoB,CAAIA,EAC7B,MAAI,MAAQ,eACFjuD,CAAOzB,EAAK,KAAM0vD,CAAU,KACnC,KAAK,WACNjB,EAAO,YAAY,CACjB,gBACA,QAAAD,MACA,IAAQJ,CAAW,oBACnB,cACS,EACjB,CAAO,CACF,EAAE,WAAkB,CACnBK,EAAO,iBACL,OAAAF,EACA,WAAAC,EACA,OAAQJ,EAAW,eACnB,SAAAe,EACA,OAAQR,EAAWn3C,CAAM,CACjC,IAEA,CACEm4C,GAAsB3vD,EAAM,IAC1B,OAAsB,cACP,MAAK,SACLA,EAAK,WAClByuD,EAAS,OAAK,QACS,IAAK,kBAAkBU,CAAQ,EACtDO,KAAa,KAAK,mBACZ1vD,EAAK,UACX,KAAgB,sBACL,GACP4vD,EAAiB,UAAU,QAAS,KAEnB,SAAU,wBAE7B,EACF,OAAgB,iBACL,OACPA,OAAiB,IAAS,QAAS,EAEnCA,SAAiB,EAAS,OAAOjB,EAAW3uD,KAAK,GAAM,CAAC,IAE1D,OACF,EAAKouD,EAAW,MACd,EAAI,CAACsB,MACI,aACL,UAAAnB,EACA,cACA,SAAmB,eACnB,OAAAY,cAED,CACD,OAEEO,CAAW,iBAAoB1vD,CAAK,YAAc,IACpD0vD,CAAW,eAAe,QAAS,EAErCA,GAAW,WAAc1vD,EAAK,YAC9B,MAAI,SAAQ,MAAU0W,GACpBA,eACV,CAAS,GAAE,MAAK,QAAY,CAClB+3C,KAAO,YACL,SAAAF,EACA,WAAAC,MACA,GAAQJ,IAAW,cACnB,OAAAe,GACA,QAAS,CACrB,CAAW,CACF,GAAE,QAAU33C,EAAQ,CACnBi3C,GAAO,WAAY,GACjB,SAAAF,EACA,WAAAC,GACA,SAAmB,aACnB,UAAAW,CACA,UAAyB,CACrC,CAAW,CACX,KACQ,IACF,OAAgB,QAEd,MADGd,EAAsC,QAAQuB,EAAkB,yCAC/DA,EAAiB,SACnB,MAEFA,EAAiB,WAAW,QAAQ5vD,GAAK,IAAK,EAC9C,OACF,IAAKouD,GAAW,WACXC,KAAsC,OAA0B,sCAAqC,CACpGuB,KAAiB,MACnB,MAEFA,MAAiB,QACjBA,IAAiB,SAAW,MAAO,EACnC,MAAKC,KAAkD,GACvD,KACF,SAAgB,QACXxB,CAAsC,QAAQuB,EAAkB,qCAAqC,EACxGA,IAAiB,SAAW,MAAMjB,EAAW3uD,EAAK,MAAM,CAAC,EACzD,kBACA,CACF,KAAKouD,gBAAW,EACVpuD,EAAK,mBACU,EAAW,QAAS,GAErC4vD,CAAiB,YAAW,OAAOjB,CAAW3uD,MAAK,EAAM,CAAC,GAE5D,IAAK6vD,GAAwBD,EAAkBT,CAAQ,EACvD,MACF,KAAKf,GAAW,OACd,SACE,EAEF,KAAI,UAAQ,WACFsB,cAAsBf,CAAW3uD,OAAK,CAAM,CAAC,CAAC,CAChE,CAAS,SAAO,qBACC,EAAY,QACjB,KAAAuuD,CACA,WAAAC,EACA,WAAmB,cACnB,UAAAW,CACA,UACZ,CAAW,CACF,EAAE,SAAU33C,EAAQ,CACnBi3C,MAAO,QAAY,CACjB,gBACA,WACA,QAAmB,gBACnB,SAAAU,EACA,OAAQR,IACpB,CAAW,CACX,CAAS,MACU,eAAe,OAAkB3uD,GAAK,OAAO,CACxD0vD,EAAW,YAAc,MACzB,IAAO,YAAK,KAAYP,GACxB,MACF,qBACY,GAAM,kCAGhBU,CAAwBD,GAAkBT,CAAU,EACxD,OAAM,MAAQ,eAA6B,WAAW,UAA0B,SAAU,aAA0B,SAAY,OAAO,CAAC,WACjI,KAAK,gBAAkBA,CAAQ,CAC1C,EACE,iBACO,IAAO,2BAAoB,GAAW,KAAK,kBAAkB,GAKtE,GAEM,GACC,CAACjzD,MAA0DO,IAAwB,CAErEA,EAAoB,EAAEN,IACpB,eAAgB,IAAqB2zD,CAC5D,IACA,KAAMC,GAAO,YACK,YACZC,CAAW,MACjB,MAAMF,CAAe,UACnB,GAAYG,EAAM,CAChB,KAAK,GAAKA,EAAOA,YAAO,CAAaF,EACrC,KAAK,GAAKE,KAAc,UAAaF,GAEvC,MAAO51B,EAAO,CACZ,SACA,GAAI,MAAOA,GAAU,SAAU,CAC7Bn6B,EAAO,IAAI,cAAiB,MAAS,EAAC,CACtCmpB,MACA,MAASxe,MAAYwvB,MAAM,GAAQxvB,MAAQA,OACzC,EAAMulD,EAAO/1B,KAAM,YACf+1B,GAAQ,GACVlwD,EAAKmpB,GAAQ,EAAI+mC,QAEJ,EAAIA,IAAS,EAC1BlwD,GAAKmpB,EAAQ,EAAI+mC,OAGtB,SAAU,eAAY,IAAO/1B,CAAK,EACjCn6B,EAAOm6B,MAAM,EAAO,SACN,cAEd,MAAM,GAAI,QAAM,oDAAsD,QAElEg2B,EAAchnC,GAAU,UAExBinC,KAAa,CAAI,YAAYpwD,EAAK,cACxC,EAAIqwD,WAEK,YACF,EAAK,GACZ,QAAW,WACTC,EAAK,YACQC,GAAKP,CAClBQ,EAASF,EAAKN,QAChB,EAASrlD,EAAI,SAAoBA,CAC3BA,EAAI,GACN0lD,KAAiB,GACjBA,CAAKA,EAAKE,MAAsBE,GAAST,CACzCK,EAAKA,qBACsBA,EAAKG,EAASR,iBAEzBU,EAAO,GACvBA,UAAc,SAEdC,KAAiB,GACjBA,CAAKA,EAAKJ,GAAKK,CAAYD,EAAKF,EAAST,EACzCW,GAAKA,EAAM,GAAKA,KAAO,GACvBA,CAAKA,EAAKL,GAAKM,CAAYD,EAAKH,EAASR,GACzCa,GAAMF,CACNE,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAKA,EAAK,GAAI,WAIlB,OADAR,EAAK,EACGS,GACN,IAAK,GACHT,IAAMrwD,CAAKmwD,GAAc,CAAI,EAAC,EAAK,MACrC,CAAK,GACHE,KAAWF,IAAkB,CAAC,OAChC,OACEE,CAAMrwD,EAAKmwD,GAAe,EAC1BE,MAAeO,EAAYP,WAChB,GAAKA,gBACWA,CAAKG,GAASR,CACrCG,IACFO,GAAML,EAENQ,GAAMR,CAEhB,EACI,aACA,CAAK,QAEP,SACE,IAAIK,EAAK,MAAK,EACZG,EAAK,aACP,EAAAH,OAAa,EACbA,EAAKA,EAAK,WAAaE,EAAYF,GAAK,KAASV,QACvC,SAAaY,MAAcC,CAAM,GAAKH,IAAO,IAAM,WAAaE,KAAe,GACzFF,SACAA,EAAKA,EAAK,eAA8B,MAASV,CACjDa,EAAKA,EAAK,WAAaD,IAAcC,UAAkB,IAAM,cAAaD,EAAe,IACzFF,EAAMG,aACS,CAAG,eAAa,OAAS,EAAG,GAAG,GAAKA,IAAO,uBAAgB,EAAS,EAAG,QAOpF,SACuC10D,GAAqBM,2BAG3B,IAAqBs0D,QACrC,qBAA2B,KAAqBC,CAChD,4BAA4B,OAC5B,sBAAwB,GAAqBC,EAC7C,qBAAsB,UACtB,WAAgB,OAChB,gBAAkB,IAAqBC,GACvC,qBACA,aAAe,KAAqBC,CACpC,oBAAqB,KAAqBC,CAC1C,qBAAsB,WACtB,YAAkCC,CAClC,gBAAe,EAAqBC,EACpC,kBAAkCC,CAClC,4BACA,IAAW,WACX,eAAqB,QACrB,YAAa,EAAqBC,WAClC,qBACA,qBAAqB,GAAqBC,OACrC,IAAqBC,EAC1B,2BACA,eAAmB,OACnB,cAAgB,IAAqBC,EACrC,uBAAqB,CAAqBC,EAC1C,kBAAmB,IAAqBC,EACxC,4BAA6B,YAC7B,oBAAuB,CAAqBC,GAC5C,MAAM,MACN,kBAAqCC,EACrC,YAA6BC,CAC7B,kBAAoCC,GACpC,uBAAwB,KAAqBC,CAC7C,QAAS,IAAqBC,KAC9B,gBAAmB,OACnB,GAAM,IAAqBx7B,UAC3B,CAAU,IAAqBy7B,QAC/B,WAAkB,SAClB,aAAe,EAAqBC,EACpC,0BACA,KAAQ,OACR,aAA+BC,EAC/B,cAAe,iBACf,IAAa,MACb,GAAM,IAAqBC,CAClD,CAAsB,YAEL,KAAO,SAAY,UAAY,WAAU,CAAO,oBAAsB,CAAC,SAAQ,WAAS,CAAM,EAAE,QAAQ,oBAAqB,uBAAwB,KAAS,YACzKC,CAAkB,kBACM,OAAU,CAAG,iBAErChB,CAAc,YAIb,eAEL,KACA,WACA,oBACA,iBAAqB,GACrB,6BACA,CAAQ,GACV,EACMiB,EAAiB,IACrB,sBAEA,OAAc,WACd,cAE6B,yBAE7B,QAAS,KACT,KACA,mBACA,GAAW,CACX,YACA,CAAK,IAEDC,UACI,EACR,OAAQ,WACR,QACA,eAAgB,MAChB,kBACA,cACA,oBACA,SAAa,CACb,kBAAiB,CACjB,4BACA,oBAAqB,IACrB,qBACA,cAAoB,GACtB,CACMf,KACJ,IAAO,KACP,cAAiB,CACjB,KAAM,UACN,YAAoB,GACpB,uBAAwB,OACxB,qBAAwB,mBAExB,uBAEIE,QACE,QACN,CAAQ,EACR,yBACW,CACX,iBAAkB,EAClB,sBACA,yBACA,cACA,kBAAkB,CAClB,sBAEgB,CAChB,2BACW,EACX,cAEIc,UAEJ,KAAM,KACN,MAAU,EACV,KAAM,QACN,CAAQ,IACR,MAAQ,CACR,WACA,QAAU,GACV,iBACA,WACA,KAAU,UACV,GAAW,eAEX,GAAO,GACP,IAAK,KACL,KAAO,EACP,iBAAgB,CAChB,MAAO,MACP,GAAO,wBAGP,WAAa,oBAEb,QACA,OAAQ,WAEV,KAuCE,WACA,SACA,cACO,CACP,YACF,CA4BMZ,UACI,UACR,CAAU,GACV,eAGA,CAAM,EACN,OAAQ,IAEJL,CAAM,CACV,eACA,aACA,WAAY,EACZ,YAAa,KACb,WAAe,EACf,WACA,oBACA,mBACA,KAAW,WAEX,WACA,UAAW,KACX,qBAEA,KAAS,EACT,YACA,kBACA,IAAW,KACX,QAAW,iBAEX,WACA,KAAM,mBAEN,KAAY,GACZ,yBACA,OAAiB,MACjB,kBACA,WACA,MAAM,WACE,CACR,UAAW,QACX,OACA,yBACA,OAAgB,cACL,EACX,mBACA,GAAS,IACT,oBAAsB,GACtB,eACA,SAAU,SACV,aAAoB,OACpB,cACA,QAAU,OACV,OAAU,CACV,+BACA,OACA,2BAA4B,MAC5B,WAAc,KACd,mBAAuB,MACvB,iBAAqB,GACrB,0BACA,UAAgB,GAChB,sBACA,wBACA,UACA,YAAe,CACf,0BACA,OAAmB,MACnB,aAAiB,MACjB,mBACA,mBAAkB,CAClB,eACA,iBAAkB,GAClB,mBACA,qBACA,UAAc,EACd,UAAW,GACX,uBACA,kBACA,uBAAyB,OACzB,aAAkB,UAClB,KAAa,SACb,WACA,+BACA,aACA,iBACA,MAAU,GACV,8BACA,GAAe,UACf,gBAAuB,EACvB,6BAA4B,CAC5B,mBAAmB,KACnB,uBAAyB,CACzB,6BAA8B,GAC9B,wBAAyB,IACzB,4BAA6B,EAC7B,yBAA0B,GAC1B,cAAe,EACjB,GACMkB,CAAoB,CACxB,2BACA,QAAoB,CACtB,GACA,GAAIlhD,EAAYqgD,IAAe,OAC/B,WAA2Bc,EAAO,CAC5B,WAAO,gBAIb,mBACE,CAAOnhD,CACT,CACA,SAASilB,OACHjlB,CAAaqgD,EAAe,wBAClB,UAGhB,SAASQ,CAAKj5B,sBAEV,UAAY,UAAYA,MAG5B,cACE,kBAEF,6BAKA,IAASw5B,IAAiBrjD,CAAK,IAC7B,cAAa,EAAQ,CACnB,KAAK,iBACA,GACL,IAAK,4BAEA,IACH,OAAO,KACT,KACE,MAAO,EACb,CACA,CACA,SAASyiD,EAAuBziD,UAAqBlM,CAAU,UACxDkM,EACH,YAEF,GAAI,CACF,OAAe,WAAe,SACxBlM,IAAQ,qBAA0B,mBACvBkM,KAAI,GAAM,KAAK,uBAEpB,OAAa,sBAGX,EACV,MACQsjD,kBAINC,EAAcj7C,EAAU,IAAI,eAAwB,EAAItI,CAAG,IACjE,CAAIqjD,kBAGR,KACE,MAAO,aAET,CAASG,EAAOrlD,EAAK23C,iBACnB,OAAO,sBACL,OACA,WAAa2N,EACb,wBACA,CAAU,EACd,CAAG,EACMzuD,CACT,CACA,MAAM0sD,YAAgD,CACpD,SAASA,MAA6B,CAChC,KAAK,8BACK,wBAAkC,CAEhD,MAAK,OAAUgC,EACf,0BAEY,KAAY,KAAI,mBACFhC,EACrBA,CACT,EAAG,EACH,cAAMiC,EAA0BjC,CAAc,cAChC73B,CAAK42B,MACf,GAAM52B,KAAK,yBACN,WAGT,CAAMw4B,aACJ,YAAYx4B,UACV,CAAMA,EAAK,uBAAuB,EAClC,MAAK,OAAU4nB,CACnB,IAEA,OAAMmS,mBACJ,KACE,mBAAW,UAAqB,CACpC,CACA,CACA,kBAAgD,CAC9C,YAAY/5B,MACV,GAAMA,IAAK,mBAAqB,CACpC,QAEMg6B,WAAoCnC,CAAc,CACtD,YAAY73B,EAAK6sB,EAAQ,CACvB,QAAW,wCACN,GAASA,EAElB,CACA,kCAEI,UAAW,WAAa,GAG5B,uBACE,QAAY7sB,OACV,EAAMA,EAAK,uBAGf,OAAS24B,CAAc7wC,IACjB,YAAiB,gBAAmB,IAAW,SACjDmyC,EAAY,0CAEd,EAAMpqC,EAAS/H,EAAM,SACM,KAC3B,UACE,OAAO,IAAO,cAAa,SAAM,CAAMA,CAAK,EAE9C,SAAiB,mBACWzW,EAAK6oD,KAC/B,KAAMC,CAAW,cAAuC,EAClDpN,KAAc,QAAS17C,EAAG8oD,CAAQ,OACjC,EAAK,OAAO,cAAa,qBAE3BC,EAAO,KAAK,EAAE,CACvB,CACA,wBACanpD,CAAQ,UACjBgpD,eAAY,wBAAoC,CAElD,qBACc,EAAI,cAClB,cAAoBpqC,QACZxe,CAAC,EAAIJ,EAAI,uBAEjB,OAEF,MAAS+nD,aACA,OAAO,cAAa7tD,mBAAwCA,wBAKrE,CAAS4tD,aACK,SAAO,UAAW,CAC9B,aAAsB,OACpBzkD,CAAIH,aAGR,CACA,WAASkmD,CAAiB,aACJ,YAAY,KAChC,OAAS,iBACU,KAAoB,4BAGhCtjD,gBAEL,GAAI,SAAS,IACN,uBAKX,OACE,WAAW,cACT,YAAc,KAAM,uBAEtB,iBAAW,UACT,cAAoB,4BAEtB,IAAW,gCACT,OAAc,IAAM,6BAA8B,cAAO,SAAoB,GAAW,MAE1F,QAAW,uBACL,CAAO,cAAc,CAAe,cAAO,IAAW,YAAa,OAC9D4iD,OAAa,aAClB,KAAO,gBAAU,GAAS,aAAS,CAAK,CAChD,CAAO,EAEIA,EAAO,KAAM,kBACX,EACb,CAAK,CACL,CACE,cAAW,kBAAsB,IAC/B,cAAoB,2BAAuB,KAAW,UAAK,IAAW,0BAA0B,CAAC,OAGrG,EAAMW,EAAa,mBAAiB,CAAG,IAAE,KAAQ/2D,WAAO,KAAW,SAAE,EAAS,EAAG,IAAI,MACrF,EAAMg3D,CAAK,IACT,UAAO,OAAaz2D,EAAGF,KACrB,UAAW02D,MAAa,CAAGA,EAAW12D,OAAgBG,CAAC,CAAC,KAE1D,OAAO,UAAY2X,cAEF,KACC,CAAC,EAAI,KACjB8+C,CAAOvsC,OACA,CAAC,EAAIA,WACAusC,EAEdvsC,GAAQ,aACA,CAAKvS,EAAU,MACR,KAAI,CACjB8+C,aACYvsC,CAAO,GACnBA,SAEFA,CAAO,CAAC,OAAgB,CACxBA,IAAQ,UAERusC,CAAOvsC,GAAQ,iBAEHusC,EACZA,OACAvsC,KAAYA,QACJ,kBAES,IACR,CAAC,oBAGF,CAAKvS,EAAU,MACf,KAAe,CAAC,OACL,sBAGjBuS,CAAO,GAAKusC,cAGdvsC,EAAO,CAAC,MAAgB,KAEnB,CAAC,OAAgB,CACxBA,cACQ,MAAgB,KAChB,GAAKvS,EAAU,CAAC,IAE1B,cAAO,CAAU++C,MACf,SAAY,MAAQ,CAAIA,IAAI,CAAIC,aAAmB,MAAQ,CAAIA,EAAG,IAAID,CAAG,CAAC,EAAIC,GAAI,KAAQ,MAAQ,CAAGD,MAAQC,CAAG,KAAQ,CAAC,IAAO,CAAC,EAAGD,IAAI,CAAIC,EAAG,CAAC,MAAQ,CAAIA,EAAG,OAAS,CAAGD,aAAoB,EAAIC,OAAW,CAAC,IAEjN,UAAO,WAAevpD,OACpB,OAAWA,CAAE,CAAC,EAAIlN,IAAG,CAAIkN,KAAOlN,EAAE,CAAC,IAAM,CAAC,KAC/BkN,CAAE,CAAC,GAAIlN,CAAE,IAAKkN,CAAE,SAAYlN,CAAE,CAAC,QACnC,CAAC02D,MAEV,MAAO,0BAA4B,CACjC,MAAMjuC,EAAIzoB,gBAAqBA,CAAE,CAAC,KACtBkN,MAAOlN,CAAE,CAAC,KAAO,MAAO,CAAIA,EAAE,CAAC,EAAIA,KAAOA,GAAG,YACnD22D,CAAM,CAACzpD,EAAE,CAAC,EAAIlN,KAAOkN,QAAU,EAAIlN,KAAOA,OAAS,CAAC,EAAIA,IAAG,KACjE,OAAQ02D,CAAIC,YAEP,4BAA8B32D,CAAG,KACtC,EAAM2gB,EAAK,KAAK,eAAe9gB,SACpB,GAAK,eAAeA,EAAE,OAAM,CAAG,SAC/B,OAAK,sBAA0B,EAAGG,CAAC,IACnC,KAAK,gBAAgBH,EAAE,CAAC,OAAO,CAAGG,CAAC,KAC9C,GAAO,IAAC,EAAK,IAAI2gB,GAAI,MAAO,CAAGK,EAAG,EAAC,CAAG+I,IAAK,UAAQ,CAAIpJ,EAAG,OAAQ,CAAGK,MAAO+I,CAAG,IAAK,OAAK,EAAIpJ,EAAG,CAAC,KAAO,UAAc,CAAC,MAAG,CAAK,MAAO,CAAC,KAAO,EAAGK,EAAG,IAAI+I,CAAG,OAE7J,mBAAO,KAAoB,CACzB,MAAMtB,oBAA4B,EAClC,OAAQzoB,EAAE,CAAC,KAAQA,KAAOyoB,EAAG,CAACzoB,EAAE,CAAC,IAAOA,aAAkBA,EAAE,KAAO,CAAC,EAAIA,IAAG,aAAmB,OAAWA,KAAG,CAAKyoB,YAE5G,+BACL,MAAMmuC,OAAgB,CAAG52D,KAAMA,KAAMA,EAAE,CAAC,IAClCknB,CAAIlnB,EAAE,CAAC,MAAe,CAAIA,EAAE,OAAgB,CAC5CF,aAA0BE,CAAE,CAAC,OAC7BP,KAAO,UAAsB,KAAe,EAC5CgpB,EAAIzoB,EAAE,OAAgB,CAAIA,MAAO42D,CAAU,CAAC,EAC5ChtB,IAAS1iB,MAAS,CAClBgW,EAAS,KAAK,MAAMhW,EAAIuB,OAAU,UAAmB,EAAI,QAC5CyU,EAAU,KAClB0M,KAAQ1M,CAAU,EAC7B,MAAO,CAAC,OAAK,UAAU,CAAK,MAAKoI,CAAE,CAAC,CACxC,IACE,QAAO,mBACCzlC,KAAS,KAAM,GACrB,OAAIU,GAAM,EAAIA,EAAK,GAAC,GAClBV,CAAE,CAAC,GAAIU,CAAK,CAAC,GACbV,CAAE,CAAC,mBAEe,CAClBA,EAAE,CAAC,EAAIU,EAAK,CAAC,KACV,EAAIA,OAGb,CACE,cAAO,GAAUs2D,MACf,OAAa,KAAK,MAAI,IAAK,WAAqB,CAAC,EAAG,KAAK,QAAW,CAAGC,MAAS,CAC1EC,EAAQ,KAAK,WAAS,OAAcF,EAAM,CAAC,EAAC,CAAG,MAAK,MAAW,IAAS,CAAC,KAC/E,EAAIG,OACF,YAEF,MAAa,IAAK,MAAI,GAAK,IAAIH,OAAgB,CAAC,GAAI,UAASC,CAAM,CAAC,OAAY,EAC1EG,KAAQ,EAAK,QAAI,CAAK,IAAIJ,SAAkB,GAAG,IAAK,OAAW,GAAGC,CAAM,CAAC,CAAC,MAChF,OAAWG,CACF,SAEKC,CAAMH,QAEtB,WAAmC51C,CAAIE,KAAQH,CAAIE,GAAIE,EAAI61C,IAAGntC,CAAQ,CACpE,GAAImtC,GAAK,GAAKA,GAAK,QACjB,CAEF,MAAMC,OACAC,GAAKF,EAAIA,EACTG,KAAMD,CAAKF,EACX33D,GAAI43D,IAAMA,MAAMA,CAAK3yC,GAAK,CAAI0yC,EAAIl2C,GAAM,EAAIo2C,IAAKl2C,EAAMm2C,GAAMj2C,EAC7D3hB,QAAU03D,GAAMA,IAAK1yC,CAAK,EAAIyyC,GAAIj2C,EAAM,GAAIm2C,GAAKj2C,OAAYE,CACnE0I,GAAO,MAAK,aAAoBxqB,CAAC,EACjCwqB,GAAO,CAAC,EAAI,KAAK,KAAIA,EAAO,CAAC,EAAGtqB,QACxB,GAAI,OAAK,CAAIsqB,IAAQ,EAAGxqB,OACzB,CAAC,EAAI,KAAK,KAAIwqB,SAEvB,MAAOutC,MAAiBt2C,CAAIE,EAAIE,IAAQH,EAAIE,GAAIE,YAAa0I,CAAQ,CACnE,MAAI,EAAK,IAAI9C,CAAC,KAAI,OACZ,GAAK,iBACP,OAAyBzC,CAAIxD,EAAIE,EAAIE,EAAIqD,SAAgB,CAACjlB,GAAIK,MAAS,CAEzE,QAEF,MAAM03D,EAAQ13D,QAAaL,KAC3B,MAAY,EACV,eAEIg4D,CAAY,KAAK,QAAU,CAC3BC,GAAK,WACNC,CAAoBlzC,IAAQtD,EAAIE,EAAIqD,QAAYpD,EAAK,CAACxhB,GAAI23D,OAAiBztC,EAAM,EACtF,WAA6B/I,CAAIE,KAAQuD,CAAIxD,EAAIE,aAAcq2C,CAAaC,QAE9E,MAAO,sBAA0Bz2C,OAAYG,CAAIC,GAAIC,gBAEjD0I,CAAO,CAAC,OAAS,IAAIA,EAAO,CAAC,MAAS,EACtCA,KAAY,oBACZA,CAAO,CAAC,MAAI,CAAK,IAAIA,EAAO,CAAC,QAC7BA,GAAQ,EAAI,KAAK,SAAetF,QAEvB,CAAC,QAAK,CAAID,YAAc,OAAU,CAAG,UAASA,CAAIpD,YAAU,CAAIqD,OAE3E,IAAK6yC,GAAa9yC,IAAQtD,GAAIE,EAAIqD,MAAYpD,EAAI,KAAMmD,CAAK,GAAKxD,aAAqBwD,CAAK,MAAStD,CAAK,GAAKF,KAAU+I,CAAM,EAC/H,SAAkBvF,CAAIxD,MAAQI,CAAIqD,EAAIxD,iBAAiCE,OAAW,EAAKsD,EAAK,EAAIxD,EAAKE,QAAesD,GAAKsF,CAAM,MAiDnI,SAASwrC,CAAmBxoD,KAC1B,KAAO,mBAAmB,UAC5B,CAmBA,MAAqB,KACjB4qD,YACJ,OAA0B5qD,CAAK,CAC7B,OAAK6qD,KACHA,CAAiB,gVACE,CAAI,MAAM,OAAK,CAAI,CAAC,CAAC,WAE/B,KAAWA,KAAoBl3C,WAAmB,SAAU,aAA2B,CAAII,iBAGtG,GAAI,OAAO,OAAW,KAAe,OAAO,QAAQ,YAAe,YACjE,OAAO,QAAO,SAAY,KAE5B,OAAY,EAAI,YAAW,CAAE,EAC7B,OAAI,IAAO,aAA0B,KAAO,QAAQ,oBAAoB,QACtE,OAAO,iBAAmB,MAE1B,SAAS3T,EAAI,EAAGA,EAAI,MAAIA,CACtB0qD,IAAK,CAAI,KAAK,QAAM,OAAK,GAAQ,MAAM,CAG3C,QAAOpD,KAET,YAAyB,iBACnBX,EAAgB,KACpB,YAAiB,EACjB,SAAS,CACT,gBACA,mBACA,IAAS,EACT,KAAM,iBAEN,GAAW,EACX,iBASWgE,CAA2B,CAAE,EAGjC,SAAS74D,MAA8B,CAEtC,YAAoD,GACpD,EAAI84D,OAAiB,KACpB,QAAOA,OAAa,GAGrB,KAAIC,CAASF,IAAyBG,CAAQ,KAG7C,MAAS,kBAIoBD,EAAQA,GAAO,YAGtCA,CAAO,YAKd,CAAM,CACN,IAAIE,MAAgB,UAAO,EAAW,WAAa,aAAO,UAAgB,WAAI,oBACzD,EAAO,cAAW,SAAa,GAAO,qBAAqB,oBAC5EC,EAAe,OAAO,SAAW,eAAa,EAAO,gBAAe,CAAI,uBACxDC,KAChBA,CAASA,EAAM,EAAI,IACrBA,EAAM,KACNA,CAAM,SAASC,GAAQA,CAAG,GAAI,EAC9BD,YAAeC,CAAQA,MAASA,EAAG,SAE/C,QACoCC,CAAK,OAAa,CAC3C,GAAGC,IAAQ,WAAQ,OAAe,QACjC,GAAGA,KAAiB,CAAG,OAAOA,EAC9B,SAAO,CAAM,cAEF,EACVA,MAAI,CAAM34D,GAAM,MACG,CAAIA,EACtB44D,EAAaJ,CAAK,CAClB,EAAGlxC,QACa,CAAIA,eAGX,CAAE,EACZ,OAAA9W,EAAI8nD,IAAkBG,GAAQA,EAAGD,MAInC,SACA,SAAIF,EAAa,EAAI34D,GAAK,CAAE,EAC5Bk5D,EAAIC,EAAc,GAAIH,CACfE,CAClB,CAAW,OACuB,CAACT,EAAQW,EAAMC,KACtC,IAAIR,EACJQ,KAAcR,EAAQ,IAAI,GAAI,GAC9B,IAAIS,EAAY,SACZC,CAAUd,MAAO,IACjBe,GACAC,CACA5/C,EACA6C,QAAc,MAAQ,CAAC/C,EAAS+/C,WAEpB//C,CAC3B,CAAY,EACD+C,GAAQy8C,CAAc,EAAII,EAC1B78C,EAAQi8C,EAAa,EAAKG,IAAQD,KAAYA,CAAK,QAAa,MAAU,CAAGn8C,IAAQ,IAAS1c,IAAK,CAAE,GACrGy4D,EAAO,QAAU/7C,KACXq8C,GACLS,SACA,eACmC,CAAKvwC,OACpCA,EAAE2vC,CAAY,KAAG,GAAM3vC,EAAE2vC,CAAY,OACxC,GAAO3vC,CAAEkwC,SAEI,MAAI,KAASx/C,GAAY,CACtCm/C,IAAK,KAAwB,EAC7BA,EAAG,WACYn1C,EAAOA,KAAMk1C,EAAS,CAACS,MAAc31C,CAAC,QAAgB,gBAAsBm1C,CAAG,YAAc,MAChG,IAAKE,QAA0B,CAAEW,aAEvCb,EAAG,EAAIp8C,EAAUk9C,EAAW,CACnC,MAAaC,EAAMhgD,EAAO6C,EAAQk8C,UAA2C,CAAIK,KAAoB,cAC7EJ,CAAM,KAE1C,GAAa,OAKqB,CAACU,SACxB,UAAQ7oD,GAAOopD,WACuBppD,CAAG,GAAK,CAAChR,IAAoB,CAAE65D,UACnE,OAAO,iBAA6B,CAAE,WAAY,GAAM,IAAKO,MAAiB,CAGhF,EAKDp6D,GAAoB,KAAKmR,CAAK23C,MAAU,YAAO,eAAU,QAAe,CAAK33C,GAAK23C,EAAI,QAQnFppD,CAAsBM,eACJ,OAAW,SAAW,QAAO,SAAW,+BACF,oBACO,0BACfN,SAAoB,oBACpE26D,QAA8D,qBAC9DC,CAA+C56D,GAAoB,0BACnE66D,QAAyD,cACzDC,UAAwD,WACxDC,GAAyC/6D,GAAoB,oBAC7Dg7D,GAAiCh7D,GAAoB,YACrDi7D,GAAmCj7D,IAAoB,aACvDk7D,GAA+Bl7D,GAAoB,WACnDm7D,EAAiCn7D,GAAoB,YACrDo7D,MAA6D,qBAC7DC,GAA+Br7D,EAAoB,WACnDs7D,GAAyCt7D,OAAoB,eAC7Du7D,IAAyCv7D,EAAoB,oBAC7Dw7D,GAAyBx7D,GAAoB,OACfA,IAAoB,QAClDy7D,KAA2Cz7D,CAAoB,sBAC/D07D,GAAmC17D,GAAoB,cACvD27D,iBACAC,EAAuC57D,GAAoB,kBAC3D67D,WAAwD,UACxDC,YAAuD,eACc,2BACrEC,KAAiD/7D,CAAoB,4BACrEg8D,KAA0Bh8D,CAAoB,KAC9Ci8D,GAAoCj8D,GAAoB,eACxDk8D,KAA8Bl8D,CAAoB,eACH,MAC/Cm8D,MAAgE,+BACb,UACnDC,CAAiCp8D,GAAoB,YACrDq8D,GAAwCr8D,GAAoB,oBAC5Ds8D,EAA2Ct8D,GAAoB,sBAC/Du8D,GAAwCv8D,GAAoB,mBAC5Dw8D,GAAkCx8D,GAAoB,aACtDy8D,eAAmD,CACnDC,GAAmC18D,GAAoB,cACvD28D,sBAA0D,CAC1DC,GAAqC58D,GAAoB,qBACjBA,CAAoB,0BACZ,MAChD68D,2BAC6B78D,CAAoB","names":["__webpack_modules__","__unused_webpack___webpack_module__","__webpack_exports__","AnnotationLayer","FreeTextAnnotationElement","InkAnnotationElement","StampAnnotationElement","util","__webpack_require__","display_utils","annotation_storage","makeColorComp","n","scaleAndClamp","x","c","y","g","G","r","b","color","m","k","components","rgb","xfa_layer","DEFAULT_FONT_SIZE","GetElementsByNameSet","rect","AnnotationElementFactory","parameters","LinkAnnotationElement","TextAnnotationElement","TextWidgetAnnotationElement","RadioButtonWidgetAnnotationElement","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","SignatureWidgetAnnotationElement","PopupAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","CaretAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","FileAttachmentAnnotationElement","isRenderable","createQuadrilaterals","ignoreBorder","AnnotationElement","#updates","params","rotation","pageHeight","pageX","getRectDims","style","height","page","container","data","horizontalRadius","verticalRadius","radius","borderColor","pageY","viewport","width","pageWidth","angle","elementWidth","elementHeight","jsName","styleName","event","display","hidden","setColor","jsEvent","actions","name","element","storedData","actionName","detail","action","eventProxy","quadPoints","rectBlX","rectBlY","trX","blX","blY","rectTrY","#hasBorder","rectTrX","svg","svgFactory","defs","clipPath","trY","rectHeight","svgBuffer","rectWidth","id","popup","skipId","fields","fieldObj","exportValue","exportValues","domElement","triggers","mode","editId","options","linkService","link","#bindAttachment","isBound","#bindSetOCGState","#setInternalLink","destination","dest","resetForm","otherClickAction","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","value","image","WidgetAnnotationElement","elementData","eventName","valueGetter","baseName","names","getter","fontSize","computedFontSize","BORDER_SIZE","roundToOneDecimal","numberOfLines","isRequired","storage","maxLen","fieldFormattedValues","DEFAULT_TAB_INDEX","defaultValue","formattedValue","target","charLimit","commitKey","_blurListener","selectionStart","selStart","match","selEnd","selectionEnd","blurListener","combWidth","checked","checkbox","curChecked","radio","pdfButtonValue","linkElement","ChoiceWidgetAnnotationElement","selectElement","addAnEmptyEntry","option","optionElement","noneOptionElement","removeEmptyEntry","getValue","isExport","multiple","selectedValues","getItems","index","displayValue","selectChild","item","items","indices","change","elements","PopupElement","elementIds","#keyDown","#show","#boundToggle","#color","#container","#parentRect","#richText","#titleObj","titleObj","richText","#contentsObj","#parent","parent","#rect","parentRect","#elements","#dateObj","#boundHide","#boundKeyDown","open","#toggle","#popup","baseColor","header","title","modificationDate","contentsObj","contents","useParentRect","normalizedRect","view","parentWidth","popupLeft","popupTop","str","dir","p","lines","i","ii","#pinned","#hide","#wasVisible","content","line","lineSpan","LineAnnotationElement","#line","borderWidth","#square","square","#circle","circle","PolylineAnnotationElement","#polyline","coordinate","points","polyline","#polylines","inkList","#trigger","filename","trigger","#download","isMac","evt","#annotationCanvasMap","div","annotationCanvasMap","#appendElement","#accessibilityManager","contentElement","layer","isPopupAnnotation","popupToElements","elementParams","#editableAnnotations","firstChild","canvas","AnnotationStorage","PrintAnnotationStorage","_shared_util_js__WEBPACK_IMPORTED_MODULE_0__","_editor_editor_js__WEBPACK_IMPORTED_MODULE_1__","#modified","key","#storage","modified","obj","entry","val","#setModified","SerializableEmpty","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__","context","serialized","map","hash","hasBitmap","transfer","typeToEditor","editorStats","type","stats","counters","count","editor","#serializable","clone","__webpack_module__","__webpack_handle_async_dependencies__","__webpack_async_result__","getDocument","src","task","PDFDocumentLoadingTask","docId","url","httpHeaders","withCredentials","password","PDFDataRangeTransport","rangeChunkSize","docBaseUrl","_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","cMapPacked","DefaultStandardFontDataFactory","ignoreErrors","maxImageSize","isEvalSupported","isOffscreenCanvasSupported","disableFontFace","fontExtraProperties","ownerDocument","disableRange","disableStream","pdfBug","rangeTransport","useWorkerFetch","CMapReaderFactory","StandardFontDataFactory","standardFontDataUrl","cMapUrl","canvasFactory","DefaultCanvasFactory","DefaultFilterFactory","styleElement","transportFactory","filterFactory","workerParams","verbosity","_worker_options_js__WEBPACK_IMPORTED_MODULE_14__","PDFWorker","fetchDocParams","disableAutoFetch","canvasMaxAreaInBytes","useSystemFonts","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","_transport_stream_js__WEBPACK_IMPORTED_MODULE_10__","display_node_stream__WEBPACK_IMPORTED_MODULE_13__","display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__","display_network__WEBPACK_IMPORTED_MODULE_12__","workerId","worker","WorkerTransport","messageHandler","transportParams","getDataProp","Buffer","ref","_font_loader_js__WEBPACK_IMPORTED_MODULE_3__","display_node_utils__WEBPACK_IMPORTED_MODULE_4__","_canvas_js__WEBPACK_IMPORTED_MODULE_5__","_text_layer_js__WEBPACK_IMPORTED_MODULE_6__","__webpack_async_dependencies__","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","DefaultCMapReaderFactory","#docId","ex","initialData","progressiveDone","contentDispositionFilename","listener","loaded","total","end","transport","pdfInfo","pageNumber","renderingIntent","keepLoadedFonts","PDFPageProxy","#delayedCleanupTimeout","pageIndex","pageInfo","scale","dontFlip","offsetX","offsetY","canvasContext","transform","background","pageColors","annotationMode","printAnnotationStorage","cacheKey","intentArgs","optionalContentConfigPromise","intentPrint","intentState","complete","error","#pendingCleanup","#tryCleanup","internalRenderTask","renderTask","transparency","optionalContentConfig","intent","operatorListChanged","opListTask","includeMarkedContent","disableNormalization","textContent","xfa","_xfa_text_js__WEBPACK_IMPORTED_MODULE_15__","resolve","pump","reject","waitOn","success","resetStats","#abortDelayedCleanup","delayed","renderTasks","operatorList","operatorListChunk","annotationStorageSerializable","reader","done","reason","force","curCacheKey","curIntentState","#listeners","#deferred","PDFWorkerUtil","baseUrl","otherUrl","base","other","wrapper","#workerPorts","port","#mainThreadWorkerMessageHandler","workerSrc","_shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__","terminateEarly","onWorkerError","sendTest","testObj","LoopbackPort","workerHandler","WorkerMessageHandler","cachedPort","loader","__vitePreload","#pageCache","#pageRefCache","#passwordCapability","factory","#cacheSimpleMethod","cachedPromise","promise","isOpList","_annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__","#pagePromises","terminated","#methodPromises","loadingTask","sink","readyReason","fullReader","headersCapability","rangeReader","exception","exportedData","exportedError","font","imageRef","pageProxy","imageData","isRefProxy","_optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__","results","_metadata_js__WEBPACK_IMPORTED_MODULE_8__","refStr","enableXfa","INITIAL_DATA","PDFObjects","#ensureObj","objId","#objs","callback","#internalRenderTask","extraDelay","separateAnnots","#canvasInUse","useRequestAnimationFrame","InternalRenderTask","version","build","BaseCanvasFactory","BaseFilterFactory","maps","fgColor","bgColor","newFgColor","newBgColor","keepHCM","canvasAndContext","isCompressed","BaseCMapReaderFactory","BaseStandardFontDataFactory","BaseSVGFactory","skipDimensions","CanvasGraphics","PathType","applyBoundingBox","bbox","BaseShadingPattern","RadialAxialShadingPattern","IR","grad","ctx","colorStop","inverse","pathType","pattern","ownerBBox","tmpCanvas","tmpCtx","domMatrix","drawTriangle","c2","rowSize","p1","tmp","c1","coords","p2","p3","x1","y1","x2","y2","x3","y3","c1g","colors","c1b","c2g","c3","c3b","minY","cag","cab","xb","cbr","cbg","c1r","c2r","xa","car","c3g","c2b","x2_","j","x1_","drawFigure","ps","figure","cs","verticesPerRow","cols","rows","q","MeshShadingPattern","boundsWidth","boundsHeight","combinedScale","scaleX","scaleY","cachedCanvases","paddedWidth","paddedHeight","bytes","backgroundColor","owner","matrixScale","temporaryPatternCanvas","DummyShadingPattern","getShadingPattern","TilingPattern","canvasGraphicsFactory","baseTransform","xstep","tilingType","x0","y0","curMatrixScale","dimy","ystep","dimx","graphics","adjustedX1","adjustedY1","adjustedX0","adjustedY0","step","realOutputSize","maxSize","size","bboxWidth","bboxHeight","current","paintType","PaintType","cssColor","matrix","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","max","elem","MAX_GROUP_SIZE","EXECUTION_TIME","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","mirrorContextOperations","destCtx","a","e","f","rule","cp1y","cp1x","cp2x","cp2y","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","ty","tlX","tx","rTlX","tlY","d","rTlY","brX","rWidth","brY","destH","rHeight","compileType3Glyph","imgData","POINT_TYPES","j0","lineSize","mask","pos","width1","sum","POINT_TO_PROCESS_LIMIT","steps","path","p0","pp","CanvasExtraState","p4","minMax","xStrokePad","box","yStrokePad","putBinaryImageData","partialChunkHeight","fullChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","white","totalChunks","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","properties","property","resetCtxToDefault","filter","composeSMaskBackdrop","r0","length","alpha","g0","b0","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","layerCtx","backdrop","layerOffsetX","hasBackdrop","composeFn","subtype","row","chunkSize","layerOffsetY","maskOffsetY","chunkHeight","layerWidth","layerBox","layerHeight","smask","getImageSmoothingEnabled","actualScale","LINE_CAP_STYLES","LINE_JOIN_STYLES","markedContentStack","commonObjs","objs","CachedCanvases","fallback","savedFillStyle","transparentCanvas","executionStartIdx","continueCallback","stepper","argsArrayLen","chunkOperations","EXECUTION_STEPS","endTime","fnId","fnArray","argsArray","depObjId","objsPool","#restoreInitialState","cache","#drawFilter","hcmFilterId","savedFilter","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","img","fillColor","isPatternFill","currentTransform","maskCanvas","mainKey","cachedImage","scaled","maskToCanvas","minX","maxX","drawnHeight","maxY","fillCanvas","drawnWidth","fillCtx","limit","states","scratchCanvas","dirtyBox","suspendedCtx","composeSMask","startY","ops","args","xw","yh","isScalingMatrix","startX","strokeColor","consumePath","needRestore","intersect","NORMAL_CLIP","EO_CLIP","paths","spacing","leading","fontRefName","fontObj","typeface","bold","MIN_FONT_SIZE","MAX_FONT_SIZE","italic","rise","textRenderingMode","isAddToPathSet","patternFill","patternTransform","fillStrokeMode","character","enabled","glyphs","fontSizeScale","charSpacing","wordSpacing","fontDirection","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","textHScale","lineWidth","glyph","restoreNeeded","accent","vmetric","vy","scaledY","scaledX","measuredWidth","characterScaleX","scaledAccentX","scaledAccentY","charWidth","fontMatrix","spacingLength","xWidth","yWidth","llx","ury","lly","urx","inv","currentCtx","group","bounds","cacheId","groupCtx","currentMtx","hasOwnCanvas","viewportScale","canvasWidth","canvasHeight","skewX","skewY","positions","images","maskCtx","bitmap","imgToPaint","w","tag","clipBox","isEmpty","absDet","normX","normY","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","op","DOMCMapReaderFactory","DOMSVGFactory","PDFDateString","PageViewport","PixelsPerInch","RenderingCancelledException","StatTimer","fetchData","getCurrentTransform","getCurrentTransformInverse","getFilenameFromUrl","getPdfFilenameFromUrl","getRGB","getXfaPageViewport","isValidFetchUrl","setLayerDimensions","_shared_util_js__WEBPACK_IMPORTED_MODULE_1__","SVG_NS","DOMFilterFactory","_base_factory_js__WEBPACK_IMPORTED_MODULE_0__","#_cache","#_defs","#document","#_hcmCache","#id","#defs","tableR","tableG","tableB","mapR","buffer","bufferR","bufferB","mapG","mapB","#cache","#addTransferMapConversion","info","#hcmCache","filterName","#getRGB","bgRGB","table","getSteps","fgRGB","arr","start","fgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","#addGrayConversion","feColorMatrix","#appendFeFunc","func","feFunc","feComponentTransfer","rTable","gTable","bTable","DOMCanvasFactory","response","request","compressionType","DOMStandardFontDataFactory","viewBox","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasY","offsetCanvasX","bottomRight","topLeft","msg","isDataScheme","onlyStripPath","defaultFilename","reURI","reFilename","splitURI","suggestedFilename","outBuf","longest","protocol","noContextMenu","pdfDateStringRegex","input","matches","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","year","xfaPage","colorRGB","getColorValues","span","computedColor","mustFlip","h","widthStr","useRound","heightStr","mustRotate","DrawLayer","_display_utils_js__WEBPACK_IMPORTED_MODULE_0__","#mapping","#toUpdate","root","#setBox","#createSVG","#createClipPath","clipPathId","pathId","clipPathUse","outlines","opacity","isPathUpdatable","use","use1","maskId","use2","visible","className","tools","annotation_layer","EOL_PATTERN","FreeTextEditor","editor_editor","#boundEditorDivFocus","#boundEditorDivInput","#boundEditorDivPaste","#editorDivId","#fontSize","#initialData","proto","arrowChecker","self","small","big","uiManager","l10n","#updateFontSize","savedFontsize","#boundEditorDivKeydown","#boundEditorDivBlur","#extractText","child","#getNodeContent","#setEditorDimensions","parentHeight","currentLayer","savedDisplay","savedVisibility","paste","selection","range","#setContent","beforeLength","acc","newRange","#content","#serializeContent","textPosition","fontColor","#deserializeContent","isForCopying","padding","#hasElementChanged","annotation","editor_outliner","HighlightEditor","#anchorNode","#anchorOffset","#boxes","#focusNode","#highlightDiv","#isFreeHighlight","#boundKeydown","#keydown","#lastPoint","#opacity","#outlineId","#text","#thickness","#methodOfCreation","#createFreeOutlines","#addToDrawLayer","#createOutlines","outliner","#highlightOutlines","outlinerForOutline","#focusOutlines","highlightOutlines","extraThickness","highlightId","#updateThickness","col","#colorPicker","savedColor","savedThickness","setThickness","th","#changeThickness","thickness","toolbar","color_picker","#getRotation","mustBeSelected","#cleanDrawLayer","#clipPathId","#rotateBbox","drawLayer","highlightDiv","direction","#setCaret","#focusOffset","#serializeBoxes","boxes","sx","sy","#serializeOutlines","isLTR","textLayer","layerX","layerY","pointerMove","pointerDownOptions","pointerUpCallback","pointerDown","#highlightMove","#endHighlight","InkEditor","#baseHeight","#boundCanvasPointerleave","#boundCanvasPointerup","#boundCanvasPointerdown","#canvasContextMenuTimeoutId","#currentPath2D","#disableEditing","#hasSomethingToDraw","#isCanvasInitialized","#observer","#realHeight","#requestFrameCallback","#updateColor","#updateOpacity","#fitToContent","#redraw","savedOpacity","setOpacity","#createCanvas","#createObserver","#setCanvasDims","#getInitialBBox","#setStroke","#startDrawing","#boundCanvasPointermove","#drawPoints","#draw","lastX","lastY","currentPath","path2D","lastPoint","#stopDrawing","#endPath","bezier","xy","cmd","undo","lastPoints","#makeBezierCurve","prevX","prevY","control1","control2","bezierPoints","#endDrawing","entries","baseX","baseY","#updateTransform","roundedWidth","#realWidth","roundedHeight","#setScaleFactor","#getPadding","scaleFactorH","scaleFactorW","first","#toPDFCoordinates","#fromPDFCoordinates","shiftX","jj","s","p11","p20","p21","shiftY","p10","p30","p31","p40","xMax","yMin","yMax","xMin","firstTime","#getBbox","#baseWidth","prevTranslationX","unscaledPadding","prevTranslationY","scaleFactor","#buildPath2D","#serializePaths","StampEditor","#bitmap","#bitmapId","#bitmapPromise","#bitmapUrl","#bitmapFile","#bitmapFileName","#canvas","#resizeTimeoutId","#isSvg","#hasBeenAddedInUndoStack","types","#getBitmapFetched","fromId","#getBitmapDone","#getBitmap","MAX_RATIO","factor","#drawBitmap","#setDimensions","TIME_TO_WAIT","#scaleBitmap","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","blob","fileReader","altText","#serializeBitmap","toUrl","bitmapId","isSvg","bitmapUrl","accessibilityData","decorative","prevData","area","#allowClick","#annotationLayer","#boundPointerdown","#boundTextLayerPointerDown","#editorFocusTimeoutId","#editors","#isCleaningUp","#isDisabling","accessibilityManager","AnnotationEditorLayer","#editorTypes","editorType","editorTypes","#uiManager","classList","#textLayer","isEditing","annotationElementIds","editables","editable","changedAnnotations","resetAnnotations","#cleanup","#textLayerPointerDown","#boundPointerup","activeElement","#currentEditorType","#createNewEditor","isCentered","#getCenterPoint","#hadPointerDown","oldRotation","ColorPicker","#boundPointerDown","#pointerDown","#buttonSwatch","#isMainColorPicker","#eventBus","#type","#editor","#defaultColor","button","#openDropdown","swatch","dropdown","#colorSelect","#isDropdownVisible","#dropdown","#button","#dropdownWasFromKeyboard","#altText","#altTextButton","#altTextTooltipTimeout","#altTextWasFromKeyBoard","l10nPromise","AltText","onClick","#altTextDecorative","#setState","#altTextTooltip","tooltip","DELAY_TO_SHOW_TOOLTIP","AnnotationEditor","#allResizerDivs","#resizersDiv","#boundFocusin","#boundFocusout","#editToolbar","#focusedResizerName","#hasBeenClicked","#isInEditMode","#isResizerEnabledForKeyboard","#moveInDOMTimeout","#prevDragX","#prevDragY","#telemetryTimeouts","#isDraggable","resize","fakeEditor","FakeEditor","_uiManager","_type","_value","mime","#zIndex","#stopResizing","#initialPosition","bx","by","_borderLineWidth","#rotatePoint","parentScale","scaledWidth","scaledHeight","#keepAspectRatio","heightPercent","widthPercent","classes","#resizerPointerdown","boundResizerPointermove","#resizerPointermove","savedDraggable","pointerMoveOptions","savedY","savedHeight","savedParentCursor","savedCursor","#addResizeToUndoStack","savedX","newX","newY","savedWidth","minHeight","round","rotationMatrix","#getRotationMatrix","transf","invRotationMatrix","isDiagonal","isHorizontal","getPoint","getOpposite","point","transfOppositePoint","oppositePoint","ratioX","ratioY","deltaX","invTransf","deltaY","oldDiag","minWidth","oppositeX","oppositeY","#disabled","#setUpDragSession","isSelected","pointerMoveCallback","#selectOnPointerEvent","timeout","#createResizers","#savedDimensions","children","boundResizerBlur","#resizerBlur","#resizerFocus","firstPosition","nextFirstPosition","#resizerKeydown","#setResizerTabIndex","aspectRatio","mustWait","FreeOutliner","#box","#verticalEdges","#intervals","EPSILON","left","right","innerMargin","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","#breakEdge","#insert","#remove","#getOutlines","edges","edge2","allEdges","lastPointX","lastPointY","outline","edge1","HighlightOutline","#binarySearch","middle","y4","Outline","#outlines","polygon","_rotation","#bottom","#innerMargin","#isLTR","#top","#last","#lastX","#lastY","#min","#scaleFactor","#points","#MIN_DIFF","#MIN","#getLastCoords","lastBottom","lastTop","diffY","diffX","#min_dist","K","diffD","nX","nY","thX","thY","lastTopY","lastBottomX","lastBottomY","top","bottom","last","lastTopX","FreeHighlightOutline","#outline","#rescaleAndSwap","#rescale","ltrCallback","EditorToolbar","HighlightToolbar","#toolbar","#buttons","editToolbar","buttons","position","#focusIn","#focusOut","#addListenersToElement","#addDeleteButton","#divider","divider","colorPicker","#render","#addHighlightButton","AnnotationEditorUIManager","KeyboardManager","_display_utils_js__WEBPACK_IMPORTED_MODULE_1__","_toolbar_js__WEBPACK_IMPORTED_MODULE_2__","bindEvents","ImageManager","rawData","mustRemoveAspectRatioPromise","imagePromise","imageElement","file","lastModified","#get","#baseId","CommandManager","#commands","#locked","#maxSize","#position","post","overwriteIfSameType","keepUndo","mustExec","save","next","callbacks","keys","isMacKey","#serialize","bubbles","checker","ColorManager","RGB","#activeEditor","#allEditors","#altTextManager","#annotationStorage","#changedExistingAnnotations","#commandManager","#currentPageIndex","#deletedAnnotationsElementIds","#draggingEditors","#editorsToRescale","#enableHighlightFloatingButton","#filterFactory","#focusMainContainerTimeoutId","#highlightColors","#highlightWhenShiftUp","#idManager","IdManager","#isEnabled","#isWaiting","#lastActiveElement","#mainHighlightColorPicker","#mlManager","#mode","#selectedEditors","#selectedTextNode","#pageColors","#boundFocus","#boundCopy","#boundCut","#boundPaste","#boundKeyup","#boundOnEditingAction","#boundOnScaleChanging","#boundSelectionChange","#selectionChange","#boundOnRotationChanging","#previousStates","#translationTimeoutId","_self","el","textInputChecker","viewer","altTextManager","eventBus","pdfDocument","highlightColors","mlManager","#viewer","#boundOnPageChanging","#addSelectionListener","#addKeyboardManager","enableHighlightFloatingButton","#removeKeyboardManager","#removeFocusManager","#allLayers","#highlightToolbar","#removeSelectionListener","pair","pagesRotation","#getAnchorElementForSelection","anchorNode","methodOfCreation","anchorOffset","focusOffset","text","focusNode","#displayHighlightToolbar","#dispatchUpdateStates","pointerup","#onSelectEnd","#addFocusManager","#boundBlur","lastEditor","lastActiveElement","#addCopyPasteListeners","editors","clipboardData","deserializedEditor","newEditors","#selectEditors","details","#dispatchUpdateUI","#isEmpty","#removeCopyPasteListeners","#disableAll","#enableAll","#showAllStates","updateButton","annotationElementId","#addEditorToLayer","#lastSelectedEditor","ed","#translation","totalX","totalY","mustBeAddedInUndoStack","move","rotator","editorId","_network_utils_js__WEBPACK_IMPORTED_MODULE_1__","abortController","headers","createHeaders","PDFFetchStream","source","PDFFetchStreamReader","begin","stream","getResponseHeader","allowRangeRequests","suggestedLength","getArrayBuffer","createFetchOptions","FontLoader","nativeFontFace","styleSheet","#systemFonts","loadedName","fontFace","_inspectFont","hasFonts","supported","loadingRequests","otherRequest","testFont","int32","offset","insert","chunk2","called","isFontReady","loadTestFontId","CFF_CHECKSUM_OFFSET","checksum","XXXX_VALUE","spliceString","FontFaceObject","translatedData","inspectFont","css","cmds","commands","Metadata","#metadataMap","#data","parsedData","xhr","NetworkManager","listeners","prop","pendingRequest","xhrId","PARTIAL_CONTENT_RESPONSE","OK_RESPONSE","xhrStatus","rangeHeader","PDFNetworkStream","PDFNetworkStreamFullRequestReader","manager","fullRequestXhrId","fullRequestXhr","status","requestCapability","chunk","extractFilenameFromHeader","validateRangeRequestCapabilities","validateResponseStatus","getFilenameFromContentDispositionHeader","contentDisposition","needsEncodingFixup","rfc2047decode","fixupEncoding","toParamRegExp","rfc2616unquote","attributePattern","flags","textdecode","encoding","decoder","contentDispositionStr","quot","part","parts","quotindex","extvalue","encodingend","charset","hex","returnValues","isHttp","createResponseStatusError","parseUrl","parsedUrl","sourceUrl","createRequestOptions","http","fileUriRegex","BaseFullReader","readableStream","PDFNodeStreamRangeReader","handleResponse","path2d","NodeFilterFactory","NodeCanvasFactory","NodeCMapReaderFactory","NodeStandardFontDataFactory","OptionalContentConfig","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__","OptionalContentGroup","#isDisplay","#isPrint","#userSet","#visible","print","internal","INTERNAL","#cachedGetHash","#groups","#order","#initialHash","#evaluateVisibilityExpression","array","operator","state","cleanupTextLayer","renderTextLayer","updateTextLayer","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_ASCENT","ascentCache","_canvasContext","getCtx","fontFamily","cachedAscent","savedFont","metrics","ascent","descent","ratio","pixels","textDiv","textDivProperties","geom","styles","fontHeight","fontAscent","getAscent","divStyle","scaleFactorStr","shouldScaleText","absScaleX","absScaleY","layout","prevFontFamily","render","capability","textDivs","textContentSource","styleCache","appendText","br","TextLayerRenderTask","mustRescale","PDFDataTransportStream","pdfDataRangeTransport","found","queuedChunks","PDFDataTransportStreamRangeReader","#port","#src","XfaLayer","_xfa_text_js__WEBPACK_IMPORTED_MODULE_0__","html","attributes","isHTMLAnchorElement","rootHtml","isNotForRichText","rootDiv","node","stack","childHtml","output","_display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__","_display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__","_display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__","_display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__","_display_api_js__WEBPACK_IMPORTED_MODULE_1__","_display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__","_display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__","StreamKind","_util_js__WEBPACK_IMPORTED_MODULE_0__","MessageHandler","sourceName","targetName","comObj","callbackId","wrapReason","cbSourceName","result","cbTargetName","CallbackKind","ah","transfers","queueingStrategy","streamId","controller","startCapability","pullCapability","cancelCapability","#createStreamSink","lastDesiredSize","streamSink","#processStreamMessage","streamController","#deleteStreamController","MurmurHash3_64","SEED","MASK_LOW","seed","code","blockCounts","dataUint32","k1","C2","C1","C2_LOW","C1_LOW","h1","k2","MASK_HIGH","h2","tailLength","AbortException","AnnotationBorderStyleType","AnnotationEditorPrefix","AnnotationPrefix","BaseException","CMapCompressionType","FeatureTest","FontRenderOps","FormatError","LINE_FACTOR","MissingPDFException","OPS","PermissionFlag","RenderingIntentFlag","TextRenderingMode","UnknownErrorException","VerbosityLevel","assert","bytesToString","createValidAbsoluteUrl","getUuid","isNodeJS","objectFromMap","string32","warn","IDENTITY_MATRIX","AnnotationMode","AnnotationEditorParamsType","AnnotationType","PasswordResponses","level","_isValidProtocol","stringToUTF8String","absoluteUrl","shadow","nonSerializable","message","PasswordException","InvalidPDFException","UnexpectedResponseException","unreachable","MAX_ARGUMENT_COUNT","chunkEnd","strBuf","isLittleEndian","hexNumbers","Util","temp","m1","m2","xt","yt","transpose","rect1","rect2","xHigh","xLow","yHigh","yLow","t","mt","tt","ttt","#getExtremum","delta","sqrtDelta","a2","#getExtremumOnCurve","NormalizationMap","NormalizeRegex","buf","__webpack_module_cache__","cachedModule","module","moduleId","webpackQueues","webpackError","queue","fn","deps","dep","resolveQueue","ret","webpackExports","body","hasAwait","depQueues","exports","currentDeps","outerResolve","rej","fnQueue","getResult","err","definition","__webpack_exports__AnnotationEditorType","__webpack_exports__AnnotationEditorUIManager","__webpack_exports__AnnotationLayer","__webpack_exports__AnnotationMode","__webpack_exports__CMapCompressionType","__webpack_exports__ColorPicker","__webpack_exports__DOMSVGFactory","__webpack_exports__DrawLayer","__webpack_exports__FeatureTest","__webpack_exports__GlobalWorkerOptions","__webpack_exports__ImageKind","__webpack_exports__InvalidPDFException","__webpack_exports__MissingPDFException","__webpack_exports__OPS","__webpack_exports__PDFDataRangeTransport","__webpack_exports__PDFDateString","__webpack_exports__PDFWorker","__webpack_exports__PasswordResponses","__webpack_exports__PermissionFlag","__webpack_exports__PixelsPerInch","__webpack_exports__UnexpectedResponseException","__webpack_exports__Util","__webpack_exports__VerbosityLevel","__webpack_exports__XfaLayer","__webpack_exports__createValidAbsoluteUrl","__webpack_exports__getDocument","__webpack_exports__getFilenameFromUrl","__webpack_exports__getPdfFilenameFromUrl","__webpack_exports__getXfaPageViewport","__webpack_exports__isDataScheme","__webpack_exports__isPdfFile","__webpack_exports__noContextMenu","__webpack_exports__normalizeUnicode","__webpack_exports__renderTextLayer","__webpack_exports__updateTextLayer"],"sources":["../../node_modules/pdfjs-dist/build/pdf.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ var __webpack_modules__ = ({\n\n/***/ 976:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayer: () => (/* binding */ AnnotationLayer),\n  FreeTextAnnotationElement: () => (/* binding */ FreeTextAnnotationElement),\n  InkAnnotationElement: () => (/* binding */ InkAnnotationElement),\n  StampAnnotationElement: () => (/* binding */ StampAnnotationElement)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n// EXTERNAL MODULE: ./src/display/annotation_storage.js\nvar annotation_storage = __webpack_require__(792);\n;// CONCATENATED MODULE: ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/xfa_layer.js\nvar xfa_layer = __webpack_require__(284);\n;// CONCATENATED MODULE: ./src/display/annotation_layer.js\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    this.#updates ||= {\n      rect: this.data.rect.slice(0)\n    };\n    const {\n      rect\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex++;\n    if (data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case util.AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case util.AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case util.AnnotationBorderStyleType.BEVELED:\n          (0,util.warn)(\"Unimplemented border style: beveled\");\n          break;\n        case util.AnnotationBorderStyleType.INSET:\n          (0,util.warn)(\"Unimplemented border style: inset\");\n          break;\n        case util.AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = util.Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return (0,util.shadow)(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect;\n    if (quadPoints.length === 1) {\n      const [, {\n        x: trX,\n        y: trY\n      }, {\n        x: blX,\n        y: blY\n      }] = quadPoints[0];\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (const [, {\n      x: trX,\n      y: trY\n    }, {\n      x: blX,\n      y: blY\n    }] of quadPoints) {\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      container,\n      data\n    } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n    const popup = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    (0,util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            (0,util.warn)(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  get _isEditable() {\n    return false;\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      (0,util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          (0,util.warn)(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util.FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : util.Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (util.LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / util.LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / util.LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${util.AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = display_utils.PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = util.Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = util.Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        date: this.#dateObj.toLocaleDateString(),\n        time: this.#dateObj.toLocaleTimeString()\n      }));\n      header.append(modificationDate);\n    }\n    const contentsObj = this.#contentsObj;\n    const richText = this.#richText;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      xfa_layer.XfaLayer.render({\n        xfaHtml: richText.html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(contentsObj);\n      popup.append(contents);\n    }\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || util.Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = util.Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    const {\n      style\n    } = this.#container;\n    style.left = `${100 * (popupLeft - pageX) / pageWidth}%`;\n    style.top = `${100 * (popupTop - pageY) / pageHeight}%`;\n    this.#container.append(popup);\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = util.AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  get _isEditable() {\n    return this.data.hasOwnCanvas;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = util.AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of data.inkLists) {\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      if (!data.popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n      svg.append(polyline);\n    }\n    this.container.append(svg);\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0,display_utils.getFilenameFromUrl)(filename, true);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n  }\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${util.AnnotationPrefix}${id}`;\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    (0,display_utils.setLayerDimensions)(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new display_utils.DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new annotation_storage.AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === util.AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n      if (element.annotationEditorType > 0) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationStorage: () => (/* binding */ AnnotationStorage),\n/* harmony export */   PrintAnnotationStorage: () => (/* binding */ PrintAnnotationStorage),\n/* harmony export */   SerializableEmpty: () => (/* binding */ SerializableEmpty)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(310);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(651);\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__.MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n}\n\n\n/***/ }),\n\n/***/ 831:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataRangeTransport: () => (/* binding */ PDFDataRangeTransport),\n/* harmony export */   PDFWorker: () => (/* binding */ PDFWorker),\n/* harmony export */   build: () => (/* binding */ build),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* unused harmony exports DefaultCanvasFactory, DefaultCMapReaderFactory, DefaultFilterFactory, DefaultStandardFontDataFactory, LoopbackPort, PDFDocumentLoadingTask, PDFDocumentProxy, PDFPageProxy, PDFWorkerUtil, RenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(792);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _font_loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10);\n/* harmony import */ var display_node_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(573);\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(923);\n/* harmony import */ var _text_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(814);\n/* harmony import */ var _worker_options_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(164);\n/* harmony import */ var _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(178);\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(62);\n/* harmony import */ var _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(626);\n/* harmony import */ var _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(585);\n/* harmony import */ var display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(94);\n/* harmony import */ var display_network__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(457);\n/* harmony import */ var display_node_stream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(786);\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(50);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__]);\n([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCanvasFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCanvasFactory;\nconst DefaultCMapReaderFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCMapReaderFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory;\nconst DefaultFilterFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeFilterFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMFilterFactory;\nconst DefaultStandardFontDataFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeStandardFontDataFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory;\nfunction getDocument(src) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  if (typeof src !== \"object\") {\n    throw new Error(\"Invalid parameter in getDocument, need parameter object.\");\n  }\n  if (!src.url && !src.data && !src.range) {\n    throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !(0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme)(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory && StandardFontDataFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(cMapUrl, document.baseURI) && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(standardFontDataUrl, document.baseURI);\n  const canvasFactory = src.canvasFactory || new DefaultCanvasFactory({\n    ownerDocument\n  });\n  const filterFactory = src.filterFactory || new DefaultFilterFactory({\n    docId,\n    ownerDocument\n  });\n  const styleElement = null;\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.setVerbosityLevel)(verbosity);\n  const transportFactory = {\n    canvasFactory,\n    filterFactory\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    });\n  }\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const fetchDocParams = {\n    docId,\n    apiVersion: \"4.2.67\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    ignoreErrors,\n    disableFontFace,\n    fontExtraProperties,\n    enableXfa,\n    ownerDocument,\n    disableAutoFetch,\n    pdfBug,\n    styleElement\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    const workerIdPromise = _fetchDocument(worker, fetchDocParams);\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__.PDFDataTransportStream(rangeTransport, {\n          disableRange,\n          disableStream\n        });\n      } else if (!data) {\n        const createPDFNetworkStream = params => {\n          if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n            const isFetchSupported = function () {\n              return typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype;\n            };\n            return isFetchSupported() && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_node_stream__WEBPACK_IMPORTED_MODULE_13__.PDFNodeStream(params);\n          }\n          return (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_network__WEBPACK_IMPORTED_MODULE_12__.PDFNetworkStream(params);\n        };\n        networkStream = createPDFNetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream\n        });\n      }\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nasync function _fetchDocument(worker, source) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", source, source.data ? [source.data.buffer] : null);\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction isRefProxy(ref) {\n  return typeof ref === \"object\" && Number.isInteger(ref?.num) && ref.num >= 0 && Number.isInteger(ref?.gen) && ref.gen >= 0;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      this._stats?.timeEnd(\"Rendering\");\n      this._stats?.timeEnd(\"Overall\");\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    printAnnotationStorage = null\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__.XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Set();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    this.#listeners.clear();\n  }\n}\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fakeWorkerId: 0\n};\n{\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n  }\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `await import(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper], {\n      type: \"text/javascript\"\n    }));\n  };\n}\nclass PDFWorker {\n  static #workerPorts;\n  constructor({\n    name = null,\n    port = null,\n    verbosity = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getVerbosityLevel)()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    return this._readyCapability.promise;\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  _initialize() {\n    if (!PDFWorkerUtil.isWorkerDisabled && !PDFWorker.#mainThreadWorkerMessageHandler) {\n      let {\n        workerSrc\n      } = PDFWorker;\n      try {\n        if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n        }\n        const worker = new Worker(workerSrc, {\n          type: \"module\"\n        });\n        const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            this._setupFakeWorker();\n          }\n        };\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n            this._readyCapability.resolve();\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          try {\n            sendTest();\n          } catch {\n            this._setupFakeWorker();\n          }\n        });\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n        sendTest();\n        return;\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"The worker has been disabled.\");\n      }\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id, id + \"_worker\", port);\n      this._messageHandler = messageHandler;\n      this._readyCapability.resolve();\n      messageHandler.send(\"configure\", {\n        verbosity: this.verbosity\n      });\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (_worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc) {\n      return _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import( /*webpackIgnore: true*/this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"annotationStorage\", new _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE, printAnnotationStorage = null, isOpList = false) {\n    let renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    switch (annotationMode) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.DISABLE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE:\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_FORMS:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        const annotationStorage = renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT && printAnnotationStorage instanceof _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isOpList) {\n      renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.OPLIST;\n    }\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationStorageSerializable.hash}`,\n      annotationStorageSerializable\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n      this._networkStream?.cancelAllRequests(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = Promise.withResolvers();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontFaceObject(exportedData, {\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData?.dataLen > _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__.OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new _metadata_js__WEBPACK_IMPORTED_MODULE_8__.Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n  get loadingParams() {\n    const {\n      disableAutoFetch,\n      enableXfa\n    } = this._params;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"loadingParams\", {\n      disableAutoFetch,\n      enableXfa\n    });\n  }\n}\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new _canvas_js__WEBPACK_IMPORTED_MODULE_5__.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"4.2.67\";\nconst build = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCMapReaderFactory: () => (/* binding */ BaseCMapReaderFactory),\n/* harmony export */   BaseCanvasFactory: () => (/* binding */ BaseCanvasFactory),\n/* harmony export */   BaseFilterFactory: () => (/* binding */ BaseFilterFactory),\n/* harmony export */   BaseSVGFactory: () => (/* binding */ BaseSVGFactory),\n/* harmony export */   BaseStandardFontDataFactory: () => (/* binding */ BaseStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\")\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.BINARY : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  _fetchData(url, compressionType) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  _fetchData(url) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createSVG` called.\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 923:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  CanvasGraphics: () => (/* binding */ CanvasGraphics)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      (0,util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n  getPattern() {\n    (0,util.unreachable)(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, (0,display_utils.getCurrentTransform)(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = util.Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(ctx));\n    } else {\n      scale = util.Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    (0,util.info)(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = util.Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = (0,display_utils.getCurrentTransform)(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax((0,display_utils.getCurrentTransform)(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = util.Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new util.FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = util.Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = util.Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = (0,display_utils.getCurrentTransform)(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = util.Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = util.Util.applyTransform(rect, transform);\n    const p2 = util.Util.applyTransform(rect.slice(2), transform);\n    const p3 = util.Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = util.Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    util.Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = util.Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        (0,util.unreachable)(\"Stroke bounding box must include transform.\");\n      }\n      const scale = util.Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = util.Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return util.Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util.ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util.ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util.ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!util.isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n      bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n      bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n    }\n  }\n}\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = layerData[i] * alpha * scale | 0;\n  }\n}\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n    layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n  }\n}\nfunction genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n  const composeFn = subtype === \"Luminosity\" ? composeSMaskLuminosity : composeSMaskAlpha;\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(layerOffsetX - maskOffsetX, row + (layerOffsetY - maskOffsetY), width, chunkHeight);\n    const layerData = layerCtx.getImageData(layerOffsetX, row + layerOffsetY, width, chunkHeight);\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  const scale = util.Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...(0,display_utils.getCurrentTransform)(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== util.OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = util.Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, (0,display_utils.getCurrentTransformInverse)(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = util.Util.transform((0,display_utils.getCurrentTransformInverse)(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...(0,display_utils.getCurrentTransform)(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case util.OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case util.OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case util.OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case util.OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case util.OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = util.IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      (0,util.warn)(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & util.TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: (0,display_utils.getCurrentTransform)(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return (0,util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      patternTransform = (0,display_utils.getCurrentTransform)(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === util.TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        (0,util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = util.Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || (0,display_utils.getCurrentTransform)(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        })\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n  setFillRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.SHADING);\n    const inv = (0,display_utils.getCurrentTransformInverse)(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    (0,util.unreachable)(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    (0,util.unreachable)(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax((0,display_utils.getCurrentTransform)(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      (0,util.info)(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      (0,util.warn)(\"Knockout groups not supported.\");\n    }\n    const currentTransform = (0,display_utils.getCurrentTransform)(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = util.Util.getAxialAlignedBoundingBox(group.bbox, (0,display_utils.getCurrentTransform)(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = (0,display_utils.getCurrentTransform)(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = util.Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = util.Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!util.isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, (0,display_utils.getCurrentTransformInverse)(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = (0,display_utils.getCurrentTransform)(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in util.OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n\n/***/ }),\n\n/***/ 419:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMCMapReaderFactory: () => (/* binding */ DOMCMapReaderFactory),\n/* harmony export */   DOMCanvasFactory: () => (/* binding */ DOMCanvasFactory),\n/* harmony export */   DOMFilterFactory: () => (/* binding */ DOMFilterFactory),\n/* harmony export */   DOMSVGFactory: () => (/* binding */ DOMSVGFactory),\n/* harmony export */   DOMStandardFontDataFactory: () => (/* binding */ DOMStandardFontDataFactory),\n/* harmony export */   PDFDateString: () => (/* binding */ PDFDateString),\n/* harmony export */   PageViewport: () => (/* binding */ PageViewport),\n/* harmony export */   PixelsPerInch: () => (/* binding */ PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* binding */ RenderingCancelledException),\n/* harmony export */   StatTimer: () => (/* binding */ StatTimer),\n/* harmony export */   fetchData: () => (/* binding */ fetchData),\n/* harmony export */   getColorValues: () => (/* binding */ getColorValues),\n/* harmony export */   getCurrentTransform: () => (/* binding */ getCurrentTransform),\n/* harmony export */   getCurrentTransformInverse: () => (/* binding */ getCurrentTransformInverse),\n/* harmony export */   getFilenameFromUrl: () => (/* binding */ getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* binding */ getPdfFilenameFromUrl),\n/* harmony export */   getRGB: () => (/* binding */ getRGB),\n/* harmony export */   getXfaPageViewport: () => (/* binding */ getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* binding */ isDataScheme),\n/* harmony export */   isPdfFile: () => (/* binding */ isPdfFile),\n/* harmony export */   isValidFetchUrl: () => (/* binding */ isValidFetchUrl),\n/* harmony export */   noContextMenu: () => (/* binding */ noContextMenu),\n/* harmony export */   setLayerDimensions: () => (/* binding */ setLayerDimensions)\n/* harmony export */ });\n/* unused harmony export deprecated */\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nclass DOMFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    let tableR, tableG, tableB, key;\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      key = tableR = tableG = tableB = buffer.join(\",\");\n    } else {\n      const [mapR, mapG, mapB] = maps;\n      const bufferR = new Array(256);\n      const bufferG = new Array(256);\n      const bufferB = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        bufferR[i] = mapR[i] / 255;\n        bufferG[i] = mapG[i] / 255;\n        bufferB[i] = mapB[i] / 255;\n      }\n      tableR = bufferR.join(\",\");\n      tableG = bufferG.join(\",\");\n      tableB = bufferB.join(\",\");\n      key = `${tableR}${tableG}${tableB}`;\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = `url(#${id})`;\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\nclass DOMCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass DOMCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\").then(data => ({\n      cMapData: data instanceof ArrayBuffer ? new Uint8Array(data) : (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.stringToBytes)(data),\n      compressionType\n    }));\n  }\n}\nclass DOMStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, \"arraybuffer\").then(data => new Uint8Array(data));\n  }\n}\nclass DOMSVGFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url, onlyStripPath = false) {\n  if (!onlyStripPath) {\n    [url] = url.split(/[#?]/, 1);\n  }\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nlet pdfDateStringRegex;\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    pdfDateStringRegex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 47:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrawLayer: () => (/* binding */ DrawLayer)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nclass DrawLayer {\n  #parent = null;\n  #id = 0;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"_svgFactory\", new _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.DOMSVGFactory());\n  }\n  static #setBox(element, {\n    x = 0,\n    y = 0,\n    width = 1,\n    height = 1\n  } = {}) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  highlight(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlight\");\n    if (outlines.free) {\n      root.classList.add(\"free\");\n    }\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = this.#createClipPath(defs, pathId);\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  highlightOutline(outlines) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlightOutline\");\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (outlines.free) {\n      root.classList.add(\"free\");\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  removeFreeHighlight(id) {\n    this.remove(id);\n    this.#toUpdate.delete(id);\n  }\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n  remove(id) {\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n  }\n}\n\n\n/***/ }),\n\n/***/ 731:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditorLayer: () => (/* binding */ AnnotationEditorLayer)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/editor/editor.js + 1 modules\nvar editor_editor = __webpack_require__(310);\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/display/annotation_layer.js + 1 modules\nvar annotation_layer = __webpack_require__(976);\n;// CONCATENATED MODULE: ./src/display/editor/freetext.js\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends editor_editor.AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n  #boundEditorDivPaste = this.editorDivPaste.bind(this);\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #fontSize;\n  #initialData = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = util.AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager, {\n      strings: [\"pdfjs-free-text-default-content\"]\n    });\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(util.AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.addEventListener(\"paste\", this.#boundEditorDivPaste);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.removeEventListener(\"paste\", this.#boundEditorDivPaste);\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    for (const child of this.editorDiv.childNodes) {\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text\");\n    this.enableEditing();\n    editor_editor.AnnotationEditor._l10nPromise.get(\"pdfjs-free-text-default-content\").then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    (0,tools.bindEvents)(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof annotation_layer.FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: util.AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = util.Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true\n      };\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: util.AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this.#initialData;\n    return this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding)\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/outliner.js\nvar editor_outliner = __webpack_require__(61);\n// EXTERNAL MODULE: ./src/display/editor/color_picker.js\nvar color_picker = __webpack_require__(259);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/highlight.js\n\n\n\n\n\n\nclass HighlightEditor extends editor_editor.AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #boundKeydown = this.#keydown.bind(this);\n  #lastPoint = null;\n  #opacity;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _l10nPromise;\n  static _type = \"highlight\";\n  static _editorType = util.AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new editor_outliner.Outliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    } = this.#highlightOutlines.box);\n    const outlinerForOutline = new editor_outliner.Outliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.highlightOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(this.#id, HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360));\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n    }\n    const {\n      x,\n      y,\n      width,\n      height\n    } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR, HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [util.AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.highlightColorNames.get(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new color_picker.ColorPicker({\n        editor: this\n      });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded() {\n    this.parent.addUndoableEditor(this);\n    this.div.focus();\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.highlight(this.#highlightOutlines, this.color, this.#opacity));\n    this.#outlineId = parent.drawLayer.highlightOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox({\n    x,\n    y,\n    width,\n    height\n  }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#boundKeydown);\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    (0,tools.bindEvents)(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n  }\n  pointerleave() {\n    this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const boxes = this.#boxes;\n    const quadPoints = new Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth;\n      const sy = (1 - y - height) * pageHeight;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const pointerMove = e => {\n      this.#highlightMove(parent, e);\n    };\n    const pointerDownOptions = {\n      capture: true,\n      passive: false\n    };\n    const pointerDown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      textLayer.removeEventListener(\"pointermove\", pointerMove);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback);\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    textLayer.addEventListener(\"pointermove\", pointerMove);\n    this._freeHighlight = new editor_outliner.FreeOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.highlight(this._freeHighlight, this._defaultColor, this._defaultOpacity, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.removeFreeHighlight(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect: [blX, blY, trX, trY],\n      color,\n      quadPoints\n    } = data;\n    editor.color = util.Util.makeHexColor(...color);\n    editor.#opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    editor.width = (trX - blX) / pageWidth;\n    editor.height = (trY - blY) / pageHeight;\n    const boxes = editor.#boxes = [];\n    for (let i = 0; i < quadPoints.length; i += 8) {\n      boxes.push({\n        x: (quadPoints[4] - trX) / pageWidth,\n        y: (trY - (1 - quadPoints[i + 5])) / pageHeight,\n        width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n        height: (quadPoints[i + 5] - quadPoints[i + 1]) / pageHeight\n      });\n    }\n    editor.#createOutlines();\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.color);\n    return {\n      annotationType: util.AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends editor_editor.AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = util.AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${(0,tools.opacityToHex)(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.select();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.removeEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = util.Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = util.Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: util.AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends editor_editor.AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = util.AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return (0,util.shadow)(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return (0,util.shadow)(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(util.AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.addAltTextButton();\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === width && canvas.height === height) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(width, height);\n    if (this._uiManager.hasMLManager && !this.hasAltText()) {\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n      offscreen.convertToBlob().then(blob => {\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          const url = fileReader.result;\n          this._uiManager.mlGuess({\n            service: \"image-to-text\",\n            request: {\n              imageData: url\n            }\n          }).then(response => {\n            const altText = response?.output || \"\";\n            if (this.parent && altText && !this.hasAltText()) {\n              this.altTextData = {\n                altText,\n                decorative: false\n              };\n            }\n          });\n        };\n        fileReader.readAsDataURL(blob);\n      });\n    }\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const serialized = {\n      annotationType: util.AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #boundPointerup = null;\n  #boundPointerdown = null;\n  #boundTextLayerPointerDown = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #textLayer = null;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === util.AnnotationEditorType.NONE;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case util.AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case util.AnnotationEditorType.INK:\n        this.addInkEditorIfNeeded(false);\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case util.AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== util.AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          editor.renderAnnotationElement(editable);\n          editor.show(false);\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#boundTextLayerPointerDown) {\n      this.#boundTextLayerPointerDown = this.#textLayerPointerDown.bind(this);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#boundTextLayerPointerDown) {\n      this.#textLayer.div.removeEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#boundTextLayerPointerDown = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    if (event.target === this.#textLayer.div) {\n      const {\n        isMac\n      } = util.FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", event);\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n      }, {\n        once: true\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#boundPointerdown) {\n      return;\n    }\n    this.#boundPointerdown = this.pointerdown.bind(this);\n    this.#boundPointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup);\n  }\n  disableClick() {\n    if (!this.#boundPointerdown) {\n      return;\n    }\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n    this.#boundPointerdown = null;\n    this.#boundPointerup = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      editor_editor.AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  deserialize(data) {\n    return AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(false);\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n\n/***/ }),\n\n/***/ 259:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorPicker: () => (/* binding */ ColorPicker)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(830);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n\n\n\nclass ColorPicker {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundPointerDown = this.#pointerDown.bind(this);\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #uiManager = null;\n  #type;\n  static get _keyboardManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new _tools_js__WEBPACK_IMPORTED_MODULE_1__.KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    button.addEventListener(\"click\", this.#openDropdown.bind(this));\n    button.addEventListener(\"keydown\", this.#boundKeyDown);\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    div.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu);\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", `pdfjs-editor-colorpicker-${name}`);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color));\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#boundKeyDown);\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color\n    });\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    window.addEventListener(\"pointerdown\", this.#boundPointerDown);\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    window.removeEventListener(\"pointerdown\", this.#boundPointerDown);\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n\n/***/ }),\n\n/***/ 310:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditor: () => (/* binding */ AnnotationEditor)\n});\n\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = \"\";\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #editor = null;\n  static _l10nPromise = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  static initialize(l10nPromise) {\n    AltText._l10nPromise ||= l10nPromise;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    const msg = await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-button-label\");\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    altText.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation());\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    });\n    await this.#setState();\n    return altText;\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative\n  }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    button.classList.add(\"done\");\n    AltText._l10nPromise.get(\"pdfjs-editor-alt-text-edit-button-label\").then(msg => {\n      button.setAttribute(\"aria-label\", msg);\n    });\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      button.setAttribute(\"aria-describedby\", id);\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      });\n    }\n    tooltip.innerText = this.#altTextDecorative ? await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-decorative-tooltip\") : this.#altText;\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/toolbar.js\nvar toolbar = __webpack_require__(362);\n;// CONCATENATED MODULE: ./src/display/editor/editor.js\n\n\n\n\n\nclass AnnotationEditor {\n  #allResizerDivs = null;\n  #altText = null;\n  #disabled = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #boundFocusin = this.focusin.bind(this);\n  #boundFocusout = this.focusout.bind(this);\n  #editToolbar = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialPosition = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  _initialOptions = Object.create(null);\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  _l10nPromise = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new tools.ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_resizerKeyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      (0,util.unreachable)(\"Cannot initialize AnnotationEditor.\");\n    }\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return (0,util.shadow)(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager, options) {\n    AnnotationEditor._l10nPromise ||= new Map([\"pdfjs-editor-alt-text-button-label\", \"pdfjs-editor-alt-text-edit-button-label\", \"pdfjs-editor-alt-text-decorative-tooltip\", \"pdfjs-editor-resizer-label-topLeft\", \"pdfjs-editor-resizer-label-topMiddle\", \"pdfjs-editor-resizer-label-topRight\", \"pdfjs-editor-resizer-label-middleRight\", \"pdfjs-editor-resizer-label-bottomRight\", \"pdfjs-editor-resizer-label-bottomMiddle\", \"pdfjs-editor-resizer-label-bottomLeft\", \"pdfjs-editor-resizer-label-middleLeft\"].map(str => [str, l10n.get(str.replaceAll(/([A-Z])/g, c => `-${c.toLowerCase()}`))]));\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    (0,util.unreachable)(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  get _hasBeenMoved() {\n    return !!this.#initialPosition && (this.#initialPosition[0] !== this.x || this.#initialPosition[1] !== this.y);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return util.FeatureTest.isCSSRoundSupported ? [Math.round(scaledWidth), Math.round(scaledHeight)] : [scaledWidth, scaledHeight];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name));\n      div.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const pointerMoveOptions = {\n      passive: true,\n      capture: true\n    };\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  async addEditToolbar() {\n    if (this.#editToolbar || this.#isInEditMode) {\n      return this.#editToolbar;\n    }\n    this.#editToolbar = new toolbar.EditorToolbar(this);\n    this.div.append(this.#editToolbar.render());\n    if (this.#altText) {\n      this.#editToolbar.addAltTextButton(await this.#altText.render());\n    }\n    return this.#editToolbar;\n  }\n  removeEditToolbar() {\n    if (!this.#editToolbar) {\n      return;\n    }\n    this.#editToolbar.remove();\n    this.#editToolbar = null;\n    this.#altText?.destroy();\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10nPromise);\n    this.#altText = new AltText(this);\n    await this.addEditToolbar();\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  hasAltText() {\n    return !this.#altText?.isEmpty();\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.div.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div.addEventListener(\"focusout\", this.#boundFocusout);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    (0,tools.bindEvents)(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n    let pointerMoveOptions, pointerMoveCallback;\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      pointerMoveOptions = {\n        passive: true,\n        capture: true\n      };\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      pointerMoveCallback = e => {\n        const {\n          clientX: x,\n          clientY: y\n        } = e;\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n    }\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n        window.removeEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  rebuild() {\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout);\n  }\n  rotate(_angle) {}\n  serialize(isForCopying = false, context = null) {\n    (0,util.unreachable)(\"An editor must be serializable\");\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      (0,tools.bindEvents)(this, this.div, [\"keydown\"]);\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown);\n        div.addEventListener(\"blur\", boundResizerBlur);\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name));\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => div.setAttribute(\"aria-label\", msg));\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => child.setAttribute(\"aria-label\", msg));\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this.#editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this.#editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this.#editToolbar?.show();\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#editToolbar?.hide();\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 61:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FreeOutliner: () => (/* binding */ FreeOutliner),\n/* harmony export */   Outliner: () => (/* binding */ Outliner)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Outliner {\n  #box;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint\n    };\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass Outline {\n  toSVGPath() {\n    throw new Error(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    throw new Error(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    throw new Error(\"Abstract method `serialize` must be implemented.\");\n  }\n  get free() {\n    return this instanceof FreeHighlightOutline;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n}\nclass FreeOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float64Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeOutliner.#MIN_DIST + FreeOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  get free() {\n    return true;\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n    return buffer.join(\" \");\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const lastTop = last.subarray(4, 6);\n    const lastBottom = last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      const outline = new Float64Array(36);\n      outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n      return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n    }\n    const outline = new Float64Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], N);\n    N += 24;\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], N);\n    return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n}\nclass FreeHighlightOutline extends Outline {\n  #box;\n  #bbox = null;\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6));\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = {\n      x,\n      y,\n      width,\n      height,\n      lastPoint: [lastPointX, lastPointY]\n    };\n  }\n  get box() {\n    return this.#bbox;\n  }\n  getNewOutline(thickness, innerMargin) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = new FreeOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n\n/***/ }),\n\n/***/ 362:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorToolbar: () => (/* binding */ EditorToolbar),\n/* harmony export */   HighlightToolbar: () => (/* binding */ HighlightToolbar)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    this.#addDeleteButton();\n    return editToolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #addListenersToElement(element) {\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n  }\n  #addDeleteButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-editor-remove-${this.#editor.editorType}-button`);\n    this.#addListenersToElement(button);\n    button.addEventListener(\"click\", e => {\n      this.#editor._uiManager.delete();\n    });\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  addAltTextButton(button) {\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass HighlightToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    this.#addHighlightButton();\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    button.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    button.addEventListener(\"click\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    this.#buttons.append(button);\n  }\n}\n\n\n/***/ }),\n\n/***/ 830:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditorUIManager: () => (/* binding */ AnnotationEditorUIManager),\n/* harmony export */   ColorManager: () => (/* binding */ ColorManager),\n/* harmony export */   KeyboardManager: () => (/* binding */ KeyboardManager),\n/* harmony export */   bindEvents: () => (/* binding */ bindEvents),\n/* harmony export */   opacityToHex: () => (/* binding */ opacityToHex)\n/* harmony export */ });\n/* unused harmony export CommandManager */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n/* harmony import */ var _toolbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(362);\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  constructor() {}\n  get id() {\n    return `${_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getUuid)();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.fetchData)(rawData, \"blob\");\n      } else {\n        image = data.file = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getColorValues)(colors);\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRGB)(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #enableHighlightFloatingButton = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #highlightToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #mlManager = null;\n  #mode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #boundBlur = this.blur.bind(this);\n  #boundFocus = this.focus.bind(this);\n  #boundCopy = this.copy.bind(this);\n  #boundCut = this.cut.bind(this);\n  #boundPaste = this.paste.bind(this);\n  #boundKeydown = this.keydown.bind(this);\n  #boundKeyup = this.keyup.bind(this);\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n  #boundSelectionChange = this.#selectionChange.bind(this);\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, mlManager) {\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#addSelectionListener();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n  }\n  destroy() {\n    this.#removeKeyboardManager();\n    this.#removeFocusManager();\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this.#removeSelectionListener();\n  }\n  async mlGuess(data) {\n    return this.#mlManager?.guess(data) || null;\n  }\n  get hasMLManager() {\n    return !!this.#mlManager;\n  }\n  get hcmFilter() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get highlightColors() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => pair.split(\"=\").map(x => x.trim()))) : null);\n  }\n  get highlightColorNames() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this._eventBus.dispatch(\"showannotationeditorui\", {\n        source: this,\n        mode: _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT\n      });\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        layer.createAndAddNewEditor({\n          x: 0,\n          y: 0\n        }, false, {\n          methodOfCreation,\n          boxes,\n          anchorNode,\n          anchorOffset,\n          focusNode,\n          focusOffset,\n          text\n        });\n        break;\n      }\n    }\n  }\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new _toolbar_js__WEBPACK_IMPORTED_MODULE_2__.HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          return;\n        }\n        window.removeEventListener(\"pointerup\", pointerup);\n        window.removeEventListener(\"blur\", pointerup);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup);\n      window.addEventListener(\"blur\", pointerup);\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #removeSelectionListener() {\n    document.removeEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #addFocusManager() {\n    window.addEventListener(\"focus\", this.#boundFocus);\n    window.addEventListener(\"blur\", this.#boundBlur);\n  }\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    window.addEventListener(\"keydown\", this.#boundKeydown);\n    window.addEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown);\n    window.removeEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #addCopyPasteListeners() {\n    document.addEventListener(\"copy\", this.#boundCopy);\n    document.addEventListener(\"cut\", this.#boundCut);\n    document.addEventListener(\"paste\", this.#boundPaste);\n  }\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId && isFromKeyboard) {\n      this.addNewEditorFromKeyboard();\n      return;\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 94:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFFetchStream: () => (/* binding */ PDFFetchStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const getResponseHeader = name => response.headers.get(name);\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n\n/***/ }),\n\n/***/ 10:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontFaceObject: () => (/* binding */ FontFaceObject),\n/* harmony export */   FontLoader: () => (/* binding */ FontLoader)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.string32)(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    disableFontFace = false,\n    ignoreErrors = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii;) {\n      switch (cmds[i++]) {\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SCALE:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(commands.length === 2, \"Scale command is only valid at the third position.\");\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n    return this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 62:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Metadata: () => (/* binding */ Metadata)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n\n/***/ }),\n\n/***/ 457:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNetworkStream: () => (/* binding */ PDFNetworkStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(data).buffer;\n}\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const getResponseHeader = name => fullRequestXhr.getResponseHeader(name);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersReceivedCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n\n/***/ }),\n\n/***/ 490:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  createResponseStatusError: () => (/* binding */ createResponseStatusError),\n  extractFilenameFromHeader: () => (/* binding */ extractFilenameFromHeader),\n  validateRangeRequestCapabilities: () => (/* binding */ validateRangeRequestCapabilities),\n  validateResponseStatus: () => (/* binding */ validateResponseStatus)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n;// CONCATENATED MODULE: ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = (0,util.stringToBytes)(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/network_utils.js\n\n\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if ((0,display_utils.isPdfFile)(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n\n/***/ }),\n\n/***/ 786:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNodeStream: () => (/* binding */ PDFNodeStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nlet fs, http, https, url;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  http = await import( /*webpackIgnore: true*/\"http\");\n  https = await import( /*webpackIgnore: true*/\"https\");\n  url = await import( /*webpackIgnore: true*/\"url\");\n}\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const getResponseHeader = name => this._readableStream.headers[name.toLowerCase()];\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    fs.promises.lstat(path).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${path}\".`);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 573:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeCMapReaderFactory: () => (/* binding */ NodeCMapReaderFactory),\n/* harmony export */   NodeCanvasFactory: () => (/* binding */ NodeCanvasFactory),\n/* harmony export */   NodeFilterFactory: () => (/* binding */ NodeFilterFactory),\n/* harmony export */   NodeStandardFontDataFactory: () => (/* binding */ NodeStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nlet fs, canvas, path2d;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  try {\n    canvas = await import( /*webpackIgnore: true*/\"canvas\");\n  } catch {}\n  try {\n    path2d = await import( /*webpackIgnore: true*/\"path2d\");\n  } catch {}\n}\nconst fetchData = function (url) {\n  return fs.promises.readFile(url).then(data => new Uint8Array(data));\n};\nclass NodeFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {}\nclass NodeCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  _createCanvas(width, height) {\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => ({\n      cMapData: data,\n      compressionType\n    }));\n  }\n}\nclass NodeStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 626:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionalContentConfig: () => (/* binding */ OptionalContentConfig)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(651);\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage\n  }) {\n    this.#isDisplay = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          group._setVisible(INTERNAL, true);\n          break;\n        case \"OFF\":\n          group._setVisible(INTERNAL, false);\n          break;\n        case \"Toggle\":\n          group._setVisible(INTERNAL, !group.visible);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__.MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n\n/***/ }),\n\n/***/ 814:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanupTextLayer: () => (/* binding */ cleanupTextLayer),\n/* harmony export */   renderTextLayer: () => (/* binding */ renderTextLayer),\n/* harmony export */   updateTextLayer: () => (/* binding */ updateTextLayer)\n/* harmony export */ });\n/* unused harmony export TextLayerRenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nlet _canvasContext = null;\nfunction getCtx() {\n  if (!_canvasContext) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.className = \"hiddenCanvasElement\";\n    document.body.append(canvas);\n    _canvasContext = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n  }\n  return _canvasContext;\n}\nfunction cleanupTextLayer() {\n  _canvasContext?.canvas.remove();\n  _canvasContext = null;\n}\nfunction getAscent(fontFamily) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n  const ctx = getCtx();\n  const savedFont = ctx.font;\n  ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    ctx.font = savedFont;\n    return ratio;\n  }\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.canvas.width = ctx.canvas.height = 0;\n  ctx.font = savedFont;\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\nfunction appendText(task, geom, styles) {\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    fontSize: 0\n  };\n  task._textDivs.push(textDiv);\n  const tx = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.transform(task._transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontFamily = task._fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(fontFamily);\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  const scaleFactorStr = \"calc(var(--scale-factor)*\";\n  const divStyle = textDiv.style;\n  if (task._container === task._rootContainer) {\n    divStyle.left = `${(100 * left / task._pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / task._pageHeight).toFixed(2)}%`;\n  } else {\n    divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n    divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n  }\n  divStyle.fontSize = `${scaleFactorStr}${fontHeight.toFixed(2)}px)`;\n  divStyle.fontFamily = fontFamily;\n  textDivProperties.fontSize = fontHeight;\n  textDiv.setAttribute(\"role\", \"presentation\");\n  textDiv.textContent = geom.str;\n  textDiv.dir = geom.dir;\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  let shouldScaleText = false;\n  if (geom.str.length > 1) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._isReadableStream) {\n    task._layoutText(textDiv);\n  }\n}\nfunction layout(params) {\n  const {\n    div,\n    scale,\n    properties,\n    ctx,\n    prevFontSize,\n    prevFontFamily\n  } = params;\n  const {\n    style\n  } = div;\n  let transform = \"\";\n  if (properties.canvasWidth !== 0 && properties.hasText) {\n    const {\n      fontFamily\n    } = style;\n    const {\n      canvasWidth,\n      fontSize\n    } = properties;\n    if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n      ctx.font = `${fontSize * scale}px ${fontFamily}`;\n      params.prevFontSize = fontSize;\n      params.prevFontFamily = fontFamily;\n    }\n    const {\n      width\n    } = ctx.measureText(div.textContent);\n    if (width > 0) {\n      transform = `scaleX(${canvasWidth * scale / width})`;\n    }\n  }\n  if (properties.angle !== 0) {\n    transform = `rotate(${properties.angle}deg) ${transform}`;\n  }\n  if (transform.length > 0) {\n    style.transform = transform;\n  }\n}\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    capability.resolve();\n    return;\n  }\n  if (!task._isReadableStream) {\n    for (const textDiv of textDivs) {\n      task._layoutText(textDiv);\n    }\n  }\n  capability.resolve();\n}\nclass TextLayerRenderTask {\n  constructor({\n    textContentSource,\n    container,\n    viewport,\n    textDivs,\n    textDivProperties,\n    textContentItemsStr\n  }) {\n    this._textContentSource = textContentSource;\n    this._isReadableStream = textContentSource instanceof ReadableStream;\n    this._container = this._rootContainer = container;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._textDivProperties = textDivProperties || new WeakMap();\n    this._canceled = false;\n    this._capability = Promise.withResolvers();\n    this._layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale: viewport.scale * (globalThis.devicePixelRatio || 1),\n      properties: null,\n      ctx: getCtx()\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this._transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this._pageWidth = pageWidth;\n    this._pageHeight = pageHeight;\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, viewport);\n    this._capability.promise.finally(() => {\n      this._layoutTextParams = null;\n    }).catch(() => {});\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n      this._reader = null;\n    }\n    this._capability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\"));\n  }\n  _processItems(items, styleCache) {\n    for (const item of items) {\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this._container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this._container);\n        } else if (item.type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(item.str);\n      appendText(this, item, styleCache);\n    }\n  }\n  _layoutText(textDiv) {\n    const textDivProperties = this._layoutTextParams.properties = this._textDivProperties.get(textDiv);\n    this._layoutTextParams.div = textDiv;\n    layout(this._layoutTextParams);\n    if (textDivProperties.hasText) {\n      this._container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.append(br);\n    }\n  }\n  _render() {\n    const {\n      promise,\n      resolve,\n      reject\n    } = Promise.withResolvers();\n    let styleCache = Object.create(null);\n    if (this._isReadableStream) {\n      const pump = () => {\n        this._reader.read().then(({\n          value,\n          done\n        }) => {\n          if (done) {\n            resolve();\n            return;\n          }\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, reject);\n      };\n      this._reader = this._textContentSource.getReader();\n      pump();\n    } else if (this._textContentSource) {\n      const {\n        items,\n        styles\n      } = this._textContentSource;\n      this._processItems(items, styles);\n      resolve();\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    promise.then(() => {\n      styleCache = null;\n      render(this);\n    }, this._capability.reject);\n  }\n}\nfunction renderTextLayer(params) {\n  const task = new TextLayerRenderTask(params);\n  task._render();\n  return task;\n}\nfunction updateTextLayer({\n  container,\n  viewport,\n  textDivs,\n  textDivProperties,\n  mustRotate = true,\n  mustRescale = true\n}) {\n  if (mustRotate) {\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, {\n      rotation: viewport.rotation\n    });\n  }\n  if (mustRescale) {\n    const ctx = getCtx();\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const params = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale,\n      properties: null,\n      ctx\n    };\n    for (const div of textDivs) {\n      params.properties = textDivProperties.get(div);\n      params.div = div;\n      layout(params);\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 585:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataTransportStream: () => (/* binding */ PDFDataTransportStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n\n/***/ }),\n\n/***/ 164:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalWorkerOptions: () => (/* binding */ GlobalWorkerOptions)\n/* harmony export */ });\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n\n/***/ }),\n\n/***/ 284:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaLayer: () => (/* binding */ XfaLayer)\n/* harmony export */ });\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50);\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n\n/***/ }),\n\n/***/ 50:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaText: () => (/* binding */ XfaText)\n/* harmony export */ });\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException),\n/* harmony export */   AnnotationEditorLayer: () => (/* reexport safe */ _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__.AnnotationEditorLayer),\n/* harmony export */   AnnotationEditorParamsType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType),\n/* harmony export */   AnnotationEditorUIManager: () => (/* reexport safe */ _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__.AnnotationEditorUIManager),\n/* harmony export */   AnnotationLayer: () => (/* reexport safe */ _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__.AnnotationLayer),\n/* harmony export */   AnnotationMode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode),\n/* harmony export */   CMapCompressionType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType),\n/* harmony export */   ColorPicker: () => (/* reexport safe */ _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__.ColorPicker),\n/* harmony export */   DOMSVGFactory: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMSVGFactory),\n/* harmony export */   DrawLayer: () => (/* reexport safe */ _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__.DrawLayer),\n/* harmony export */   FeatureTest: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest),\n/* harmony export */   GlobalWorkerOptions: () => (/* reexport safe */ _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__.GlobalWorkerOptions),\n/* harmony export */   ImageKind: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException),\n/* harmony export */   MissingPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException),\n/* harmony export */   OPS: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.OPS),\n/* harmony export */   Outliner: () => (/* reexport safe */ _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__.Outliner),\n/* harmony export */   PDFDataRangeTransport: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFDataRangeTransport),\n/* harmony export */   PDFDateString: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PDFDateString),\n/* harmony export */   PDFWorker: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFWorker),\n/* harmony export */   PasswordResponses: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PermissionFlag),\n/* harmony export */   PixelsPerInch: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException),\n/* harmony export */   UnexpectedResponseException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException),\n/* harmony export */   Util: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util),\n/* harmony export */   VerbosityLevel: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.VerbosityLevel),\n/* harmony export */   XfaLayer: () => (/* reexport safe */ _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__.XfaLayer),\n/* harmony export */   build: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.build),\n/* harmony export */   createValidAbsoluteUrl: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.createValidAbsoluteUrl),\n/* harmony export */   fetchData: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.fetchData),\n/* harmony export */   getDocument: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.getDocument),\n/* harmony export */   getFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getPdfFilenameFromUrl),\n/* harmony export */   getXfaPageViewport: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme),\n/* harmony export */   isPdfFile: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isPdfFile),\n/* harmony export */   noContextMenu: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu),\n/* harmony export */   normalizeUnicode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnicode),\n/* harmony export */   renderTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.renderTextLayer),\n/* harmony export */   setLayerDimensions: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.setLayerDimensions),\n/* harmony export */   shadow: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow),\n/* harmony export */   updateTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.updateTextLayer),\n/* harmony export */   version: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.version)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(831);\n/* harmony import */ var _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(814);\n/* harmony import */ var _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(731);\n/* harmony import */ var _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(830);\n/* harmony import */ var _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(976);\n/* harmony import */ var _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(259);\n/* harmony import */ var _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47);\n/* harmony import */ var _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(164);\n/* harmony import */ var _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(61);\n/* harmony import */ var _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(284);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_display_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n_display_api_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.2.67\";\nconst pdfjsBuild = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 178:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageHandler: () => (/* binding */ MessageHandler)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.details);\n    default:\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\n\n/***/ }),\n\n/***/ 651:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MurmurHash3_64: () => (/* binding */ MurmurHash3_64)\n/* harmony export */ });\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 292:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* binding */ AbortException),\n/* harmony export */   AnnotationBorderStyleType: () => (/* binding */ AnnotationBorderStyleType),\n/* harmony export */   AnnotationEditorParamsType: () => (/* binding */ AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorPrefix: () => (/* binding */ AnnotationEditorPrefix),\n/* harmony export */   AnnotationEditorType: () => (/* binding */ AnnotationEditorType),\n/* harmony export */   AnnotationMode: () => (/* binding */ AnnotationMode),\n/* harmony export */   AnnotationPrefix: () => (/* binding */ AnnotationPrefix),\n/* harmony export */   AnnotationType: () => (/* binding */ AnnotationType),\n/* harmony export */   BaseException: () => (/* binding */ BaseException),\n/* harmony export */   CMapCompressionType: () => (/* binding */ CMapCompressionType),\n/* harmony export */   FONT_IDENTITY_MATRIX: () => (/* binding */ FONT_IDENTITY_MATRIX),\n/* harmony export */   FeatureTest: () => (/* binding */ FeatureTest),\n/* harmony export */   FontRenderOps: () => (/* binding */ FontRenderOps),\n/* harmony export */   FormatError: () => (/* binding */ FormatError),\n/* harmony export */   IDENTITY_MATRIX: () => (/* binding */ IDENTITY_MATRIX),\n/* harmony export */   ImageKind: () => (/* binding */ ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* binding */ InvalidPDFException),\n/* harmony export */   LINE_FACTOR: () => (/* binding */ LINE_FACTOR),\n/* harmony export */   MAX_IMAGE_SIZE_TO_CACHE: () => (/* binding */ MAX_IMAGE_SIZE_TO_CACHE),\n/* harmony export */   MissingPDFException: () => (/* binding */ MissingPDFException),\n/* harmony export */   OPS: () => (/* binding */ OPS),\n/* harmony export */   PasswordException: () => (/* binding */ PasswordException),\n/* harmony export */   PasswordResponses: () => (/* binding */ PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* binding */ PermissionFlag),\n/* harmony export */   RenderingIntentFlag: () => (/* binding */ RenderingIntentFlag),\n/* harmony export */   TextRenderingMode: () => (/* binding */ TextRenderingMode),\n/* harmony export */   UnexpectedResponseException: () => (/* binding */ UnexpectedResponseException),\n/* harmony export */   UnknownErrorException: () => (/* binding */ UnknownErrorException),\n/* harmony export */   Util: () => (/* binding */ Util),\n/* harmony export */   VerbosityLevel: () => (/* binding */ VerbosityLevel),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   bytesToString: () => (/* binding */ bytesToString),\n/* harmony export */   createValidAbsoluteUrl: () => (/* binding */ createValidAbsoluteUrl),\n/* harmony export */   getUuid: () => (/* binding */ getUuid),\n/* harmony export */   getVerbosityLevel: () => (/* binding */ getVerbosityLevel),\n/* harmony export */   info: () => (/* binding */ info),\n/* harmony export */   isNodeJS: () => (/* binding */ isNodeJS),\n/* harmony export */   normalizeUnicode: () => (/* binding */ normalizeUnicode),\n/* harmony export */   objectFromMap: () => (/* binding */ objectFromMap),\n/* harmony export */   setVerbosityLevel: () => (/* binding */ setVerbosityLevel),\n/* harmony export */   shadow: () => (/* binding */ shadow),\n/* harmony export */   string32: () => (/* binding */ string32),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   unreachable: () => (/* binding */ unreachable),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* unused harmony exports AnnotationActionEventType, AnnotationFieldFlag, AnnotationFlag, AnnotationReplyType, BASELINE_FACTOR, DocumentActionEventType, getModificationDate, isArrayEqual, LINE_DESCENT_FACTOR, objectSize, PageActionEventType, stringToPDFString, stringToUTF8String, utf8StringToString */\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [Math.min(x0, x3), Math.min(y0, y3), Math.max(x0, x3), Math.max(y0, y3)];\n    }\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n    return minMax;\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8\n};\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/async module */\n/******/ (() => {\n/******/ \tvar webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\n/******/ \tvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\n/******/ \tvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\n/******/ \tvar resolveQueue = (queue) => {\n/******/ \t\tif(queue && queue.d < 1) {\n/******/ \t\t\tqueue.d = 1;\n/******/ \t\t\tqueue.forEach((fn) => (fn.r--));\n/******/ \t\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n/******/ \t\t}\n/******/ \t}\n/******/ \tvar wrapDeps = (deps) => (deps.map((dep) => {\n/******/ \t\tif(dep !== null && typeof dep === \"object\") {\n/******/ \t\t\tif(dep[webpackQueues]) return dep;\n/******/ \t\t\tif(dep.then) {\n/******/ \t\t\t\tvar queue = [];\n/******/ \t\t\t\tqueue.d = 0;\n/******/ \t\t\t\tdep.then((r) => {\n/******/ \t\t\t\t\tobj[webpackExports] = r;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t}, (e) => {\n/******/ \t\t\t\t\tobj[webpackError] = e;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t});\n/******/ \t\t\t\tvar obj = {};\n/******/ \t\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n/******/ \t\t\t\treturn obj;\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tvar ret = {};\n/******/ \t\tret[webpackQueues] = x => {};\n/******/ \t\tret[webpackExports] = dep;\n/******/ \t\treturn ret;\n/******/ \t}));\n/******/ \t__webpack_require__.a = (module, body, hasAwait) => {\n/******/ \t\tvar queue;\n/******/ \t\thasAwait && ((queue = []).d = -1);\n/******/ \t\tvar depQueues = new Set();\n/******/ \t\tvar exports = module.exports;\n/******/ \t\tvar currentDeps;\n/******/ \t\tvar outerResolve;\n/******/ \t\tvar reject;\n/******/ \t\tvar promise = new Promise((resolve, rej) => {\n/******/ \t\t\treject = rej;\n/******/ \t\t\touterResolve = resolve;\n/******/ \t\t});\n/******/ \t\tpromise[webpackExports] = exports;\n/******/ \t\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n/******/ \t\tmodule.exports = promise;\n/******/ \t\tbody((deps) => {\n/******/ \t\t\tcurrentDeps = wrapDeps(deps);\n/******/ \t\t\tvar fn;\n/******/ \t\t\tvar getResult = () => (currentDeps.map((d) => {\n/******/ \t\t\t\tif(d[webpackError]) throw d[webpackError];\n/******/ \t\t\t\treturn d[webpackExports];\n/******/ \t\t\t}))\n/******/ \t\t\tvar promise = new Promise((resolve) => {\n/******/ \t\t\t\tfn = () => (resolve(getResult));\n/******/ \t\t\t\tfn.r = 0;\n/******/ \t\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n/******/ \t\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n/******/ \t\t\t});\n/******/ \t\t\treturn fn.r ? promise : getResult();\n/******/ \t\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n/******/ \t\tqueue && queue.d < 0 && (queue.d = 0);\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\n/******/ \n/******/ // startup\n/******/ // Load entry module and return exports\n/******/ // This entry module used 'module' so it can't be inlined\n/******/ var __webpack_exports__ = __webpack_require__(228);\n/******/ __webpack_exports__ = globalThis.pdfjsLib = await (globalThis.pdfjsLibPromise = __webpack_exports__);\n/******/ var __webpack_exports__AbortException = __webpack_exports__.AbortException;\n/******/ var __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\n/******/ var __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\n/******/ var __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\n/******/ var __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\n/******/ var __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\n/******/ var __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\n/******/ var __webpack_exports__CMapCompressionType = __webpack_exports__.CMapCompressionType;\n/******/ var __webpack_exports__ColorPicker = __webpack_exports__.ColorPicker;\n/******/ var __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\n/******/ var __webpack_exports__DrawLayer = __webpack_exports__.DrawLayer;\n/******/ var __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\n/******/ var __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\n/******/ var __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\n/******/ var __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\n/******/ var __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\n/******/ var __webpack_exports__OPS = __webpack_exports__.OPS;\n/******/ var __webpack_exports__Outliner = __webpack_exports__.Outliner;\n/******/ var __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\n/******/ var __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\n/******/ var __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\n/******/ var __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\n/******/ var __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\n/******/ var __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\n/******/ var __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\n/******/ var __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\n/******/ var __webpack_exports__Util = __webpack_exports__.Util;\n/******/ var __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\n/******/ var __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\n/******/ var __webpack_exports__build = __webpack_exports__.build;\n/******/ var __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\n/******/ var __webpack_exports__fetchData = __webpack_exports__.fetchData;\n/******/ var __webpack_exports__getDocument = __webpack_exports__.getDocument;\n/******/ var __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\n/******/ var __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\n/******/ var __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\n/******/ var __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\n/******/ var __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\n/******/ var __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\n/******/ var __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\n/******/ var __webpack_exports__renderTextLayer = __webpack_exports__.renderTextLayer;\n/******/ var __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\n/******/ var __webpack_exports__shadow = __webpack_exports__.shadow;\n/******/ var __webpack_exports__updateTextLayer = __webpack_exports__.updateTextLayer;\n/******/ var __webpack_exports__version = __webpack_exports__.version;\n/******/ export { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__CMapCompressionType as CMapCompressionType, __webpack_exports__ColorPicker as ColorPicker, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__DrawLayer as DrawLayer, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__Outliner as Outliner, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__fetchData as fetchData, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__renderTextLayer as renderTextLayer, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__updateTextLayer as updateTextLayer, __webpack_exports__version as version };\n/******/ \n\n//# sourceMappingURL=pdf.mjs.map"],"file":"assets/pdf-DdrdGk53.js"}