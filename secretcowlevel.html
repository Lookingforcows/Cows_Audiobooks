<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Cow Level</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }

        canvas {
            border: 2px solid black;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        // Define the game world
        const TILE_SIZE = 32;
        const MAP_WIDTH = 50;
        const MAP_HEIGHT = 50;
        const PLAYER_SPEED = 4;
        let playerX = 10;
        let playerY = 10;

        // Static map generation - Forest with some random obstacles
        let map = generateMap(MAP_WIDTH, MAP_HEIGHT);

        // Randomly place the cow in the forest
        let cow = {
            x: Math.floor(Math.random() * MAP_WIDTH),
            y: Math.floor(Math.random() * MAP_HEIGHT)
        };

        // Initialize the game canvas
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Listen for key events to move the player
        document.addEventListener("keydown", handleKeyPress);

        // Draw the game world and player
        function draw() {
            // Draw the map
            for (let y = 0; y < MAP_HEIGHT; y++) {
                for (let x = 0; x < MAP_WIDTH; x++) {
                    if (map[y][x] === 1) {
                        ctx.fillStyle = 'green';  // Forest tile
                    } else {
                        ctx.fillStyle = 'brown';  // Empty space
                    }
                    ctx.fillRect(x * TILE_SIZE, y * TILE_SIZE, TILE_SIZE, TILE_SIZE);
                }
            }

            // Draw the cow
            ctx.fillStyle = 'white';
            ctx.fillRect(cow.x * TILE_SIZE, cow.y * TILE_SIZE, TILE_SIZE, TILE_SIZE);

            // Draw the player
            ctx.fillStyle = 'blue';
            ctx.fillRect(playerX * TILE_SIZE, playerY * TILE_SIZE, TILE_SIZE, TILE_SIZE);

            // Check if the player found the cow
            if (playerX === cow.x && playerY === cow.y) {
                ctx.fillStyle = 'black';
                ctx.font = '30px Arial';
                ctx.fillText('You found the cow!', 250, 300);
            }
        }

        // Handle player movement
        function handleKeyPress(event) {
            if (event.key === 'ArrowUp' && playerY > 0 && map[playerY - 1][playerX] !== 1) {
                playerY -= PLAYER_SPEED;
            }
            if (event.key === 'ArrowDown' && playerY < MAP_HEIGHT - 1 && map[playerY + 1][playerX] !== 1) {
                playerY += PLAYER_SPEED;
            }
            if (event.key === 'ArrowLeft' && playerX > 0 && map[playerY][playerX - 1] !== 1) {
                playerX -= PLAYER_SPEED;
            }
            if (event.key === 'ArrowRight' && playerX < MAP_WIDTH - 1 && map[playerY][playerX + 1] !== 1) {
                playerX += PLAYER_SPEED;
            }

            // Redraw the game world
            draw();
        }

        // Generate a simple random map with some obstacles (1 = obstacle, 0 = free space)
        function generateMap(width, height) {
            let newMap = [];
            for (let y = 0; y < height; y++) {
                newMap[y] = [];
                for (let x = 0; x < width; x++) {
                    // Randomly decide if this tile is an obstacle or not
                    newMap[y][x] = Math.random() < 0.2 ? 1 : 0; // 20% chance for obstacle
                }
            }
            return newMap;
        }

        // Initialize the game
        function initGame() {
            draw();
        }

        // Start the game
        initGame();
    </script>
</body>
</html>
