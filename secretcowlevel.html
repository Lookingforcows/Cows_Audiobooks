<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the Cow Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            color: #fff;
            overflow: hidden; /* Prevent overflow when moving around */
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(20, 30px); /* Larger grid size */
            grid-template-rows: repeat(20, 30px); /* Larger grid size */
            gap: 2px;
            background-color: #1a1a1a;
            position: relative;
            overflow: hidden;
        }

        .game-cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            height: 30px;
            width: 30px;
            border: 1px solid #444;
            background-color: #333;
        }

        .milk-glow {
            color: yellow;
            font-size: 20px;
            transition: 0.3s;
        }

        .hidden {
            background-color: #1a1a1a;
        }

        .tree {
            background-color: green;
        }

        /* Player and cow icons */
        .player {
            font-size: 24px;
        }

        /* Responsive Styles for Mobile */
        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(12, 30px);
                grid-template-rows: repeat(12, 30px);
                width: 360px;
                height: 360px;
            }

            .game-cell {
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                grid-template-columns: repeat(8, 30px);
                grid-template-rows: repeat(8, 30px);
                width: 240px;
                height: 240px;
            }

            .game-cell {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container"></div>

    <script>
        const gridSize = 20; // 20x20 grid
        const player = { x: 0, y: 0 }; // Starting position
        let cow = { x: -1, y: -1 }; // Cow will be hidden initially
        const milkPositions = [];
        let playerVisible = true; // Visibility flag for the player

        const gameContainer = document.querySelector('.game-container');
        let cells;

        // Initialize the game grid
        function createGrid() {
            for (let i = 0; i < gridSize * gridSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('game-cell');
                gameContainer.appendChild(cell);
            }
            cells = document.querySelectorAll('.game-cell');
        }

        // Place trees, milk cartons, and other game elements
        function placeGameElements() {
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = 'ðŸ‘©â€ðŸŒ¾'; // Player emoji

            // Randomly place milk cartons
            milkPositions.length = 0;
            for (let i = 0; i < 5; i++) { // 5 milk cartons
                let randomX = Math.floor(Math.random() * gridSize);
                let randomY = Math.floor(Math.random() * gridSize);

                const cell = cells[randomY * gridSize + randomX];
                if (cell.textContent === '' && Math.abs(player.x - randomX) > 2 && Math.abs(player.y - randomY) > 2) {
                    cell.textContent = 'ðŸ¥›'; // Milk carton emoji
                    milkPositions.push({ x: randomX, y: randomY });
                }
            }

            // Place a cow (hidden initially)
            cow = { x: Math.floor(Math.random() * gridSize), y: Math.floor(Math.random() * gridSize) };
        }

        // Glow the milk cartons if the cow is nearby
        function checkMilkGlow() {
            const playerCell = cells[player.y * gridSize + player.x];
            milkPositions.forEach((milk) => {
                const milkCell = cells[milk.y * gridSize + milk.x];
                if (Math.abs(milk.x - cow.x) <= 2 && Math.abs(milk.y - cow.y) <= 2) {
                    milkCell.classList.add('milk-glow');
                } else {
                    milkCell.classList.remove('milk-glow');
                }
            });
        }

        // Move the player based on keyboard input
        function movePlayer(event) {
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = ''; // Remove player from old position

            if (event.key === 'ArrowUp' && player.y > 0) player.y--;
            if (event.key === 'ArrowDown' && player.y < gridSize - 1) player.y++;
            if (event.key === 'ArrowLeft' && player.x > 0) player.x--;
            if (event.key === 'ArrowRight' && player.x < gridSize - 1) player.x++;

            placeGameElements(); // Re-render the player and other elements
            checkMilkGlow(); // Check if milk cartons should glow

            if (player.x === cow.x && player.y === cow.y) {
                alert('You found the cow! ðŸŽ‰');
                resetGame();
            }
        }

        // Reset the game after finding the cow
        function resetGame() {
            player.x = 0;
            player.y = 0;
            placeGameElements();
        }

        // Start the game
        function startGame() {
            createGrid();
            placeGameElements();
            document.addEventListener('keydown', movePlayer);
        }

        // Start the game when the page loads
        startGame();
    </script>
</body>
</html>
