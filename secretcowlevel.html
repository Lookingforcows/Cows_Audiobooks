<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the Cow Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            color: #fff;
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(10, 50px); /* Default to 10x10 grid */
            grid-template-rows: repeat(10, 50px); /* Default cell size */
            gap: 2px;
            background-color: #1a1a1a;
        }

        .game-cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            height: 50px;
            width: 50px;
            border: 1px solid #444;
            background-color: #333;
        }

        .milk-glow {
            color: yellow;
            font-size: 25px;
            transition: 0.3s;
        }

        .hidden {
            background-color: #1a1a1a;
        }

        .tree {
            background-color: green;
        }

        /* Responsive Styles for Mobile */
        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(6, 40px); /* Reduce to 6x6 grid */
                grid-template-rows: repeat(6, 40px); /* Smaller grid for mobile */
                width: 250px; /* Adjust width */
                height: 250px; /* Adjust height */
            }

            .game-cell {
                font-size: 25px; /* Reduce font size for mobile */
                height: 40px;
                width: 40px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                grid-template-columns: repeat(5, 35px); /* Reduce to 5x5 grid for very small screens */
                grid-template-rows: repeat(5, 35px); /* Smaller grid */
                width: 200px;
                height: 200px;
            }

            .game-cell {
                font-size: 20px; /* Even smaller font size for tiny screens */
                height: 35px;
                width: 35px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container"></div>

    <script>
        // Game Variables
        const gridSize = 10;
        let playerPosition = { x: 0, y: 0 };
        let cowPosition = { x: 5, y: 5 };
        let milkPositions = [];

        // Elements
        const gameContainer = document.querySelector('.game-container');

        // Initialize the grid
        function createGrid() {
            for (let i = 0; i < gridSize * gridSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('game-cell', 'hidden');
                gameContainer.appendChild(cell);
            }
        }

        // Place the trees, player, and cow in the grid
        function placeGameElements() {
            const cells = document.querySelectorAll('.game-cell');

            // Place Trees
            cells.forEach((cell, index) => {
                if (Math.random() < 0.2) { // 20% chance to have a tree
                    cell.textContent = '🌳';
                    cell.classList.add('tree');
                }
            });

            // Place the player
            const playerCell = cells[playerPosition.y * gridSize + playerPosition.x];
            playerCell.textContent = '👩‍🌾';

            // Place the cow
            const cowCell = cells[cowPosition.y * gridSize + cowPosition.x];
            cowCell.textContent = '🐄';

            // Randomly place milk cartons and make them glow if the cow is nearby
            placeMilkCartons(cells);
        }

        // Randomly place milk cartons around the grid
        function placeMilkCartons(cells) {
            milkPositions = [];
            for (let i = 0; i < 5; i++) { // 5 milk cartons
                let randomX = Math.floor(Math.random() * gridSize);
                let randomY = Math.floor(Math.random() * gridSize);

                if (cells[randomY * gridSize + randomX].textContent === '🌳') continue; // Don't place milk on trees

                cells[randomY * gridSize + randomX].textContent = '🥛';
                milkPositions.push({ x: randomX, y: randomY });
            }
        }

        // Check if the milk carton glows when the cow is near
        function checkMilkGlow() {
            const cells = document.querySelectorAll('.game-cell');
            milkPositions.forEach((milk) => {
                if (Math.abs(milk.x - cowPosition.x) <= 1 && Math.abs(milk.y - cowPosition.y) <= 1) {
                    const milkCell = cells[milk.y * gridSize + milk.x];
                    milkCell.classList.add('milk-glow');
                }
            });
        }

        // Move the cow randomly
        function moveCow() {
            const directions = [
                { x: 1, y: 0 }, { x: -1, y: 0 },
                { x: 0, y: 1 }, { x: 0, y: -1 }
            ];
            const randomDirection = directions[Math.floor(Math.random() * directions.length)];
            cowPosition.x = (cowPosition.x + randomDirection.x + gridSize) % gridSize;
            cowPosition.y = (cowPosition.y + randomDirection.y + gridSize) % gridSize;
            placeGameElements(); // Re-render the grid with new cow position
        }

        // Move the player based on keyboard input
        function movePlayer(event) {
            const cells = document.querySelectorAll('.game-cell');
            const playerCell = cells[playerPosition.y * gridSize + playerPosition.x];
            playerCell.textContent = '';

            if (event.key === 'ArrowUp' && playerPosition.y > 0) playerPosition.y--;
            if (event.key === 'ArrowDown' && playerPosition.y < gridSize - 1) playerPosition.y++;
            if (event.key === 'ArrowLeft' && playerPosition.x > 0) playerPosition.x--;
            if (event.key === 'ArrowRight' && playerPosition.x < gridSize - 1) playerPosition.x++;

            placeGameElements();
            checkMilkGlow();
        }

        // Start the game
        function startGame() {
            createGrid();
            placeGameElements();
            setInterval(moveCow, 1000); // Move the cow every second
        }

        // Event listener for player movement
        document.addEventListener('keydown', movePlayer);

        // Start the game
        startGame();
    </script>
</body>
</html>
