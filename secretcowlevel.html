<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Cow Level</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            overflow: hidden;
        }

        #gameArea {
            width: 100vw;
            height: 100vh;
            position: relative;
            background-color: #87CEEB; /* Light blue for sky */
            border: 2px solid #000;
        }

        #avatar {
            font-size: 50px;
            position: absolute;
            bottom: 10px;
            left: 10px;
            transition: all 0.1s ease-in-out;
        }

        .cow {
            font-size: 40px;
            position: absolute;
            transition: all 0.1s ease-in-out;
        }

        #chatArea {
            position: absolute;
            bottom: 10px;
            left: 70px;
        }

        #chatInput {
            padding: 10px;
            font-size: 16px;
            width: 200px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-database.js"></script>
    <script>
        // Firebase configuration (replace with your actual Firebase config)
       const firebaseConfig = {
  apiKey: "AIzaSyDZKbH-wNcdsh2z1Z9Yk2TZP3KHCuZXEKc",
  authDomain: "secretcowlevel-1f14d.firebaseapp.com",
  projectId: "secretcowlevel-1f14d",
  storageBucket: "secretcowlevel-1f14d.firebasestorage.app",
  messagingSenderId: "794296773264",
  appId: "1:794296773264:web:c54181a30505a9a1e20615"
};
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        let avatar = document.getElementById("avatar");
        let chatInput = document.getElementById("chatInput");
        let gameArea = document.getElementById("gameArea");
        let chatArea = document.getElementById("chatArea");

        // Initial avatar position
        let avatarPosition = { x: 10, y: 10 };

        // Listen for arrow key movements to move the avatar
        document.addEventListener("keydown", function (e) {
            if (e.key === "ArrowUp") {
                avatarPosition.y -= 10;
            } else if (e.key === "ArrowDown") {
                avatarPosition.y += 10;
            } else if (e.key === "ArrowLeft") {
                avatarPosition.x -= 10;
            } else if (e.key === "ArrowRight") {
                avatarPosition.x += 10;
            }

            // Update avatar's position
            avatar.style.left = avatarPosition.x + "px";
            avatar.style.bottom = avatarPosition.y + "px";
        });

        // Simple chat functionality
        chatInput.addEventListener("keydown", function (e) {
            if (e.key === "Enter" && chatInput.value !== "") {
                let message = chatInput.value;
                chatInput.value = ""; // Clear input after sending message

                // Write message to Firebase
                database.ref('chat').push().set({
                    message: message,
                    avatarPosition: avatarPosition
                });
            }
        });

        // Listen for new messages from Firebase and update the chat area
        database.ref('chat').on('child_added', function(snapshot) {
            let messageData = snapshot.val();
            let messageElement = document.createElement("div");
            messageElement.innerText = messageData.message;

            // Optionally, you can add player position info here
            messageElement.style.position = "absolute";
            messageElement.style.left = (messageData.avatarPosition.x + 70) + "px"; // To avoid overlap with avatar
            messageElement.style.bottom = (messageData.avatarPosition.y + 10) + "px"; // Adjust as needed

            chatArea.appendChild(messageElement);
        });
    </script>
</head>
<body>
    <div id="gameArea">
        <!-- Avatar using emoji üêÑ (cow) -->
        <div id="avatar">üêÑ</div>

        <!-- Cow emojis scattered in the game area -->
        <div class="cow" style="top: 150px; left: 200px;">üêÑ</div>
        <div class="cow" style="top: 300px; left: 400px;">üêÑ</div>
        <div class="cow" style="top: 500px; left: 100px;">üêÑ</div>

        <!-- Chat box area -->
        <div id="chatArea">
            <input type="text" id="chatInput" placeholder="Say something..." />
        </div>
    </div>
</body>
</html>
