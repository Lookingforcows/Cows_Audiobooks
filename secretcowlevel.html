<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the Cow Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            color: #fff;
            overflow: hidden;
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(20, 30px); /* Adjust grid size */
            grid-template-rows: repeat(20, 30px); /* Adjust grid size */
            gap: 2px;
            background-color: #1a1a1a;
            position: relative;
            width: 620px; /* Fixed width based on 20x30 grid */
            height: 620px; /* Fixed height based on 20x30 grid */
        }

        .game-cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            height: 30px;
            width: 30px;
            border: 1px solid #444;
            background-color: #333;
        }

        .milk-glow {
            color: yellow;
            font-size: 20px;
            transition: 0.3s;
        }

        .hidden {
            background-color: #1a1a1a;
        }

        .tree {
            background-color: green;
        }

        .flower {
            font-size: 18px;
        }

        /* Player and cow icons */
        .player {
            font-size: 24px;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(15, 30px);
                grid-template-rows: repeat(15, 30px);
                width: 450px;
                height: 450px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                grid-template-columns: repeat(10, 30px);
                grid-template-rows: repeat(10, 30px);
                width: 300px;
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container"></div>

    <script>
        const gridSize = 20; // Fixed 20x20 grid (Zelda-style)
        const player = { x: 0, y: 0 }; // Starting position of the player
        const milkPositions = [];
        const flowerPositions = [];
        const treePositions = [];
        let cow = { x: 0, y: 0 }; // Cow position (fixed, set at start)
        const gameContainer = document.querySelector('.game-container');
        let cells;

        // Initialize the game grid
        function createGrid() {
            for (let i = 0; i < gridSize * gridSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('game-cell');
                gameContainer.appendChild(cell);
            }
            cells = document.querySelectorAll('.game-cell');
        }

        // Pre-set map with elements (trees, flowers, milk cartons, and cow)
        function placeGameElements() {
            // Place trees (fixed, non-random)
            for (let i = 0; i < 50; i++) { // 50 trees
                const randomX = Math.floor(Math.random() * gridSize);
                const randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🌳'; // Tree emoji
                    treePositions.push({ x: randomX, y: randomY });
                }
            }

            // Place flowers (fixed, non-random)
            for (let i = 0; i < 30; i++) { // 30 flowers
                const randomX = Math.floor(Math.random() * gridSize);
                const randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🌸'; // Flower emoji
                    flowerPositions.push({ x: randomX, y: randomY });
                }
            }

            // Place milk cartons (fixed, non-random)
            for (let i = 0; i < 5; i++) { // 5 milk cartons
                const randomX = Math.floor(Math.random() * gridSize);
                const randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🥛'; // Milk carton emoji
                    milkPositions.push({ x: randomX, y: randomY });
                }
            }

            // Place the cow (fixed, non-random)
            cow = { x: Math.floor(Math.random() * gridSize), y: Math.floor(Math.random() * gridSize) };
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = '👩‍🌾'; // Player emoji

            const cowCell = cells[cow.y * gridSize + cow.x];
            cowCell.textContent = '🐄'; // Cow emoji

            checkMilkGlow(); // Check if milk cartons should glow
        }

        // Glow the milk cartons if the cow is nearby
        function checkMilkGlow() {
            milkPositions.forEach((milk) => {
                const milkCell = cells[milk.y * gridSize + milk.x];
                if (Math.abs(milk.x - cow.x) <= 2 && Math.abs(milk.y - cow.y) <= 2) {
                    milkCell.classList.add('milk-glow');
                } else {
                    milkCell.classList.remove('milk-glow');
                }
            });
        }

        // Move the player based on keyboard input
        function movePlayer(event) {
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = ''; // Clear old position

            if (event.key === 'ArrowUp' && player.y > 0) player.y--;
            if (event.key === 'ArrowDown' && player.y < gridSize - 1) player.y++;
            if (event.key === 'ArrowLeft' && player.x > 0) player.x--;
            if (event.key === 'ArrowRight' && player.x < gridSize - 1) player.x++;

            placeGameElements(); // Re-render the game elements
            checkMilkGlow(); // Check if milk cartons should glow

            // Check if the player has found the cow
            if (player.x === cow.x && player.y === cow.y) {
                alert("You found the cow! 🐄");
            }
        }

        // Start the game
        function startGame() {
            createGrid();
            placeGameElements();
        }

        // Event listener for player movement
        document.addEventListener('keydown', movePlayer);

        startGame();
    </script>
</body>
</html>
