<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-scale, initial-scale=1.0">
    <title>Find the Cow Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            color: #fff;
            overflow: hidden; /* Prevent overflow */
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(30, 30px); /* Large 30x30 grid */
            grid-template-rows: repeat(30, 30px); /* Large 30x30 grid */
            gap: 2px;
            background-color: #1a1a1a;
            position: relative;
        }

        .game-cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            height: 30px;
            width: 30px;
            border: 1px solid #444;
            background-color: #333;
        }

        .milk-glow {
            color: yellow;
            font-size: 20px;
            transition: 0.3s;
        }

        .hidden {
            background-color: #1a1a1a;
        }

        .tree {
            background-color: green;
        }

        .flower {
            font-size: 18px;
        }

        /* Player and cow icons */
        .player {
            font-size: 24px;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(15, 30px);
                grid-template-rows: repeat(15, 30px);
                width: 450px;
                height: 450px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                grid-template-columns: repeat(8, 30px);
                grid-template-rows: repeat(8, 30px);
                width: 240px;
                height: 240px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container"></div>

    <script>
        const gridSize = 30; // 30x30 grid for large exploration
        const player = { x: 0, y: 0 }; // Starting position of the player
        let cow = { x: -1, y: -1 }; // Cow position (hidden initially)
        const milkPositions = [];
        const flowerPositions = [];
        const trees = [];
        const gameContainer = document.querySelector('.game-container');
        let cells;

        // Initialize the game grid
        function createGrid() {
            for (let i = 0; i < gridSize * gridSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('game-cell');
                gameContainer.appendChild(cell);
            }
            cells = document.querySelectorAll('.game-cell');
        }

        // Place trees, flowers, player, cow, and milk cartons on the grid
        function placeGameElements() {
            // Place trees randomly
            trees.length = 0;
            for (let i = 0; i < 50; i++) { // 50 trees in the world
                let randomX = Math.floor(Math.random() * gridSize);
                let randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🌳'; // Tree emoji
                    trees.push({ x: randomX, y: randomY });
                }
            }

            // Place flowers randomly
            flowerPositions.length = 0;
            for (let i = 0; i < 20; i++) { // 20 flowers in the world
                let randomX = Math.floor(Math.random() * gridSize);
                let randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🌸'; // Flower emoji
                    flowerPositions.push({ x: randomX, y: randomY });
                }
            }

            // Place milk cartons randomly
            milkPositions.length = 0;
            for (let i = 0; i < 5; i++) { // 5 milk cartons
                let randomX = Math.floor(Math.random() * gridSize);
                let randomY = Math.floor(Math.random() * gridSize);
                const index = randomY * gridSize + randomX;
                if (!cells[index].textContent) {
                    cells[index].textContent = '🥛'; // Milk carton emoji
                    milkPositions.push({ x: randomX, y: randomY });
                }
            }

            // Place the cow at a random position
            cow = { x: Math.floor(Math.random() * gridSize), y: Math.floor(Math.random() * gridSize) };
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = '👩‍🌾'; // Player emoji

            checkMilkGlow();
        }

        // Glow the milk cartons if the cow is nearby
        function checkMilkGlow() {
            const playerCell = cells[player.y * gridSize + player.x];
            milkPositions.forEach((milk) => {
                const milkCell = cells[milk.y * gridSize + milk.x];
                if (Math.abs(milk.x - cow.x) <= 2 && Math.abs(milk.y - cow.y) <= 2) {
                    milkCell.classList.add('milk-glow');
                } else {
                    milkCell.classList.remove('milk-glow');
                }
            });
        }

        // Move the player based on keyboard input
        function movePlayer(event) {
            const playerCell = cells[player.y * gridSize + player.x];
            playerCell.textContent = ''; // Clear old position

            if (event.key === 'ArrowUp' && player.y > 0) player.y--;
            if (event.key === 'ArrowDown' && player.y < gridSize - 1) player.y++;
            if (event.key === 'ArrowLeft' && player.x > 0) player.x--;
            if (event.key === 'ArrowRight' && player.x < gridSize - 1) player.x++;

            placeGameElements(); // Re-render the game elements
            checkMilkGlow(); // Check if milk cartons should glow

            // Check if the player has found the cow
            if (player.x === cow.x && player.y === cow.y) {
                alert('You found the cow! 🎉');
                resetGame();
            }
        }

        // Reset the game after finding the cow
        function resetGame() {
            player.x = 0;
            player.y = 0;
            placeGameElements();
        }

        // Start the game
        function startGame() {
            createGrid();
            placeGameElements();
            document.addEventListener('keydown', movePlayer);
        }

        // Start the game when the page loads
        startGame();
    </script>
</body>
</html>
